<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - main</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <link
         href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 14px;
            scroll-behavior: smooth;
         }

         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
            line-height: 1.6;
         }

         .sidebar {
            width: 12%;
            background: rgba(59, 56, 56, 0.15);
            padding: 1.5rem;
            box-shadow: 2px 0 8px rgba(0, 0, 0, 0.4);
            overflow-y: auto;
            position: sticky;
            top: 0;
            height: 100vh;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
         }

         .sidebar::-webkit-scrollbar {
            width: 6px;
         }

         .sidebar::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
         }

         .sidebar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
         }

         main {
            flex: 1;
            padding: 2rem;
            margin: 0;
            max-width: calc(100% - 280px);
            background: linear-gradient(
               135deg,
               rgba(59, 56, 56, 0.05) 0%,
               rgba(0, 0, 0, 0.1) 100%
            );
         }

         .nav-links {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
         }

         .nav-links a {
            color: #ddd;
            text-decoration: none;
            padding: 0.5rem;
            border-radius: 4px;
            transition: all 0.2s ease;
         }

         .nav-links a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
         }

         h1 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #fff 0%, #ddd 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
         }

         h2 {
            font-size: 1.4rem;
            margin: 1rem 0 0.5rem;
            color: #f0f0f0;
         }

         h3 {
            font-size: 1.2rem;
            margin: 0.8rem 0 0.3rem;
            color: #e0e0e0;
            position: relative;
         }

         .sidebar h2,
         .sidebar h3 {
            font-size: 1rem;
            margin: 0.5rem 0 0.3rem;
            color: #ccc;
         }

         .anchor {
            color: rgba(255, 255, 255, 0.3);
            text-decoration: none;
            font-weight: normal;
            margin-left: 0.5rem;
            opacity: 0;
            transition: opacity 0.2s ease;
            font-size: 0.8em;
         }

         h3:hover .anchor,
         .anchor:focus {
            opacity: 1;
         }

         .anchor:hover {
            color: rgba(255, 255, 255, 0.6);
         }

         .symbol-anchor {
            scroll-margin-top: 2rem;
         }

         pre, code {
            white-space: pre;
         }  

         pre[class*="language-"] {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3) !important;
            border-radius: 8px !important;
            margin: 1rem 0 !important;
            padding: 1rem 1.2rem !important;
            font-size: 0.9rem !important;
            overflow-x: auto !important;
         }

         code[class*="language-"] {
            color: #e6e6e6 !important;
            font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace !important;
            white-space: pre-wrap !important;
         }

         pre:not([class*="language-"]) {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #e6e6e6;
            padding: 1rem 1.2rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-size: 0.9rem;
            overflow-x: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
         }

         pre:not([class*="language-"]) code {
            color: #f5f5f5;
            font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
            white-space: pre-wrap;
         }

         .token.comment,
         .token.prolog,
         .token.doctype,
         .token.cdata {
            color: #7c7c7c !important;
         }

         .token.punctuation {
            color: #c9c9c9 !important;
         }

         .token.property,
         .token.tag,
         .token.boolean,
         .token.number,
         .token.constant,
         .token.symbol,
         .token.deleted {
            color: #f2777a !important;
         }

         .token.selector,
         .token.attr-name,
         .token.string,
         .token.char,
         .token.builtin,
         .token.inserted {
            color: #639fc2 !important;
         }

         .token.operator,
         .token.entity,
         .token.url,
         .language-css .token.string,
         .style .token.string {
            color: #66cccc !important;
         }

         .token.atrule,
         .token.attr-value,
         .token.keyword {
            color: #d34343 !important;
         }

         .token.function,
         .token.class-name {
            color: #f99157 !important;
         }

         .token.regex,
         .token.important,
         .token.variable {
            color: #ffcc66 !important;
         }

         p {
            font-size: 15px;
            margin: 1rem 0;
            color: #ddd;
         }

         article {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(59, 56, 56, 0.3);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            transition: all 0.3s ease;
         }

         article:hover {
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5);
            transform: translateY(-2px);
         }

         article:target {
            border-color: rgba(100, 200, 255, 0.5);
            box-shadow: 0 0 0 2px rgba(100, 200, 255, 0.2);
         }

         .hidden {
            display: none !important;
         }

         .filter-section {
            margin-bottom: 1.5rem;
         }

         .filter-section h3 {
            margin-bottom: 0.8rem;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #aaa;
         }

         .filter-toggle label {
            display: flex;
            align-items: center;
            margin-bottom: 0.6rem;
            font-size: 0.85rem;
            color: #bbb;
            cursor: pointer;
            padding: 0.3rem;
            border-radius: 4px;
            transition: background 0.2s ease;
         }

         .filter-toggle label:hover {
            background: rgba(255, 255, 255, 0.05);
         }

         .filter-toggle input {
            margin-right: 0.6rem;
         }

         #searchInput {
            width: 100%;
            margin-bottom: 1.5rem;
            border-radius: 8px !important;
            height: 2.8rem;
            font-size: 0.9rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 0 1rem;
         }

         #searchInput::placeholder {
            color: rgba(255, 255, 255, 0.5);
         }

         #searchInput:focus {
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
         }

         .section-divider {
            height: 1px;
            background: linear-gradient(
               90deg,
               transparent 0%,
               rgba(255, 255, 255, 0.3) 50%,
               transparent 100%
            );
            margin: 1.5rem 0;
         }

         .subpackage-list {
            list-style: none;
            padding: 0;
         }

         .subpackage-list li {
            margin-bottom: 0.4rem;
         }

         .subpackage-list a {
            display: block;
            padding: 0.5rem 0.8rem;
            color: #ccc;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.2s ease;
            font-size: 0.85rem;
         }

         .subpackage-list a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            transform: translateX(4px);
         }

         .empty-state {
            color: rgba(177, 175, 175, 0.6);
            font-style: italic;
            font-size: 0.8rem;
         }

         .badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.1);
            color: #ddd;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 500;
            margin-left: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
         }

         .method-badge {
            background: rgba(100, 200, 255, 0.2);
            color: #87ceeb;
         }

         .const-badge {
            background: rgba(255, 200, 100, 0.2);
            color: #ffd700;
         }

         .var-badge {
            background: rgba(200, 255, 100, 0.2);
            color: #90ee90;
         }

         .type-badge {
            background: rgba(255, 100, 200, 0.2);
            color: #699eff;
         }

         .interface-badge {
            background: rgba(150, 100, 255, 0.2);
            color: #dda0dd;
         }

         .toc {
            position: sticky;
            top: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
         }

         .toc h4 {
            margin: 0 0 0.8rem;
            font-size: 0.9rem;
            color: #aaa;
            text-transform: uppercase;
            letter-spacing: 0.5px;
         }

         .toc ul {
            list-style: none;
            padding: 0;
            margin: 0;
         }

         .toc li {
            margin-bottom: 0.3rem;
         }

         .toc a {
            color: #bbb;
            text-decoration: none;
            font-size: 0.8rem;
            transition: color 0.2s ease;
         }

         .toc a:hover {
            color: #fff;
         }

         .symbol-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.2);
         }

         .symbol-list::-webkit-scrollbar {
            width: 4px;
         }

         .symbol-list::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
         }

         .symbol-list ul {
            list-style: none;
            padding: 0.5rem;
            margin: 0;
         }

         .symbol-list li {
            margin-bottom: 0.2rem;
         }

         .symbol-list a {
            display: block;
            padding: 0.3rem 0.5rem;
            color: #bbb;
            text-decoration: none;
            border-radius: 4px;
            transition: all 0.2s ease;
            font-size: 0.75rem;
         }

         .symbol-list a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
         }

         @media (max-width: 768px) {
            body {
               flex-direction: column;
            }

            .sidebar {
               width: 90%;
               height: auto;
               position: relative;
            }

            main {
               max-width: 100%;
               padding: 1rem;
            }
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <div class="nav-links">
            <a href="index.html" title="Home">⌂</a>
            <span>|</span>
            <a href="#" onclick="history.back()" title="Back">←</a>
         </div>

         <div class="filter-section">
            <h3>Search</h3>
            <input
               type="search"
               id="searchInput"
               placeholder="Search symbols..."
            />
         </div>

         <div class="filter-section">
            <h3>Filters</h3>
            <div class="filter-toggle">
               <label>
                  <input type="checkbox" id="showImports" />
                  Show imports
               </label>
               <label>
                  <input type="checkbox" id="showPrivateFunctions" />
                  Show private functions
               </label>
               <label>
                  <input type="checkbox" id="showPrivateStructs" />
                  Show private structs
               </label>
               <label>
                  <input type="checkbox" id="showPrivateFields" />
                  Show private fields
               </label>
               <label>
                  <input type="checkbox" id="showPrivateGlobals" />
                  Show private globals
               </label>
               <label>
                  <input type="checkbox" id="showPrivateTypes" />
                  Show private types
               </label>
               <label>
                  <input type="checkbox" id="showPrivateInterfaces" />
                  Show private interfaces
               </label>
            </div>
         </div>

         <div class="section-divider"></div>

         <div class="filter-section">
            <h3>Subpackages</h3>
            
            <div class="empty-state">No subpackages</div>
            
         </div>

         
         <div class="section-divider"></div>

         <div class="toc">
            <h4>Quick Navigation</h4>
            <ul>
               
               <li><a href="#globals">Constants & Variables</a></li>
                  
               <li><a href="#structs">Structs</a></li>
                
               <li><a href="#functions">Functions</a></li>
               
            </ul>
         </div>

         <div class="filter-section">
            <h3>All Symbols</h3>
            <div class="symbol-list">
               <ul id="symbolIndex">
               </ul>
            </div>
         </div>
         
      </aside>

      <main>
         <h1>main</h1>
         <div class="section-divider"></div>

         
         <section id="imports">
            <h2>Imports</h2>
            <article class="imports symbol-anchor" id="imports-section" data-name="imports">
               <h3>
                  Imports
                  <a href="#imports-section" class="anchor" title="Link to imports">#</a>
               </h3>
               <pre><code class="language-go">"bytes"
"context"
"flag"
"fmt"
"go/ast"
"go/parser"
"go/printer"
"go/scanner"
"go/token"
"internal/diff"
"io"
"io/fs"
"math/rand"
"os"
"path/filepath"
"runtime"
"runtime/pprof"
"strconv"
"strings"
"cmd/internal/telemetry/counter"
"golang.org/x/sync/semaphore"
"bytes"
"go/ast"
"go/parser"
"go/printer"
"go/token"
"strings"
"fmt"
"go/ast"
"go/parser"
"go/token"
"os"
"reflect"
"strings"
"unicode"
"unicode/utf8"
"go/ast"
"go/token"
"reflect"
</code></pre>
            </article>
         </section>
          
         <section id="globals">
            <h2>Constants & Variables</h2>
            
            <article class="global symbol-anchor" id="allErrors" data-name="allErrors">
               <h3>
                  allErrors 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#allErrors" class="anchor" title="Link to allErrors">#</a>
               </h3>
               
               <pre><code class="language-go">var allErrors = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="callExprType" data-name="callExprType">
               <h3>
                  callExprType 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#callExprType" class="anchor" title="Link to callExprType">#</a>
               </h3>
               
               <p>Values/types for special cases.</p>
               
               <pre><code class="language-go">var callExprType = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="cpuprofile" data-name="cpuprofile">
               <h3>
                  cpuprofile 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#cpuprofile" class="anchor" title="Link to cpuprofile">#</a>
               </h3>
               
               <p>debugging</p>
               
               <pre><code class="language-go">var cpuprofile = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="doDiff" data-name="doDiff">
               <h3>
                  doDiff 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#doDiff" class="anchor" title="Link to doDiff">#</a>
               </h3>
               
               <pre><code class="language-go">var doDiff = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="exclusive" data-name="exclusive">
               <h3>
                  exclusive 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#exclusive" class="anchor" title="Link to exclusive">#</a>
               </h3>
               
               <p>exclusive is a weight that can be passed to a sequencer to cause
a task to be executed without any other concurrent tasks.</p>
               
               <pre><code class="language-go">const exclusive = *ast.UnaryExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="fdSem" data-name="fdSem">
               <h3>
                  fdSem 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#fdSem" class="anchor" title="Link to fdSem">#</a>
               </h3>
               
               <p>fdSem guards the number of concurrently-open file descriptors.
For now, this is arbitrarily set to 200, based on the observation that many
platforms default to a kernel limit of 256. Ideally, perhaps we should derive
it from rlimit on platforms that support that system call.
File descriptors opened from outside of this package are not tracked,
so this limit may be approximate.</p>
               
               <pre><code class="language-go">var fdSem = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="identType" data-name="identType">
               <h3>
                  identType 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#identType" class="anchor" title="Link to identType">#</a>
               </h3>
               
               <p>Values/types for special cases.</p>
               
               <pre><code class="language-go">var identType = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="list" data-name="list">
               <h3>
                  list 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#list" class="anchor" title="Link to list">#</a>
               </h3>
               
               <p>main operation modes</p>
               
               <pre><code class="language-go">var list = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="objectPtrNil" data-name="objectPtrNil">
               <h3>
                  objectPtrNil 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#objectPtrNil" class="anchor" title="Link to objectPtrNil">#</a>
               </h3>
               
               <p>Values/types for special cases.</p>
               
               <pre><code class="language-go">var objectPtrNil = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="objectPtrType" data-name="objectPtrType">
               <h3>
                  objectPtrType 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#objectPtrType" class="anchor" title="Link to objectPtrType">#</a>
               </h3>
               
               <p>Values/types for special cases.</p>
               
               <pre><code class="language-go">var objectPtrType = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="parserMode" data-name="parserMode">
               <h3>
                  parserMode 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#parserMode" class="anchor" title="Link to parserMode">#</a>
               </h3>
               
               <pre><code class="language-go">var parserMode parser.Mode</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="positionType" data-name="positionType">
               <h3>
                  positionType 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#positionType" class="anchor" title="Link to positionType">#</a>
               </h3>
               
               <p>Values/types for special cases.</p>
               
               <pre><code class="language-go">var positionType = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="printerMode" data-name="printerMode">
               <h3>
                  printerMode 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#printerMode" class="anchor" title="Link to printerMode">#</a>
               </h3>
               
               <p>Keep these in sync with go/format/format.go.</p>
               
               <pre><code class="language-go">const printerMode = *ast.BinaryExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="printerNormalizeNumbers" data-name="printerNormalizeNumbers">
               <h3>
                  printerNormalizeNumbers 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#printerNormalizeNumbers" class="anchor" title="Link to printerNormalizeNumbers">#</a>
               </h3>
               
               <p>printerNormalizeNumbers means to canonicalize number literal prefixes
and exponents while printing. See https://golang.org/doc/go1.13#gofmt.
This value is defined in go/printer specifically for go/format and cmd/gofmt.</p>
               
               <pre><code class="language-go">const printerNormalizeNumbers = *ast.BinaryExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="rewrite" data-name="rewrite">
               <h3>
                  rewrite 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#rewrite" class="anchor" title="Link to rewrite">#</a>
               </h3>
               
               <pre><code class="language-go">var rewrite func(*token.FileSet, *ast.File) *ast.File</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="rewriteRule" data-name="rewriteRule">
               <h3>
                  rewriteRule 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#rewriteRule" class="anchor" title="Link to rewriteRule">#</a>
               </h3>
               
               <pre><code class="language-go">var rewriteRule = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="scopePtrNil" data-name="scopePtrNil">
               <h3>
                  scopePtrNil 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#scopePtrNil" class="anchor" title="Link to scopePtrNil">#</a>
               </h3>
               
               <p>Values/types for special cases.</p>
               
               <pre><code class="language-go">var scopePtrNil = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="scopePtrType" data-name="scopePtrType">
               <h3>
                  scopePtrType 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#scopePtrType" class="anchor" title="Link to scopePtrType">#</a>
               </h3>
               
               <p>Values/types for special cases.</p>
               
               <pre><code class="language-go">var scopePtrType = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="simplifyAST" data-name="simplifyAST">
               <h3>
                  simplifyAST 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#simplifyAST" class="anchor" title="Link to simplifyAST">#</a>
               </h3>
               
               <pre><code class="language-go">var simplifyAST = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="tabWidth" data-name="tabWidth">
               <h3>
                  tabWidth 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#tabWidth" class="anchor" title="Link to tabWidth">#</a>
               </h3>
               
               <p>Keep these in sync with go/format/format.go.</p>
               
               <pre><code class="language-go">const tabWidth = 8</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="write" data-name="write">
               <h3>
                  write 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#write" class="anchor" title="Link to write">#</a>
               </h3>
               
               <pre><code class="language-go">var write = *ast.CallExpr</code></pre>
            </article>
            
         </section>
            
         <section id="structs">
            <h2>Structs</h2>
            
            <article class="struct symbol-anchor" id="reporter" data-name="reporter">
               <h3>
                  reporter
                  <span class="badge">struct</span>
                  <a href="#reporter" class="anchor" title="Link to reporter">#</a>
               </h3>
               
               <p>A reporter reports output, warnings, and errors.</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type reporter struct {
prev <-chan *reporterState
state *reporterState
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="reporterState" data-name="reporterState">
               <h3>
                  reporterState
                  <span class="badge">struct</span>
                  <a href="#reporterState" class="anchor" title="Link to reporterState">#</a>
               </h3>
               
               <p>reporterState carries the state of a reporter instance.
Only one reporter at a time may have access to a reporterState.</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type reporterState struct {
out io.Writer
err io.Writer
exitCode int
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="sequencer" data-name="sequencer">
               <h3>
                  sequencer
                  <span class="badge">struct</span>
                  <a href="#sequencer" class="anchor" title="Link to sequencer">#</a>
               </h3>
               
               <p>A sequencer performs concurrent tasks that may write output, but emits that
output in a deterministic order.</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type sequencer struct {
maxWeight int64
sem *semaphore.Weighted
prev <-chan *reporterState
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="simplifier" data-name="simplifier">
               <h3>
                  simplifier
                  <span class="badge">struct</span>
                  <a href="#simplifier" class="anchor" title="Link to simplifier">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type simplifier struct {

}</code></pre>
            </article>
            
         </section>
          
         <section id="functions">
            <h2>Functions</h2>
            
            <article class="function symbol-anchor" id="Add" data-name="Add">
               <h3>
                  Add 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Add" class="anchor" title="Link to Add">#</a>
               </h3>
               
               <p>Add blocks until the sequencer has enough weight to spare, then adds f as a
task to be executed concurrently.
If the weight is either negative or larger than the sequencer's maximum
weight, Add blocks until all other tasks have completed, then the task
executes exclusively (blocking all other calls to Add until it completes).
f may run concurrently in a goroutine, but its output to the passed-in
reporter will be sequential relative to the other tasks in the sequencer.
If f invokes a method on the reporter, execution of that method may block
until the previous task has finished. (To maximize concurrency, f should
avoid invoking the reporter until it has finished any parallelizable work.)
If f returns a non-nil error, that error will be reported after f's output
(if any) and will cause a nonzero final exit code.</p>
               
               <pre><code class="language-go">func (s *sequencer) Add(weight int64, f func(*reporter) error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="AddReport" data-name="AddReport">
               <h3>
                  AddReport 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#AddReport" class="anchor" title="Link to AddReport">#</a>
               </h3>
               
               <p>AddReport prints an error to s after the output of any previously-added
tasks, causing the final exit code to be nonzero.</p>
               
               <pre><code class="language-go">func (s *sequencer) AddReport(err error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="ExitCode" data-name="ExitCode">
               <h3>
                  ExitCode 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#ExitCode" class="anchor" title="Link to ExitCode">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *reporter) ExitCode() int</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="GetExitCode" data-name="GetExitCode">
               <h3>
                  GetExitCode 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#GetExitCode" class="anchor" title="Link to GetExitCode">#</a>
               </h3>
               
               <p>GetExitCode waits for all previously-added tasks to complete, then returns an
exit code for the sequence suitable for passing to os.Exit.</p>
               
               <pre><code class="language-go">func (s *sequencer) GetExitCode() int</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Report" data-name="Report">
               <h3>
                  Report 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Report" class="anchor" title="Link to Report">#</a>
               </h3>
               
               <p>Report emits a non-nil error to the reporter's error stream,
changing its exit code to a nonzero value.</p>
               
               <pre><code class="language-go">func (r *reporter) Report(err error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Visit" data-name="Visit">
               <h3>
                  Visit 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Visit" class="anchor" title="Link to Visit">#</a>
               </h3>
               
               <pre><code class="language-go">func (s simplifier) Visit(node ast.Node) ast.Visitor</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Warnf" data-name="Warnf">
               <h3>
                  Warnf 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Warnf" class="anchor" title="Link to Warnf">#</a>
               </h3>
               
               <p>Warnf emits a warning message to the reporter's error stream,
without changing its exit code.</p>
               
               <pre><code class="language-go">func (r *reporter) Warnf(format string, args ...any)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Write" data-name="Write">
               <h3>
                  Write 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Write" class="anchor" title="Link to Write">#</a>
               </h3>
               
               <p>Write emits a slice to the reporter's output stream.
Any error is returned to the caller, and does not otherwise affect the
reporter's exit code.</p>
               
               <pre><code class="language-go">func (r *reporter) Write(p []byte) (int, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="apply" data-name="apply">
               <h3>
                  apply 
                  <span class="badge">function</span>
                  
                  <a href="#apply" class="anchor" title="Link to apply">#</a>
               </h3>
               
               <p>apply replaces each AST field x in val with f(x), returning val.
To avoid extra conversions, f operates on the reflect.Value form.</p>
               
               <pre><code class="language-go">func apply(f func(reflect.Value) reflect.Value, val reflect.Value) reflect.Value</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="backupFile" data-name="backupFile">
               <h3>
                  backupFile 
                  <span class="badge">function</span>
                  
                  <a href="#backupFile" class="anchor" title="Link to backupFile">#</a>
               </h3>
               
               <p>backupFile writes data to a new file named filename<number> with permissions perm,
with <number> randomly chosen such that the file name is unique. backupFile returns
the chosen file name.</p>
               
               <pre><code class="language-go">func backupFile(filename string, data []byte, perm fs.FileMode) (string, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="fileWeight" data-name="fileWeight">
               <h3>
                  fileWeight 
                  <span class="badge">function</span>
                  
                  <a href="#fileWeight" class="anchor" title="Link to fileWeight">#</a>
               </h3>
               
               <pre><code class="language-go">func fileWeight(path string, info fs.FileInfo) int64</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="format" data-name="format">
               <h3>
                  format 
                  <span class="badge">function</span>
                  
                  <a href="#format" class="anchor" title="Link to format">#</a>
               </h3>
               
               <p>format formats the given package file originally obtained from src
and adjusts the result based on the original source via sourceAdj
and indentAdj.</p>
               
               <pre><code class="language-go">func format(fset *token.FileSet, file *ast.File, sourceAdj func(src []byte, indent int) []byte, indentAdj int, src []byte, cfg printer.Config) ([]byte, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="getState" data-name="getState">
               <h3>
                  getState 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#getState" class="anchor" title="Link to getState">#</a>
               </h3>
               
               <p>getState blocks until any prior reporters are finished with the reporter
state, then returns the state for manipulation.</p>
               
               <pre><code class="language-go">func (r *reporter) getState() *reporterState</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="gofmtMain" data-name="gofmtMain">
               <h3>
                  gofmtMain 
                  <span class="badge">function</span>
                  
                  <a href="#gofmtMain" class="anchor" title="Link to gofmtMain">#</a>
               </h3>
               
               <pre><code class="language-go">func gofmtMain(s *sequencer)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="initParserMode" data-name="initParserMode">
               <h3>
                  initParserMode 
                  <span class="badge">function</span>
                  
                  <a href="#initParserMode" class="anchor" title="Link to initParserMode">#</a>
               </h3>
               
               <pre><code class="language-go">func initParserMode()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="initRewrite" data-name="initRewrite">
               <h3>
                  initRewrite 
                  <span class="badge">function</span>
                  
                  <a href="#initRewrite" class="anchor" title="Link to initRewrite">#</a>
               </h3>
               
               <pre><code class="language-go">func initRewrite()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="isBlank" data-name="isBlank">
               <h3>
                  isBlank 
                  <span class="badge">function</span>
                  
                  <a href="#isBlank" class="anchor" title="Link to isBlank">#</a>
               </h3>
               
               <pre><code class="language-go">func isBlank(x ast.Expr) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="isEmpty" data-name="isEmpty">
               <h3>
                  isEmpty 
                  <span class="badge">function</span>
                  
                  <a href="#isEmpty" class="anchor" title="Link to isEmpty">#</a>
               </h3>
               
               <pre><code class="language-go">func isEmpty(f *ast.File, g *ast.GenDecl) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="isGoFile" data-name="isGoFile">
               <h3>
                  isGoFile 
                  <span class="badge">function</span>
                  
                  <a href="#isGoFile" class="anchor" title="Link to isGoFile">#</a>
               </h3>
               
               <pre><code class="language-go">func isGoFile(f fs.DirEntry) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="isSpace" data-name="isSpace">
               <h3>
                  isSpace 
                  <span class="badge">function</span>
                  
                  <a href="#isSpace" class="anchor" title="Link to isSpace">#</a>
               </h3>
               
               <p>isSpace reports whether the byte is a space character.
isSpace defines a space as being among the following bytes: ' ', '\t', '\n' and '\r'.</p>
               
               <pre><code class="language-go">func isSpace(b byte) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="isWildcard" data-name="isWildcard">
               <h3>
                  isWildcard 
                  <span class="badge">function</span>
                  
                  <a href="#isWildcard" class="anchor" title="Link to isWildcard">#</a>
               </h3>
               
               <pre><code class="language-go">func isWildcard(s string) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="main" data-name="main">
               <h3>
                  main 
                  <span class="badge">function</span>
                  
                  <a href="#main" class="anchor" title="Link to main">#</a>
               </h3>
               
               <pre><code class="language-go">func main()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="match" data-name="match">
               <h3>
                  match 
                  <span class="badge">function</span>
                  
                  <a href="#match" class="anchor" title="Link to match">#</a>
               </h3>
               
               <p>match reports whether pattern matches val,
recording wildcard submatches in m.
If m == nil, match checks whether pattern == val.</p>
               
               <pre><code class="language-go">func match(m map[string]reflect.Value, pattern reflect.Value, val reflect.Value) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="newSequencer" data-name="newSequencer">
               <h3>
                  newSequencer 
                  <span class="badge">function</span>
                  
                  <a href="#newSequencer" class="anchor" title="Link to newSequencer">#</a>
               </h3>
               
               <p>newSequencer returns a sequencer that allows concurrent tasks up to maxWeight
and writes tasks' output to out and err.</p>
               
               <pre><code class="language-go">func newSequencer(maxWeight int64, out io.Writer, err io.Writer) *sequencer</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="parse" data-name="parse">
               <h3>
                  parse 
                  <span class="badge">function</span>
                  
                  <a href="#parse" class="anchor" title="Link to parse">#</a>
               </h3>
               
               <p>parse parses src, which was read from the named file,
as a Go source file, declaration, or statement list.</p>
               
               <pre><code class="language-go">func parse(fset *token.FileSet, filename string, src []byte, fragmentOk bool) (file *ast.File, sourceAdj func(src []byte, indent int) []byte, indentAdj int, err error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="parseExpr" data-name="parseExpr">
               <h3>
                  parseExpr 
                  <span class="badge">function</span>
                  
                  <a href="#parseExpr" class="anchor" title="Link to parseExpr">#</a>
               </h3>
               
               <p>parseExpr parses s as an expression.
It might make sense to expand this to allow statement patterns,
but there are problems with preserving formatting and also
with what a wildcard for a statement looks like.</p>
               
               <pre><code class="language-go">func parseExpr(s string, what string) ast.Expr</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="processFile" data-name="processFile">
               <h3>
                  processFile 
                  <span class="badge">function</span>
                  
                  <a href="#processFile" class="anchor" title="Link to processFile">#</a>
               </h3>
               
               <p>If info == nil, we are formatting stdin instead of a file.
If in == nil, the source is the contents of the file with the given filename.</p>
               
               <pre><code class="language-go">func processFile(filename string, info fs.FileInfo, in io.Reader, r *reporter) error</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="readFile" data-name="readFile">
               <h3>
                  readFile 
                  <span class="badge">function</span>
                  
                  <a href="#readFile" class="anchor" title="Link to readFile">#</a>
               </h3>
               
               <p>readFile reads the contents of filename, described by info.
If in is non-nil, readFile reads directly from it.
Otherwise, readFile opens and reads the file itself,
with the number of concurrently-open files limited by fdSem.</p>
               
               <pre><code class="language-go">func readFile(filename string, info fs.FileInfo, in io.Reader) ([]byte, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="removeEmptyDeclGroups" data-name="removeEmptyDeclGroups">
               <h3>
                  removeEmptyDeclGroups 
                  <span class="badge">function</span>
                  
                  <a href="#removeEmptyDeclGroups" class="anchor" title="Link to removeEmptyDeclGroups">#</a>
               </h3>
               
               <pre><code class="language-go">func removeEmptyDeclGroups(f *ast.File)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="rewriteFile" data-name="rewriteFile">
               <h3>
                  rewriteFile 
                  <span class="badge">function</span>
                  
                  <a href="#rewriteFile" class="anchor" title="Link to rewriteFile">#</a>
               </h3>
               
               <p>rewriteFile applies the rewrite rule 'pattern -> replace' to an entire file.</p>
               
               <pre><code class="language-go">func rewriteFile(fileSet *token.FileSet, pattern ast.Expr, replace ast.Expr, p *ast.File) *ast.File</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="set" data-name="set">
               <h3>
                  set 
                  <span class="badge">function</span>
                  
                  <a href="#set" class="anchor" title="Link to set">#</a>
               </h3>
               
               <p>set is a wrapper for x.Set(y); it protects the caller from panics if x cannot be changed to y.</p>
               
               <pre><code class="language-go">func set(x reflect.Value, y reflect.Value)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="simplify" data-name="simplify">
               <h3>
                  simplify 
                  <span class="badge">function</span>
                  
                  <a href="#simplify" class="anchor" title="Link to simplify">#</a>
               </h3>
               
               <pre><code class="language-go">func simplify(f *ast.File)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="simplifyLiteral" data-name="simplifyLiteral">
               <h3>
                  simplifyLiteral 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#simplifyLiteral" class="anchor" title="Link to simplifyLiteral">#</a>
               </h3>
               
               <pre><code class="language-go">func (s simplifier) simplifyLiteral(typ reflect.Value, astType ast.Expr, x ast.Expr, px *ast.Expr)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="subst" data-name="subst">
               <h3>
                  subst 
                  <span class="badge">function</span>
                  
                  <a href="#subst" class="anchor" title="Link to subst">#</a>
               </h3>
               
               <p>subst returns a copy of pattern with values from m substituted in place
of wildcards and pos used as the position of tokens from the pattern.
if m == nil, subst returns a copy of pattern and doesn't change the line
number information.</p>
               
               <pre><code class="language-go">func subst(m map[string]reflect.Value, pattern reflect.Value, pos reflect.Value) reflect.Value</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="usage" data-name="usage">
               <h3>
                  usage 
                  <span class="badge">function</span>
                  
                  <a href="#usage" class="anchor" title="Link to usage">#</a>
               </h3>
               
               <pre><code class="language-go">func usage()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="writeFile" data-name="writeFile">
               <h3>
                  writeFile 
                  <span class="badge">function</span>
                  
                  <a href="#writeFile" class="anchor" title="Link to writeFile">#</a>
               </h3>
               
               <p>writeFile updates a file with the new formatted data.</p>
               
               <pre><code class="language-go">func writeFile(filename string, orig []byte, formatted []byte, perm fs.FileMode, size int64) error</code></pre>
            </article>
            
         </section>
         
      </main>

      <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }

         function buildSymbolIndex() {
            const symbolIndex = document.getElementById('symbolIndex');
            if (!symbolIndex) return;

            const symbols = [];
            
            document.querySelectorAll('article[data-name]').forEach(article => {
               const name = article.dataset.name;
               const type = article.className.split(' ')[0]; 
               const isPrivateSymbol = isPrivate(name);
               
               if (name && name !== 'imports') {
                  symbols.push({
                     name,
                     type,
                     element: article,
                     isPrivate: isPrivateSymbol
                  });
               }
            });

            symbols.sort((a, b) => a.name.localeCompare(b.name));
            symbolIndex.innerHTML = '';
            symbols.forEach(symbol => {
               const li = document.createElement('li');
               const a = document.createElement('a');
               a.href = `#${symbol.name}`;
               a.textContent = symbol.name;
               a.title = `${symbol.type}: ${symbol.name}`;
               
               if (symbol.isPrivate) {
                  li.classList.add('private', 'hidden');
               }
               
               li.appendChild(a);
               symbolIndex.appendChild(li);
            });
         }

         document.addEventListener("DOMContentLoaded", () => {
            if (window.Prism) {
               Prism.highlightAll();
            }

            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               imports: document.getElementById("showImports"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
               types: document.getElementById("showPrivateTypes"),
               interfaces: document.getElementById(
                  "showPrivateInterfaces"
               ),
            };

            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });

               if (toggle) {
                  toggle.addEventListener("change", () => {
                     const show = toggle.checked;
                     document
                        .querySelectorAll(`${selector}.private`)
                        .forEach((el) => {
                           el.classList.toggle("hidden", !show);
                        });
                     
                     const symbolIndexItems = document.querySelectorAll('#symbolIndex li.private');
                     symbolIndexItems.forEach(li => {
                        const link = li.querySelector('a');
                        if (link) {
                           const targetId = link.getAttribute('href').substring(1);
                           const targetEl = document.getElementById(targetId);
                           if (targetEl && targetEl.matches(selector)) {
                              li.classList.toggle("hidden", !show);
                           }
                        }
                     });
                  });
               }
            };

            hideInitial("article.imports", toggles.imports);
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            hideInitial("article.type", toggles.types);
            hideInitial("article.interface", toggles.interfaces);

            document.querySelectorAll("article.struct").forEach((article) => {
               const codeBlock = article.querySelector("code.fields-code");
               if (!codeBlock) return;

               const raw = codeBlock.textContent.trim();

               const match = raw.match(/^type\s+\w+\s+struct\s*{(.*)}$/s);
               if (!match) return;

               const fieldsRaw = match[1].trim();
               const fields = fieldsRaw.split("\n").map(line => line.trim()).filter(Boolean);

               const formatted = fields.map(line => `\t${line}`).join("\n");
               const structName = article.dataset.name;

               const finalCode = `type ${structName} struct {\n${formatted}\n}`;

               codeBlock.textContent = finalCode;

               // Apply Prism highlighting again
               if (window.Prism) Prism.highlightElement(codeBlock);

   
               if (toggles.fields) {
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               }
            });

            document
               .querySelectorAll("article.interface")
               .forEach((article) => {
                  const codeBlock = article.querySelector(
                     "code.methods-code"
                  );
                  if (!codeBlock) return;

                  const lines = codeBlock.innerHTML.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch && !trimmed.endsWith("{") && trimmed != "}") {
                           return `<span class="method-line">${line}</span>`;
                        } else {
                           return ``;
                        }

                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class="method-line${
                           isPriv ? " hidden private" : ""
                        }" data-name="${name}">${line}</span><br />`;
                     })
                     .join("");

                  codeBlock.innerHTML = newContent;

                  if (window.Prism) {
                     Prism.highlightElement(codeBlock);
                  }

                  if (toggles.fields) {
                     toggles.fields.addEventListener("change", () => {
                        const show = toggles.fields.checked;
                        article
                           .querySelectorAll(".method-line.private")
                           .forEach((el) =>
                              el.classList.toggle("hidden", !show)
                           );
                     });
                  }
               });

            const searchInput = document.getElementById("searchInput");
            if (searchInput) {
               searchInput.addEventListener("input", () => {
                  const query = searchInput.value.trim().toLowerCase();

                  document.querySelectorAll("article").forEach((el) => {
                     const name = el.dataset.name;
                     if (!name) return;

                     const matches =
                        query === "" ||
                        name.toLowerCase().includes(query) ||
                        (el.textContent &&
                           el.textContent.toLowerCase().includes(query));

                     if (matches) {
                        const isPrivateEl =
                           el.classList.contains("private");
                        const shouldShowPrivate =
                           getPrivateToggleState(el);

                        if (!isPrivateEl || shouldShowPrivate) {
                           el.classList.remove("hidden");
                        }
                     } else {
                        el.classList.add("hidden");
                     }
                  });

                  document.querySelectorAll('#symbolIndex li').forEach(li => {
                     const link = li.querySelector('a');
                     if (link) {
                        const symbolName = link.textContent.toLowerCase();
                        const matches = query === "" || symbolName.includes(query);
                        
                        if (matches) {
                           const isPrivateSymbol = li.classList.contains('private');
                           const targetId = link.getAttribute('href').substring(1);
                           const targetEl = document.getElementById(targetId);
                           const shouldShowPrivate = targetEl ? getPrivateToggleState(targetEl) : false;
                           
                           if (!isPrivateSymbol || shouldShowPrivate) {
                              li.style.display = '';
                           }
                        } else {
                           li.style.display = 'none';
                        }
                     }
                  });
               });
            }

            function getPrivateToggleState(element) {
               if (element.classList.contains("function")) {
                  return toggles.functions?.checked || false;
               } else if (element.classList.contains("struct")) {
                  return toggles.structs?.checked || false;
               } else if (element.classList.contains("global")) {
                  return toggles.globals?.checked || false;
               } else if (element.classList.contains("type")) {
                  return toggles.types?.checked || false;
               } else if (element.classList.contains("interface")) {
                  return toggles.interfaces?.checked || false;
               } else if (element.classList.contains("imports")) {
                  return toggles.imports?.checked || false;
               }
               return false;
            }

            buildSymbolIndex();

            document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
               anchor.addEventListener("click", function (e) {
                  const target = document.querySelector(
                     this.getAttribute("href")
                  );
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               });
            });

            window.addEventListener('hashchange', () => {
               const hash = window.location.hash;
               if (hash) {
                  const target = document.querySelector(hash);
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               }
            });

            if (window.location.hash) {
               setTimeout(() => {
                  const target = document.querySelector(window.location.hash);
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               }, 100);
            }
         });
      </script>
   </body>
</html>