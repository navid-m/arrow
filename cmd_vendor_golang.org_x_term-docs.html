<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - term</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
         
         <span style="color: rgba(177, 175, 175, 0.5)">
            No subpackages
         </span>
         
      </aside>
      <main>
         <h1>
            Package
            <code>term</code>
         </h1>
         <hr />
         
         <article class="global" data-name="vt100EscapeCodes">
            <h2>vt100EscapeCodes</h2>
            <hr />
            
            <pre><code>vt100EscapeCodes</code></pre>
         </article>
         
         <article class="global" data-name="keyCtrlC">
            <h2>keyCtrlC</h2>
            <hr />
            
            <pre><code>keyCtrlC</code></pre>
         </article>
         
         <article class="global" data-name="keyCtrlD">
            <h2>keyCtrlD</h2>
            <hr />
            
            <pre><code>keyCtrlD</code></pre>
         </article>
         
         <article class="global" data-name="keyCtrlU">
            <h2>keyCtrlU</h2>
            <hr />
            
            <pre><code>keyCtrlU</code></pre>
         </article>
         
         <article class="global" data-name="keyEnter">
            <h2>keyEnter</h2>
            <hr />
            
            <pre><code>keyEnter</code></pre>
         </article>
         
         <article class="global" data-name="keyEscape">
            <h2>keyEscape</h2>
            <hr />
            
            <pre><code>keyEscape</code></pre>
         </article>
         
         <article class="global" data-name="keyBackspace">
            <h2>keyBackspace</h2>
            <hr />
            
            <pre><code>keyBackspace</code></pre>
         </article>
         
         <article class="global" data-name="keyUnknown">
            <h2>keyUnknown</h2>
            <hr />
            
            <pre><code>keyUnknown</code></pre>
         </article>
         
         <article class="global" data-name="keyUp">
            <h2>keyUp</h2>
            <hr />
            
            <pre><code>keyUp</code></pre>
         </article>
         
         <article class="global" data-name="keyDown">
            <h2>keyDown</h2>
            <hr />
            
            <pre><code>keyDown</code></pre>
         </article>
         
         <article class="global" data-name="keyLeft">
            <h2>keyLeft</h2>
            <hr />
            
            <pre><code>keyLeft</code></pre>
         </article>
         
         <article class="global" data-name="keyRight">
            <h2>keyRight</h2>
            <hr />
            
            <pre><code>keyRight</code></pre>
         </article>
         
         <article class="global" data-name="keyAltLeft">
            <h2>keyAltLeft</h2>
            <hr />
            
            <pre><code>keyAltLeft</code></pre>
         </article>
         
         <article class="global" data-name="keyAltRight">
            <h2>keyAltRight</h2>
            <hr />
            
            <pre><code>keyAltRight</code></pre>
         </article>
         
         <article class="global" data-name="keyHome">
            <h2>keyHome</h2>
            <hr />
            
            <pre><code>keyHome</code></pre>
         </article>
         
         <article class="global" data-name="keyEnd">
            <h2>keyEnd</h2>
            <hr />
            
            <pre><code>keyEnd</code></pre>
         </article>
         
         <article class="global" data-name="keyDeleteWord">
            <h2>keyDeleteWord</h2>
            <hr />
            
            <pre><code>keyDeleteWord</code></pre>
         </article>
         
         <article class="global" data-name="keyDeleteLine">
            <h2>keyDeleteLine</h2>
            <hr />
            
            <pre><code>keyDeleteLine</code></pre>
         </article>
         
         <article class="global" data-name="keyClearScreen">
            <h2>keyClearScreen</h2>
            <hr />
            
            <pre><code>keyClearScreen</code></pre>
         </article>
         
         <article class="global" data-name="keyPasteStart">
            <h2>keyPasteStart</h2>
            <hr />
            
            <pre><code>keyPasteStart</code></pre>
         </article>
         
         <article class="global" data-name="keyPasteEnd">
            <h2>keyPasteEnd</h2>
            <hr />
            
            <pre><code>keyPasteEnd</code></pre>
         </article>
         
         <article class="global" data-name="crlf">
            <h2>crlf</h2>
            <hr />
            
            <pre><code>crlf</code></pre>
         </article>
         
         <article class="global" data-name="pasteStart">
            <h2>pasteStart</h2>
            <hr />
            
            <pre><code>pasteStart</code></pre>
         </article>
         
         <article class="global" data-name="pasteEnd">
            <h2>pasteEnd</h2>
            <hr />
            
            <pre><code>pasteEnd</code></pre>
         </article>
         
         <article class="global" data-name="space">
            <h2>space</h2>
            <hr />
            
            <pre><code>space</code></pre>
         </article>
         
         <article class="global" data-name="maxLineLength">
            <h2>maxLineLength</h2>
            <hr />
            
            <pre><code>maxLineLength</code></pre>
         </article>
         
         <article class="global" data-name="ErrPasteIndicator">
            <h2>ErrPasteIndicator</h2>
            <hr />
            
            <p>ErrPasteIndicator may be returned from ReadLine as the error, in addition
to valid line data. It indicates that bracketed paste mode is enabled and
that the returned line consists only of pasted data. Programs may wish to
interpret pasted data more literally than typed data.</p>
            
            <pre><code>ErrPasteIndicator</code></pre>
         </article>
         
         <article class="global" data-name="ioctlReadTermios">
            <h2>ioctlReadTermios</h2>
            <hr />
            
            <pre><code>ioctlReadTermios</code></pre>
         </article>
         
         <article class="global" data-name="ioctlWriteTermios">
            <h2>ioctlWriteTermios</h2>
            <hr />
            
            <pre><code>ioctlWriteTermios</code></pre>
         </article>
         
         <article class="global" data-name="ioctlReadTermios">
            <h2>ioctlReadTermios</h2>
            <hr />
            
            <pre><code>ioctlReadTermios</code></pre>
         </article>
         
         <article class="global" data-name="ioctlWriteTermios">
            <h2>ioctlWriteTermios</h2>
            <hr />
            
            <pre><code>ioctlWriteTermios</code></pre>
         </article>
          
         <article class="struct" data-name="state">
            <h2>type state struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">mode uint32</code></pre>
         </article>
         
         <article class="struct" data-name="EscapeCodes">
            <h2>type EscapeCodes struct</h2>
            <hr />
            
            <p>EscapeCodes contains escape sequences that can be written to the terminal in
order to achieve different styles of text.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">Black []byte
Red []byte
Green []byte
Yellow []byte
Blue []byte
Magenta []byte
Cyan []byte
White []byte
Reset []byte</code></pre>
         </article>
         
         <article class="struct" data-name="Terminal">
            <h2>type Terminal struct</h2>
            <hr />
            
            <p>Terminal contains the state for running a VT100 terminal that is capable of
reading lines of input.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">AutoCompleteCallback func
Escape *EscapeCodes
lock sync.Mutex
c io.ReadWriter
prompt []rune
line []rune
pos int
echo bool
pasteActive bool
cursorX int
cursorY int
maxLine int
termWidth int
termHeight int
outBuf []byte
remainder []byte
inBuf []byte
history stRingBuffer
historyIndex int
historyPending string</code></pre>
         </article>
         
         <article class="struct" data-name="pasteIndicatorError">
            <h2>type pasteIndicatorError struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code"></code></pre>
         </article>
         
         <article class="struct" data-name="stRingBuffer">
            <h2>type stRingBuffer struct</h2>
            <hr />
            
            <p>stRingBuffer is a ring buffer of strings.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">entries []string
max int
head int
size int</code></pre>
         </article>
         
         <article class="struct" data-name="State">
            <h2>type State struct</h2>
            <hr />
            
            <p>State contains the state of a terminal.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">state</code></pre>
         </article>
         
         <article class="struct" data-name="state">
            <h2>type state struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code"></code></pre>
         </article>
         
         <article class="struct" data-name="state">
            <h2>type state struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">termios unix.Termios</code></pre>
         </article>
         
         <article class="struct" data-name="state">
            <h2>type state struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code"></code></pre>
         </article>
          
         <article class="function" data-name="isTerminal">
            <h2>isTerminal</h2>
            <hr />
            
            <pre><code>func isTerminal(fd int) bool</code></pre>
         </article>
         
         <article class="function" data-name="makeRaw">
            <h2>makeRaw</h2>
            <hr />
            
            <pre><code>func makeRaw(fd int) (*State, error)</code></pre>
         </article>
         
         <article class="function" data-name="getState">
            <h2>getState</h2>
            <hr />
            
            <pre><code>func getState(fd int) (*State, error)</code></pre>
         </article>
         
         <article class="function" data-name="restore">
            <h2>restore</h2>
            <hr />
            
            <pre><code>func restore(fd int, state *State) error</code></pre>
         </article>
         
         <article class="function" data-name="getSize">
            <h2>getSize</h2>
            <hr />
            
            <pre><code>func getSize(fd int) (width int, height int, err error)</code></pre>
         </article>
         
         <article class="function" data-name="readPassword">
            <h2>readPassword</h2>
            <hr />
            
            <pre><code>func readPassword(fd int) ([]byte, error)</code></pre>
         </article>
         
         <article class="function" data-name="NewTerminal">
            <h2>NewTerminal</h2>
            <hr />
            
            <p>NewTerminal runs a VT100 terminal on the given ReadWriter. If the ReadWriter is
a local terminal, that terminal must first have been put into raw mode.
prompt is a string that is written at the start of each input line (i.e.
"> ").</p>
            
            <pre><code>func NewTerminal(c io.ReadWriter, prompt string) *Terminal</code></pre>
         </article>
         
         <article class="function" data-name="bytesToKey">
            <h2>bytesToKey</h2>
            <hr />
            
            <p>bytesToKey tries to parse a key sequence from b. If successful, it returns
the key and the remainder of the input. Otherwise it returns utf8.RuneError.</p>
            
            <pre><code>func bytesToKey(b []byte, pasteActive bool) (rune, []byte)</code></pre>
         </article>
         
         <article class="function" data-name="queue">
            <h2>queue</h2>
            <hr />
            
            <p>queue appends data to the end of t.outBuf</p>
            
            <pre><code>func queue(data []rune)</code></pre>
         </article>
         
         <article class="function" data-name="isPrintable">
            <h2>isPrintable</h2>
            <hr />
            
            <pre><code>func isPrintable(key rune) bool</code></pre>
         </article>
         
         <article class="function" data-name="moveCursorToPos">
            <h2>moveCursorToPos</h2>
            <hr />
            
            <p>moveCursorToPos appends data to t.outBuf which will move the cursor to the
given, logical position in the text.</p>
            
            <pre><code>func moveCursorToPos(pos int)</code></pre>
         </article>
         
         <article class="function" data-name="move">
            <h2>move</h2>
            <hr />
            
            <pre><code>func move(up int, down int, left int, right int)</code></pre>
         </article>
         
         <article class="function" data-name="clearLineToRight">
            <h2>clearLineToRight</h2>
            <hr />
            
            <pre><code>func clearLineToRight()</code></pre>
         </article>
         
         <article class="function" data-name="setLine">
            <h2>setLine</h2>
            <hr />
            
            <pre><code>func setLine(newLine []rune, newPos int)</code></pre>
         </article>
         
         <article class="function" data-name="advanceCursor">
            <h2>advanceCursor</h2>
            <hr />
            
            <pre><code>func advanceCursor(places int)</code></pre>
         </article>
         
         <article class="function" data-name="eraseNPreviousChars">
            <h2>eraseNPreviousChars</h2>
            <hr />
            
            <pre><code>func eraseNPreviousChars(n int)</code></pre>
         </article>
         
         <article class="function" data-name="countToLeftWord">
            <h2>countToLeftWord</h2>
            <hr />
            
            <p>countToLeftWord returns then number of characters from the cursor to the
start of the previous word.</p>
            
            <pre><code>func countToLeftWord() int</code></pre>
         </article>
         
         <article class="function" data-name="countToRightWord">
            <h2>countToRightWord</h2>
            <hr />
            
            <p>countToRightWord returns then number of characters from the cursor to the
start of the next word.</p>
            
            <pre><code>func countToRightWord() int</code></pre>
         </article>
         
         <article class="function" data-name="visualLength">
            <h2>visualLength</h2>
            <hr />
            
            <p>visualLength returns the number of visible glyphs in s.</p>
            
            <pre><code>func visualLength(runes []rune) int</code></pre>
         </article>
         
         <article class="function" data-name="handleKey">
            <h2>handleKey</h2>
            <hr />
            
            <p>handleKey processes the given key and, optionally, returns a line of text
that the user has entered.</p>
            
            <pre><code>func handleKey(key rune) (line string, ok bool)</code></pre>
         </article>
         
         <article class="function" data-name="addKeyToLine">
            <h2>addKeyToLine</h2>
            <hr />
            
            <p>addKeyToLine inserts the given key at the current position in the current
line.</p>
            
            <pre><code>func addKeyToLine(key rune)</code></pre>
         </article>
         
         <article class="function" data-name="writeLine">
            <h2>writeLine</h2>
            <hr />
            
            <pre><code>func writeLine(line []rune)</code></pre>
         </article>
         
         <article class="function" data-name="writeWithCRLF">
            <h2>writeWithCRLF</h2>
            <hr />
            
            <p>writeWithCRLF writes buf to w but replaces all occurrences of \n with \r\n.</p>
            
            <pre><code>func writeWithCRLF(w io.Writer, buf []byte) (n int, err error)</code></pre>
         </article>
         
         <article class="function" data-name="Write">
            <h2>Write</h2>
            <hr />
            
            <pre><code>func Write(buf []byte) (n int, err error)</code></pre>
         </article>
         
         <article class="function" data-name="ReadPassword">
            <h2>ReadPassword</h2>
            <hr />
            
            <p>ReadPassword temporarily changes the prompt and reads a password, without
echo, from the terminal.</p>
            
            <pre><code>func ReadPassword(prompt string) (line string, err error)</code></pre>
         </article>
         
         <article class="function" data-name="ReadLine">
            <h2>ReadLine</h2>
            <hr />
            
            <p>ReadLine returns a line of input from the terminal.</p>
            
            <pre><code>func ReadLine() (line string, err error)</code></pre>
         </article>
         
         <article class="function" data-name="readLine">
            <h2>readLine</h2>
            <hr />
            
            <pre><code>func readLine() (line string, err error)</code></pre>
         </article>
         
         <article class="function" data-name="SetPrompt">
            <h2>SetPrompt</h2>
            <hr />
            
            <p>SetPrompt sets the prompt to be used when reading subsequent lines.</p>
            
            <pre><code>func SetPrompt(prompt string)</code></pre>
         </article>
         
         <article class="function" data-name="clearAndRepaintLinePlusNPrevious">
            <h2>clearAndRepaintLinePlusNPrevious</h2>
            <hr />
            
            <pre><code>func clearAndRepaintLinePlusNPrevious(numPrevLines int)</code></pre>
         </article>
         
         <article class="function" data-name="SetSize">
            <h2>SetSize</h2>
            <hr />
            
            <pre><code>func SetSize(width int, height int) error</code></pre>
         </article>
         
         <article class="function" data-name="Error">
            <h2>Error</h2>
            <hr />
            
            <pre><code>func Error() string</code></pre>
         </article>
         
         <article class="function" data-name="SetBracketedPasteMode">
            <h2>SetBracketedPasteMode</h2>
            <hr />
            
            <p>SetBracketedPasteMode requests that the terminal bracket paste operations
with markers. Not all terminals support this but, if it is supported, then
enabling this mode will stop any autocomplete callback from running due to
pastes. Additionally, any lines that are completely pasted will be returned
from ReadLine with the error set to ErrPasteIndicator.</p>
            
            <pre><code>func SetBracketedPasteMode(on bool)</code></pre>
         </article>
         
         <article class="function" data-name="Add">
            <h2>Add</h2>
            <hr />
            
            <pre><code>func Add(a string)</code></pre>
         </article>
         
         <article class="function" data-name="NthPreviousEntry">
            <h2>NthPreviousEntry</h2>
            <hr />
            
            <p>NthPreviousEntry returns the value passed to the nth previous call to Add.
If n is zero then the immediately prior value is returned, if one, then the
next most recent, and so on. If such an element doesn't exist then ok is
false.</p>
            
            <pre><code>func NthPreviousEntry(n int) (value string, ok bool)</code></pre>
         </article>
         
         <article class="function" data-name="readPasswordLine">
            <h2>readPasswordLine</h2>
            <hr />
            
            <p>readPasswordLine reads from reader until it finds \n or io.EOF.
The slice returned does not include the \n.
readPasswordLine also ignores any \r it finds.
Windows uses \r as end of line. So, on Windows, readPasswordLine
reads until it finds \r and ignores any \n it finds during processing.</p>
            
            <pre><code>func readPasswordLine(reader io.Reader) ([]byte, error)</code></pre>
         </article>
         
         <article class="function" data-name="IsTerminal">
            <h2>IsTerminal</h2>
            <hr />
            
            <p>IsTerminal returns whether the given file descriptor is a terminal.</p>
            
            <pre><code>func IsTerminal(fd int) bool</code></pre>
         </article>
         
         <article class="function" data-name="MakeRaw">
            <h2>MakeRaw</h2>
            <hr />
            
            <p>MakeRaw puts the terminal connected to the given file descriptor into raw
mode and returns the previous state of the terminal so that it can be
restored.</p>
            
            <pre><code>func MakeRaw(fd int) (*State, error)</code></pre>
         </article>
         
         <article class="function" data-name="GetState">
            <h2>GetState</h2>
            <hr />
            
            <p>GetState returns the current state of a terminal which may be useful to
restore the terminal after a signal.</p>
            
            <pre><code>func GetState(fd int) (*State, error)</code></pre>
         </article>
         
         <article class="function" data-name="Restore">
            <h2>Restore</h2>
            <hr />
            
            <p>Restore restores the terminal connected to the given file descriptor to a
previous state.</p>
            
            <pre><code>func Restore(fd int, oldState *State) error</code></pre>
         </article>
         
         <article class="function" data-name="GetSize">
            <h2>GetSize</h2>
            <hr />
            
            <p>GetSize returns the visible dimensions of the given terminal.

These dimensions don't include any scrollback buffer height.</p>
            
            <pre><code>func GetSize(fd int) (width int, height int, err error)</code></pre>
         </article>
         
         <article class="function" data-name="ReadPassword">
            <h2>ReadPassword</h2>
            <hr />
            
            <p>ReadPassword reads a line of input from a terminal without local echo.  This
is commonly used for inputting passwords and other sensitive data. The slice
returned does not include the \n.</p>
            
            <pre><code>func ReadPassword(fd int) ([]byte, error)</code></pre>
         </article>
         
         <article class="function" data-name="isTerminal">
            <h2>isTerminal</h2>
            <hr />
            
            <pre><code>func isTerminal(fd int) bool</code></pre>
         </article>
         
         <article class="function" data-name="makeRaw">
            <h2>makeRaw</h2>
            <hr />
            
            <pre><code>func makeRaw(fd int) (*State, error)</code></pre>
         </article>
         
         <article class="function" data-name="getState">
            <h2>getState</h2>
            <hr />
            
            <pre><code>func getState(fd int) (*State, error)</code></pre>
         </article>
         
         <article class="function" data-name="restore">
            <h2>restore</h2>
            <hr />
            
            <pre><code>func restore(fd int, state *State) error</code></pre>
         </article>
         
         <article class="function" data-name="getSize">
            <h2>getSize</h2>
            <hr />
            
            <pre><code>func getSize(fd int) (width int, height int, err error)</code></pre>
         </article>
         
         <article class="function" data-name="readPassword">
            <h2>readPassword</h2>
            <hr />
            
            <pre><code>func readPassword(fd int) ([]byte, error)</code></pre>
         </article>
         
         <article class="function" data-name="isTerminal">
            <h2>isTerminal</h2>
            <hr />
            
            <pre><code>func isTerminal(fd int) bool</code></pre>
         </article>
         
         <article class="function" data-name="makeRaw">
            <h2>makeRaw</h2>
            <hr />
            
            <pre><code>func makeRaw(fd int) (*State, error)</code></pre>
         </article>
         
         <article class="function" data-name="getState">
            <h2>getState</h2>
            <hr />
            
            <pre><code>func getState(fd int) (*State, error)</code></pre>
         </article>
         
         <article class="function" data-name="restore">
            <h2>restore</h2>
            <hr />
            
            <pre><code>func restore(fd int, state *State) error</code></pre>
         </article>
         
         <article class="function" data-name="getSize">
            <h2>getSize</h2>
            <hr />
            
            <pre><code>func getSize(fd int) (width int, height int, err error)</code></pre>
         </article>
         
         <article class="function" data-name="Read">
            <h2>Read</h2>
            <hr />
            
            <pre><code>func Read(buf []byte) (int, error)</code></pre>
         </article>
         
         <article class="function" data-name="readPassword">
            <h2>readPassword</h2>
            <hr />
            
            <pre><code>func readPassword(fd int) ([]byte, error)</code></pre>
         </article>
         
         <article class="function" data-name="isTerminal">
            <h2>isTerminal</h2>
            <hr />
            
            <pre><code>func isTerminal(fd int) bool</code></pre>
         </article>
         
         <article class="function" data-name="makeRaw">
            <h2>makeRaw</h2>
            <hr />
            
            <pre><code>func makeRaw(fd int) (*State, error)</code></pre>
         </article>
         
         <article class="function" data-name="getState">
            <h2>getState</h2>
            <hr />
            
            <pre><code>func getState(fd int) (*State, error)</code></pre>
         </article>
         
         <article class="function" data-name="restore">
            <h2>restore</h2>
            <hr />
            
            <pre><code>func restore(fd int, state *State) error</code></pre>
         </article>
         
         <article class="function" data-name="getSize">
            <h2>getSize</h2>
            <hr />
            
            <pre><code>func getSize(fd int) (width int, height int, err error)</code></pre>
         </article>
         
         <article class="function" data-name="readPassword">
            <h2>readPassword</h2>
            <hr />
            
            <pre><code>func readPassword(fd int) ([]byte, error)</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
