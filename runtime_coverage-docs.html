<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - coverage</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
         
         <span style="color: rgba(177, 175, 175, 0.5)">
            No subpackages
         </span>
         
      </aside>
      <main>
         <h1>
            Package
            <code>coverage</code>
         </h1>
         <hr />
           
         <article class="function" data-name="initHook">
            <h2>initHook</h2>
            <hr />
            
            <p>initHook is invoked from main.init in programs built with -cover.
The call is emitted by the compiler.</p>
            
            <pre><code>func initHook(istest bool)</code></pre>
         </article>
         
         <article class="function" data-name="WriteMetaDir">
            <h2>WriteMetaDir</h2>
            <hr />
            
            <p>WriteMetaDir writes a coverage meta-data file for the currently
running program to the directory specified in 'dir'. An error will
be returned if the operation can't be completed successfully (for
example, if the currently running program was not built with
"-cover", or if the directory does not exist).</p>
            
            <pre><code>func WriteMetaDir(dir string) error</code></pre>
         </article>
         
         <article class="function" data-name="WriteMeta">
            <h2>WriteMeta</h2>
            <hr />
            
            <p>WriteMeta writes the meta-data content (the payload that would
normally be emitted to a meta-data file) for the currently running
program to the writer 'w'. An error will be returned if the
operation can't be completed successfully (for example, if the
currently running program was not built with "-cover", or if a
write fails).</p>
            
            <pre><code>func WriteMeta(w io.Writer) error</code></pre>
         </article>
         
         <article class="function" data-name="WriteCountersDir">
            <h2>WriteCountersDir</h2>
            <hr />
            
            <p>WriteCountersDir writes a coverage counter-data file for the
currently running program to the directory specified in 'dir'. An
error will be returned if the operation can't be completed
successfully (for example, if the currently running program was not
built with "-cover", or if the directory does not exist). The
counter data written will be a snapshot taken at the point of the
call.</p>
            
            <pre><code>func WriteCountersDir(dir string) error</code></pre>
         </article>
         
         <article class="function" data-name="WriteCounters">
            <h2>WriteCounters</h2>
            <hr />
            
            <p>WriteCounters writes coverage counter-data content for the
currently running program to the writer 'w'. An error will be
returned if the operation can't be completed successfully (for
example, if the currently running program was not built with
"-cover", or if a write fails). The counter data written will be a
snapshot taken at the point of the invocation.</p>
            
            <pre><code>func WriteCounters(w io.Writer) error</code></pre>
         </article>
         
         <article class="function" data-name="ClearCounters">
            <h2>ClearCounters</h2>
            <hr />
            
            <p>ClearCounters clears/resets all coverage counter variables in the
currently running program. It returns an error if the program in
question was not built with the "-cover" flag. Clearing of coverage
counters is also not supported for programs not using atomic
counter mode (see more detailed comments below for the rationale
here).</p>
            
            <pre><code>func ClearCounters() error</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
