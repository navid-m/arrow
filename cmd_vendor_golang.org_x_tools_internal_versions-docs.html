<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - versions</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
         
         <span style="color: rgba(177, 175, 175, 0.5)">
            No subpackages
         </span>
         
      </aside>
      <main>
         <h1>
            Package
            <code>versions</code>
         </h1>
         <hr />
         
         <article class="global" data-name="Go1_18">
            <h2>Go1_18</h2>
            <hr />
            
            <p>GoVersions that features in x/tools can be gated to.</p>
            
            <pre><code>Go1_18</code></pre>
         </article>
         
         <article class="global" data-name="Go1_19">
            <h2>Go1_19</h2>
            <hr />
            
            <p>GoVersions that features in x/tools can be gated to.</p>
            
            <pre><code>Go1_19</code></pre>
         </article>
         
         <article class="global" data-name="Go1_20">
            <h2>Go1_20</h2>
            <hr />
            
            <p>GoVersions that features in x/tools can be gated to.</p>
            
            <pre><code>Go1_20</code></pre>
         </article>
         
         <article class="global" data-name="Go1_21">
            <h2>Go1_21</h2>
            <hr />
            
            <p>GoVersions that features in x/tools can be gated to.</p>
            
            <pre><code>Go1_21</code></pre>
         </article>
         
         <article class="global" data-name="Go1_22">
            <h2>Go1_22</h2>
            <hr />
            
            <p>GoVersions that features in x/tools can be gated to.</p>
            
            <pre><code>Go1_22</code></pre>
         </article>
         
         <article class="global" data-name="Future">
            <h2>Future</h2>
            <hr />
            
            <p>Future is an invalid unknown Go version sometime in the future.
Do not use directly with Compare.</p>
            
            <pre><code>Future</code></pre>
         </article>
          
         <article class="struct" data-name="gover">
            <h2>type gover struct</h2>
            <hr />
            
            <p>A gover is a parsed Go gover: major[.Minor[.Patch]][kind[pre]]
The numbers are the original decimal strings to avoid integer overflows
and since there is very little actual math. (Probably overflow doesn't matter in practice,
but at the time this code was written, there was an existing test that used
go1.99999999999, which does not fit in an int on 32-bit platforms.
The "big decimal" representation avoids the problem entirely.)</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">major string
minor string
patch string
kind string
pre string</code></pre>
         </article>
          
         <article class="function" data-name="AtLeast">
            <h2>AtLeast</h2>
            <hr />
            
            <p>AtLeast reports whether the file version v comes after a Go release.

Use this predicate to enable a behavior once a certain Go release
has happened (and stays enabled in the future).</p>
            
            <pre><code>func AtLeast(v string, release string) bool</code></pre>
         </article>
         
         <article class="function" data-name="Before">
            <h2>Before</h2>
            <hr />
            
            <p>Before reports whether the file version v is strictly before a Go release.

Use this predicate to disable a behavior once a certain Go release
has happened (and stays enabled in the future).</p>
            
            <pre><code>func Before(v string, release string) bool</code></pre>
         </article>
         
         <article class="function" data-name="compare">
            <h2>compare</h2>
            <hr />
            
            <p>compare returns -1, 0, or +1 depending on whether
x < y, x == y, or x > y, interpreted as toolchain versions.
The versions x and y must not begin with a "go" prefix: just "1.21" not "go1.21".
Malformed versions compare less than well-formed versions and equal to each other.
The language version "1.21" compares less than the release candidate and eventual releases "1.21rc1" and "1.21.0".</p>
            
            <pre><code>func compare(x string, y string) int</code></pre>
         </article>
         
         <article class="function" data-name="lang">
            <h2>lang</h2>
            <hr />
            
            <p>lang returns the Go language version. For example, lang("1.2.3") == "1.2".</p>
            
            <pre><code>func lang(x string) string</code></pre>
         </article>
         
         <article class="function" data-name="isValid">
            <h2>isValid</h2>
            <hr />
            
            <p>isValid reports whether the version x is valid.</p>
            
            <pre><code>func isValid(x string) bool</code></pre>
         </article>
         
         <article class="function" data-name="parse">
            <h2>parse</h2>
            <hr />
            
            <p>parse parses the Go version string x into a version.
It returns the zero version if x is malformed.</p>
            
            <pre><code>func parse(x string) gover</code></pre>
         </article>
         
         <article class="function" data-name="cutInt">
            <h2>cutInt</h2>
            <hr />
            
            <p>cutInt scans the leading decimal number at the start of x to an integer
and returns that value and the rest of the string.</p>
            
            <pre><code>func cutInt(x string) (n string, rest string, ok bool)</code></pre>
         </article>
         
         <article class="function" data-name="cmpInt">
            <h2>cmpInt</h2>
            <hr />
            
            <p>cmpInt returns cmp.Compare(x, y) interpreting x and y as decimal numbers.
(Copied from golang.org/x/mod/semver's compareInt.)</p>
            
            <pre><code>func cmpInt(x string, y string) int</code></pre>
         </article>
         
         <article class="function" data-name="FileVersion">
            <h2>FileVersion</h2>
            <hr />
            
            <p>FileVersion returns a file's Go version.
The reported version is an unknown Future version if a
version cannot be determined.</p>
            
            <pre><code>func FileVersion(info *types.Info, file *ast.File) string</code></pre>
         </article>
         
         <article class="function" data-name="Lang">
            <h2>Lang</h2>
            <hr />
            
            <p>Lang returns the Go language version for version x.
If x is not a valid version, Lang returns the empty string.
For example:

	Lang("go1.21rc2") = "go1.21"
	Lang("go1.21.2") = "go1.21"
	Lang("go1.21") = "go1.21"
	Lang("go1") = "go1"
	Lang("bad") = ""
	Lang("1.21") = ""</p>
            
            <pre><code>func Lang(x string) string</code></pre>
         </article>
         
         <article class="function" data-name="Compare">
            <h2>Compare</h2>
            <hr />
            
            <p>Compare returns -1, 0, or +1 depending on whether
x < y, x == y, or x > y, interpreted as Go versions.
The versions x and y must begin with a "go" prefix: "go1.21" not "1.21".
Invalid versions, including the empty string, compare less than
valid versions and equal to each other.
The language version "go1.21" compares less than the
release candidate and eventual releases "go1.21rc1" and "go1.21.0".
Custom toolchain suffixes are ignored during comparison:
"go1.21.0" and "go1.21.0-bigcorp" are equal.</p>
            
            <pre><code>func Compare(x string, y string) int</code></pre>
         </article>
         
         <article class="function" data-name="IsValid">
            <h2>IsValid</h2>
            <hr />
            
            <p>IsValid reports whether the version x is valid.</p>
            
            <pre><code>func IsValid(x string) bool</code></pre>
         </article>
         
         <article class="function" data-name="stripGo">
            <h2>stripGo</h2>
            <hr />
            
            <p>stripGo converts from a "go1.21" version to a "1.21" version.
If v does not start with "go", stripGo returns the empty string (a known invalid version).</p>
            
            <pre><code>func stripGo(v string) string</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
