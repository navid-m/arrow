<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - main</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 14px;
            scroll-behavior: smooth;
         }

         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
            line-height: 1.6;
         }

         .sidebar {
            width: 12%;
            background: rgba(59, 56, 56, 0.15);
            padding: 1.5rem;
            box-shadow: 2px 0 8px rgba(0, 0, 0, 0.4);
            overflow-y: auto;
            position: sticky;
            top: 0;
            height: 100vh;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
         }

         .sidebar::-webkit-scrollbar {
            width: 6px;
         }

         .sidebar::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
         }

         .sidebar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
         }

         main {
            flex: 1;
            padding: 2rem;
            margin: 0;
            max-width: calc(100% - 280px);
            background: linear-gradient(
               135deg,
               rgba(59, 56, 56, 0.05) 0%,
               rgba(0, 0, 0, 0.1) 100%
            );
         }

         .nav-links {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
         }

         .nav-links a {
            color: #ddd;
            text-decoration: none;
            padding: 0.5rem;
            border-radius: 4px;
            transition: all 0.2s ease;
         }

         .nav-links a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
         }

         h1 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #fff 0%, #ddd 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
         }

         h2 {
            font-size: 1.4rem;
            margin: 1rem 0 0.5rem;
            color: #f0f0f0;
         }

         h3 {
            font-size: 1.2rem;
            margin: 0.8rem 0 0.3rem;
            color: #e0e0e0;
            position: relative;
         }

         .sidebar h2,
         .sidebar h3 {
            font-size: 1rem;
            margin: 0.5rem 0 0.3rem;
            color: #ccc;
         }

         /* Anchor link styling */
         .anchor {
            color: rgba(255, 255, 255, 0.3);
            text-decoration: none;
            font-weight: normal;
            margin-left: 0.5rem;
            opacity: 0;
            transition: opacity 0.2s ease;
            font-size: 0.8em;
         }

         h3:hover .anchor,
         .anchor:focus {
            opacity: 1;
         }

         .anchor:hover {
            color: rgba(255, 255, 255, 0.6);
         }

         /* Scroll target offset for fixed elements */
         .symbol-anchor {
            scroll-margin-top: 2rem;
         }

         pre {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #e6e6e6;
            padding: 1rem 1.2rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-size: 0.9rem;
            overflow-x: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
         }

         code {
            color: #f5f5f5;
            font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
            white-space: pre-wrap;
         }

         p {
            font-size: 15px;
            margin: 1rem 0;
            color: #ddd;
         }

         article {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(59, 56, 56, 0.3);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            transition: all 0.3s ease;
         }

         article:hover {
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5);
            transform: translateY(-2px);
         }

         article:target {
            border-color: rgba(100, 200, 255, 0.5);
            box-shadow: 0 0 0 2px rgba(100, 200, 255, 0.2);
         }

         .hidden {
            display: none !important;
         }

         .filter-section {
            margin-bottom: 1.5rem;
         }

         .filter-section h3 {
            margin-bottom: 0.8rem;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #aaa;
         }

         .filter-toggle label {
            display: flex;
            align-items: center;
            margin-bottom: 0.6rem;
            font-size: 0.85rem;
            color: #bbb;
            cursor: pointer;
            padding: 0.3rem;
            border-radius: 4px;
            transition: background 0.2s ease;
         }

         .filter-toggle label:hover {
            background: rgba(255, 255, 255, 0.05);
         }

         .filter-toggle input {
            margin-right: 0.6rem;
         }

         .field-line,
         .method-line {
            display: block;
         }

         #searchInput {
            width: 100%;
            margin-bottom: 1.5rem;
            border-radius: 8px !important;
            height: 2.8rem;
            font-size: 0.9rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 0 1rem;
         }

         #searchInput::placeholder {
            color: rgba(255, 255, 255, 0.5);
         }

         #searchInput:focus {
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
         }

         .section-divider {
            height: 1px;
            background: linear-gradient(
               90deg,
               transparent 0%,
               rgba(255, 255, 255, 0.3) 50%,
               transparent 100%
            );
            margin: 1.5rem 0;
         }

         .subpackage-list {
            list-style: none;
            padding: 0;
         }

         .subpackage-list li {
            margin-bottom: 0.4rem;
         }

         .subpackage-list a {
            display: block;
            padding: 0.5rem 0.8rem;
            color: #ccc;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.2s ease;
            font-size: 0.85rem;
         }

         .subpackage-list a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            transform: translateX(4px);
         }

         .empty-state {
            color: rgba(177, 175, 175, 0.6);
            font-style: italic;
            font-size: 0.8rem;
         }

         .badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.1);
            color: #ddd;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 500;
            margin-left: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
         }

         .method-badge {
            background: rgba(100, 200, 255, 0.2);
            color: #87ceeb;
         }

         .const-badge {
            background: rgba(255, 200, 100, 0.2);
            color: #ffd700;
         }

         .var-badge {
            background: rgba(200, 255, 100, 0.2);
            color: #90ee90;
         }

         .type-badge {
            background: rgba(255, 100, 200, 0.2);
            color: #699eff;
         }

         .interface-badge {
            background: rgba(150, 100, 255, 0.2);
            color: #dda0dd;
         }

         .toc {
            position: sticky;
            top: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
         }

         .toc h4 {
            margin: 0 0 0.8rem;
            font-size: 0.9rem;
            color: #aaa;
            text-transform: uppercase;
            letter-spacing: 0.5px;
         }

         .toc ul {
            list-style: none;
            padding: 0;
            margin: 0;
         }

         .toc li {
            margin-bottom: 0.3rem;
         }

         .toc a {
            color: #bbb;
            text-decoration: none;
            font-size: 0.8rem;
            transition: color 0.2s ease;
         }

         .toc a:hover {
            color: #fff;
         }

         .symbol-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.2);
         }

         .symbol-list::-webkit-scrollbar {
            width: 4px;
         }

         .symbol-list::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
         }

         .symbol-list ul {
            list-style: none;
            padding: 0.5rem;
            margin: 0;
         }

         .symbol-list li {
            margin-bottom: 0.2rem;
         }

         .symbol-list a {
            display: block;
            padding: 0.3rem 0.5rem;
            color: #bbb;
            text-decoration: none;
            border-radius: 4px;
            transition: all 0.2s ease;
            font-size: 0.75rem;
         }

         .symbol-list a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
         }

         @media (max-width: 768px) {
            body {
               flex-direction: column;
            }

            .sidebar {
               width: 90%;
               height: auto;
               position: relative;
            }

            main {
               max-width: 100%;
               padding: 1rem;
            }
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <div class="nav-links">
            <a href="index.html" title="Home">⌂</a>
            <span>|</span>
            <a href="#" onclick="history.back()" title="Back">←</a>
         </div>

         <div class="filter-section">
            <h3>Search</h3>
            <input
               type="search"
               id="searchInput"
               placeholder="Search symbols..."
            />
         </div>

         <div class="filter-section">
            <h3>Filters</h3>
            <div class="filter-toggle">
               <label>
                  <input type="checkbox" id="showImports" />
                  Show imports
               </label>
               <label>
                  <input type="checkbox" id="showPrivateFunctions" />
                  Show private functions
               </label>
               <label>
                  <input type="checkbox" id="showPrivateStructs" />
                  Show private structs
               </label>
               <label>
                  <input type="checkbox" id="showPrivateFields" />
                  Show private fields
               </label>
               <label>
                  <input type="checkbox" id="showPrivateGlobals" />
                  Show private globals
               </label>
               <label>
                  <input type="checkbox" id="showPrivateTypes" />
                  Show private types
               </label>
               <label>
                  <input type="checkbox" id="showPrivateInterfaces" />
                  Show private interfaces
               </label>
            </div>
         </div>

         <div class="section-divider"></div>

         <div class="filter-section">
            <h3>Subpackages</h3>
            
            <div class="empty-state">No subpackages</div>
            
         </div>

         
         <div class="section-divider"></div>

         <div class="toc">
            <h4>Quick Navigation</h4>
            <ul>
               
               <li><a href="#globals">Constants & Variables</a></li>
                 
               <li><a href="#interfaces">Interfaces</a></li>
                
               <li><a href="#structs">Structs</a></li>
                
               <li><a href="#functions">Functions</a></li>
               
            </ul>
         </div>

         <div class="filter-section">
            <h3>All Symbols</h3>
            <div class="symbol-list">
               <ul id="symbolIndex">
               </ul>
            </div>
         </div>
         
      </aside>

      <main>
         <h1>main</h1>
         <div class="section-divider"></div>

         
         <section id="imports">
            <h2>Imports</h2>
            <article class="imports symbol-anchor" id="imports-section" data-name="imports">
               <h3>
                  Imports
                  <a href="#imports-section" class="anchor" title="Link to imports">#</a>
               </h3>
               <pre><code>"flag"
"fmt"
"internal/coverage"
"internal/coverage/calloc"
"internal/coverage/cformat"
"internal/coverage/cmerge"
"internal/coverage/decodecounter"
"internal/coverage/decodemeta"
"internal/coverage/pods"
"os"
"sort"
"strings"
"flag"
"fmt"
"internal/coverage"
"internal/coverage/cmerge"
"internal/coverage/decodecounter"
"internal/coverage/decodemeta"
"internal/coverage/pods"
"os"
"fmt"
"hash/fnv"
"internal/coverage"
"internal/coverage/calloc"
"internal/coverage/cmerge"
"internal/coverage/decodecounter"
"internal/coverage/decodemeta"
"internal/coverage/encodecounter"
"internal/coverage/encodemeta"
"internal/coverage/slicewriter"
"io"
"os"
"path/filepath"
"sort"
"time"
"unsafe"
"flag"
"fmt"
"internal/coverage"
"internal/coverage/decodecounter"
"internal/coverage/decodemeta"
"internal/coverage/pods"
"os"
"strings"
"fmt"
"slices"
"strconv"
"cmd/internal/cov"
"cmd/internal/pkgpattern"
"cmd/internal/telemetry/counter"
"flag"
"fmt"
"os"
"runtime"
"runtime/pprof"
"strings"
</code></pre>
            </article>
         </section>
          
         <section id="globals">
            <h2>Constants & Variables</h2>
            
            <article class="global symbol-anchor" id="atExitFuncs" data-name="atExitFuncs">
               <h3>
                  atExitFuncs 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#atExitFuncs" class="anchor" title="Link to atExitFuncs">#</a>
               </h3>
               
               <pre><code>var atExitFuncs []func()</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="cpuprofileflag" data-name="cpuprofileflag">
               <h3>
                  cpuprofileflag 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#cpuprofileflag" class="anchor" title="Link to cpuprofileflag">#</a>
               </h3>
               
               <pre><code>var cpuprofileflag = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="debugDumpMode" data-name="debugDumpMode">
               <h3>
                  debugDumpMode 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#debugDumpMode" class="anchor" title="Link to debugDumpMode">#</a>
               </h3>
               
               <p>Modes of operation.</p>
               
               <pre><code>const debugDumpMode = "debugdump"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="funcMode" data-name="funcMode">
               <h3>
                  funcMode 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#funcMode" class="anchor" title="Link to funcMode">#</a>
               </h3>
               
               <p>Modes of operation.</p>
               
               <pre><code>const funcMode = "func"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="hflag" data-name="hflag">
               <h3>
                  hflag 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#hflag" class="anchor" title="Link to hflag">#</a>
               </h3>
               
               <pre><code>var hflag = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="hwflag" data-name="hwflag">
               <h3>
                  hwflag 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#hwflag" class="anchor" title="Link to hwflag">#</a>
               </h3>
               
               <pre><code>var hwflag = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="indirsflag" data-name="indirsflag">
               <h3>
                  indirsflag 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#indirsflag" class="anchor" title="Link to indirsflag">#</a>
               </h3>
               
               <pre><code>var indirsflag = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="intersectMode" data-name="intersectMode">
               <h3>
                  intersectMode 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#intersectMode" class="anchor" title="Link to intersectMode">#</a>
               </h3>
               
               <p>Modes of operation.</p>
               
               <pre><code>const intersectMode = "intersect"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="liveflag" data-name="liveflag">
               <h3>
                  liveflag 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#liveflag" class="anchor" title="Link to liveflag">#</a>
               </h3>
               
               <pre><code>var liveflag *bool</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="matchpkg" data-name="matchpkg">
               <h3>
                  matchpkg 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#matchpkg" class="anchor" title="Link to matchpkg">#</a>
               </h3>
               
               <pre><code>var matchpkg func(name string) bool</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="memprofileflag" data-name="memprofileflag">
               <h3>
                  memprofileflag 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#memprofileflag" class="anchor" title="Link to memprofileflag">#</a>
               </h3>
               
               <pre><code>var memprofileflag = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="memprofilerateflag" data-name="memprofilerateflag">
               <h3>
                  memprofilerateflag 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#memprofilerateflag" class="anchor" title="Link to memprofilerateflag">#</a>
               </h3>
               
               <pre><code>var memprofilerateflag = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="mergeMode" data-name="mergeMode">
               <h3>
                  mergeMode 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#mergeMode" class="anchor" title="Link to mergeMode">#</a>
               </h3>
               
               <p>Modes of operation.</p>
               
               <pre><code>const mergeMode = "merge"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="outdirflag" data-name="outdirflag">
               <h3>
                  outdirflag 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#outdirflag" class="anchor" title="Link to outdirflag">#</a>
               </h3>
               
               <pre><code>var outdirflag *string</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="pcombineflag" data-name="pcombineflag">
               <h3>
                  pcombineflag 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#pcombineflag" class="anchor" title="Link to pcombineflag">#</a>
               </h3>
               
               <pre><code>var pcombineflag *bool</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="percentMode" data-name="percentMode">
               <h3>
                  percentMode 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#percentMode" class="anchor" title="Link to percentMode">#</a>
               </h3>
               
               <p>Modes of operation.</p>
               
               <pre><code>const percentMode = "percent"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="pkglistMode" data-name="pkglistMode">
               <h3>
                  pkglistMode 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#pkglistMode" class="anchor" title="Link to pkglistMode">#</a>
               </h3>
               
               <p>Modes of operation.</p>
               
               <pre><code>const pkglistMode = "pkglist"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="pkgpatflag" data-name="pkgpatflag">
               <h3>
                  pkgpatflag 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#pkgpatflag" class="anchor" title="Link to pkgpatflag">#</a>
               </h3>
               
               <pre><code>var pkgpatflag = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="subtractMode" data-name="subtractMode">
               <h3>
                  subtractMode 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#subtractMode" class="anchor" title="Link to subtractMode">#</a>
               </h3>
               
               <p>Modes of operation.</p>
               
               <pre><code>const subtractMode = "subtract"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="textfmtMode" data-name="textfmtMode">
               <h3>
                  textfmtMode 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#textfmtMode" class="anchor" title="Link to textfmtMode">#</a>
               </h3>
               
               <p>Modes of operation.</p>
               
               <pre><code>const textfmtMode = "textfmt"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="textfmtoutflag" data-name="textfmtoutflag">
               <h3>
                  textfmtoutflag 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#textfmtoutflag" class="anchor" title="Link to textfmtoutflag">#</a>
               </h3>
               
               <pre><code>var textfmtoutflag *string</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="verbflag" data-name="verbflag">
               <h3>
                  verbflag 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#verbflag" class="anchor" title="Link to verbflag">#</a>
               </h3>
               
               <pre><code>var verbflag = *ast.CallExpr</code></pre>
            </article>
            
         </section>
           
         <section id="interfaces">
            <h2>Interfaces</h2>
            
            <article class="interface symbol-anchor" id="covOperation" data-name="covOperation">
               <h3>
                  covOperation
                  <span class="badge interface-badge">interface</span>
                  <a href="#covOperation" class="anchor" title="Link to covOperation">#</a>
               </h3>
               
               <pre
                  class="methods-block"
               ><code class="methods-code">type covOperation interface {
cov.CovDataVisitor
Setup()
Usage(string)
}</code></pre>
            </article>
            
         </section>
          
         <section id="structs">
            <h2>Structs</h2>
            
            <article class="struct symbol-anchor" id="argstate" data-name="argstate">
               <h3>
                  argstate
                  <span class="badge">struct</span>
                  <a href="#argstate" class="anchor" title="Link to argstate">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code">type argstate struct {
state argvalues
initialized bool
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="argvalues" data-name="argvalues">
               <h3>
                  argvalues
                  <span class="badge">struct</span>
                  <a href="#argvalues" class="anchor" title="Link to argvalues">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code">type argvalues struct {
osargs []string
goos string
goarch string
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="dstate" data-name="dstate">
               <h3>
                  dstate
                  <span class="badge">struct</span>
                  <a href="#dstate" class="anchor" title="Link to dstate">#</a>
               </h3>
               
               <p>dstate encapsulates state and provides methods for implementing
various dump operations. Specifically, dstate implements the
CovDataVisitor interface, and is designed to be used in
concert with the CovDataReader utility, which abstracts away most
of the grubby details of reading coverage data files.</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code">type dstate struct {
calloc.BatchCounterAlloc
cm *cmerge.Merger
format *cformat.Formatter
mm map[pkfunc]decodecounter.FuncPayload
pkm map[uint32]uint32
pkgpaths map[string]struct{...}
pkgName string
pkgImportPath string
modulePath string
cmd string
textfmtoutf *os.File
totalStmts int
coveredStmts int
preambleEmitted bool
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="metaMerge" data-name="metaMerge">
               <h3>
                  metaMerge
                  <span class="badge">struct</span>
                  <a href="#metaMerge" class="anchor" title="Link to metaMerge">#</a>
               </h3>
               
               <p>metaMerge provides state and methods to help manage the process
of selecting or merging meta data files. There are three cases
of interest here: the "-pcombine" flag provided by merge, the
"-pkg" option provided by all merge/subtract/intersect, and
a regular vanilla merge with no package selection
In the -pcombine case, we're essentially glomming together all the
meta-data for all packages and all functions, meaning that
everything we see in a given package needs to be added into the
meta-data file builder; we emit a single meta-data file at the end
of the run.
In the -pkg case, we will typically emit a single meta-data file
per input pod, where that new meta-data file contains entries for
just the selected packages.
In the third case (vanilla merge with no combining or package
selection) we can carry over meta-data files without touching them
at all (only counter data files will be merged).</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code">type metaMerge struct {
calloc.BatchCounterAlloc
cmerge.Merger
pkm map[string]*pkstate
pkgs []*pkstate
p *pkstate
pod *podstate
astate *argstate
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="mstate" data-name="mstate">
               <h3>
                  mstate
                  <span class="badge">struct</span>
                  <a href="#mstate" class="anchor" title="Link to mstate">#</a>
               </h3>
               
               <p>mstate encapsulates state and provides methods for implementing the
merge operation. This type implements the CovDataVisitor interface,
and is designed to be used in concert with the CovDataReader
utility, which abstracts away most of the grubby details of reading
coverage data files. Most of the heavy lifting for merging is done
using apis from 'metaMerge' (this is mainly a wrapper around that
functionality).</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code">type mstate struct {
mm *metaMerge
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="pcombinestate" data-name="pcombinestate">
               <h3>
                  pcombinestate
                  <span class="badge">struct</span>
                  <a href="#pcombinestate" class="anchor" title="Link to pcombinestate">#</a>
               </h3>
               
               <p>pcombinestate</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code">type pcombinestate struct {
cmdb *encodemeta.CoverageMetaDataBuilder
ftab map[[16]byte]uint32
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="pkfunc" data-name="pkfunc">
               <h3>
                  pkfunc
                  <span class="badge">struct</span>
                  <a href="#pkfunc" class="anchor" title="Link to pkfunc">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code">type pkfunc struct {
pk uint32
fcn uint32
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="pkstate" data-name="pkstate">
               <h3>
                  pkstate
                  <span class="badge">struct</span>
                  <a href="#pkstate" class="anchor" title="Link to pkstate">#</a>
               </h3>
               
               <p>pkstate</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code">type pkstate struct {
pkgIdx uint32
ctab map[uint32]decodecounter.FuncPayload
mdblob []byte
*pcombinestate
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="podstate" data-name="podstate">
               <h3>
                  podstate
                  <span class="badge">struct</span>
                  <a href="#podstate" class="anchor" title="Link to podstate">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code">type podstate struct {
pmm map[pkfunc]decodecounter.FuncPayload
mdf string
mfr *decodemeta.CoverageMetaFileReader
fileHash [16]byte
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="sstate" data-name="sstate">
               <h3>
                  sstate
                  <span class="badge">struct</span>
                  <a href="#sstate" class="anchor" title="Link to sstate">#</a>
               </h3>
               
               <p>sstate holds state needed to implement subtraction and intersection
operations on code coverage data files. This type provides methods
to implement the CovDataVisitor interface, and is designed to be
used in concert with the CovDataReader utility, which abstracts
away most of the grubby details of reading coverage data files.</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code">type sstate struct {
mm *metaMerge
inidx int
mode string
imm map[pkfunc]struct{...}
}</code></pre>
            </article>
            
         </section>
          
         <section id="functions">
            <h2>Functions</h2>
            
            <article class="function symbol-anchor" id="ArgsSummary" data-name="ArgsSummary">
               <h3>
                  ArgsSummary 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#ArgsSummary" class="anchor" title="Link to ArgsSummary">#</a>
               </h3>
               
               <pre><code>func (a *argstate) ArgsSummary() map[string]string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="BeginCounterDataFile" data-name="BeginCounterDataFile">
               <h3>
                  BeginCounterDataFile 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#BeginCounterDataFile" class="anchor" title="Link to BeginCounterDataFile">#</a>
               </h3>
               
               <pre><code>func (s *sstate) BeginCounterDataFile(cdf string, cdr *decodecounter.CounterDataReader, dirIdx int)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="BeginCounterDataFile" data-name="BeginCounterDataFile">
               <h3>
                  BeginCounterDataFile 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#BeginCounterDataFile" class="anchor" title="Link to BeginCounterDataFile">#</a>
               </h3>
               
               <pre><code>func (m *mstate) BeginCounterDataFile(cdf string, cdr *decodecounter.CounterDataReader, dirIdx int)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="BeginCounterDataFile" data-name="BeginCounterDataFile">
               <h3>
                  BeginCounterDataFile 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#BeginCounterDataFile" class="anchor" title="Link to BeginCounterDataFile">#</a>
               </h3>
               
               <pre><code>func (d *dstate) BeginCounterDataFile(cdf string, cdr *decodecounter.CounterDataReader, dirIdx int)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="BeginPackage" data-name="BeginPackage">
               <h3>
                  BeginPackage 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#BeginPackage" class="anchor" title="Link to BeginPackage">#</a>
               </h3>
               
               <pre><code>func (m *mstate) BeginPackage(pd *decodemeta.CoverageMetaDataDecoder, pkgIdx uint32)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="BeginPackage" data-name="BeginPackage">
               <h3>
                  BeginPackage 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#BeginPackage" class="anchor" title="Link to BeginPackage">#</a>
               </h3>
               
               <pre><code>func (d *dstate) BeginPackage(pd *decodemeta.CoverageMetaDataDecoder, pkgIdx uint32)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="BeginPackage" data-name="BeginPackage">
               <h3>
                  BeginPackage 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#BeginPackage" class="anchor" title="Link to BeginPackage">#</a>
               </h3>
               
               <pre><code>func (s *sstate) BeginPackage(pd *decodemeta.CoverageMetaDataDecoder, pkgIdx uint32)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="BeginPod" data-name="BeginPod">
               <h3>
                  BeginPod 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#BeginPod" class="anchor" title="Link to BeginPod">#</a>
               </h3>
               
               <pre><code>func (d *dstate) BeginPod(p pods.Pod)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="BeginPod" data-name="BeginPod">
               <h3>
                  BeginPod 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#BeginPod" class="anchor" title="Link to BeginPod">#</a>
               </h3>
               
               <pre><code>func (s *sstate) BeginPod(p pods.Pod)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="BeginPod" data-name="BeginPod">
               <h3>
                  BeginPod 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#BeginPod" class="anchor" title="Link to BeginPod">#</a>
               </h3>
               
               <pre><code>func (m *mstate) BeginPod(p pods.Pod)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="EndCounterDataFile" data-name="EndCounterDataFile">
               <h3>
                  EndCounterDataFile 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#EndCounterDataFile" class="anchor" title="Link to EndCounterDataFile">#</a>
               </h3>
               
               <pre><code>func (d *dstate) EndCounterDataFile(cdf string, cdr *decodecounter.CounterDataReader, dirIdx int)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="EndCounterDataFile" data-name="EndCounterDataFile">
               <h3>
                  EndCounterDataFile 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#EndCounterDataFile" class="anchor" title="Link to EndCounterDataFile">#</a>
               </h3>
               
               <pre><code>func (m *mstate) EndCounterDataFile(cdf string, cdr *decodecounter.CounterDataReader, dirIdx int)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="EndCounterDataFile" data-name="EndCounterDataFile">
               <h3>
                  EndCounterDataFile 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#EndCounterDataFile" class="anchor" title="Link to EndCounterDataFile">#</a>
               </h3>
               
               <pre><code>func (s *sstate) EndCounterDataFile(cdf string, cdr *decodecounter.CounterDataReader, dirIdx int)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="EndCounters" data-name="EndCounters">
               <h3>
                  EndCounters 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#EndCounters" class="anchor" title="Link to EndCounters">#</a>
               </h3>
               
               <pre><code>func (m *mstate) EndCounters()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="EndCounters" data-name="EndCounters">
               <h3>
                  EndCounters 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#EndCounters" class="anchor" title="Link to EndCounters">#</a>
               </h3>
               
               <pre><code>func (d *dstate) EndCounters()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="EndCounters" data-name="EndCounters">
               <h3>
                  EndCounters 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#EndCounters" class="anchor" title="Link to EndCounters">#</a>
               </h3>
               
               <pre><code>func (s *sstate) EndCounters()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="EndPackage" data-name="EndPackage">
               <h3>
                  EndPackage 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#EndPackage" class="anchor" title="Link to EndPackage">#</a>
               </h3>
               
               <pre><code>func (s *sstate) EndPackage(pd *decodemeta.CoverageMetaDataDecoder, pkgIdx uint32)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="EndPackage" data-name="EndPackage">
               <h3>
                  EndPackage 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#EndPackage" class="anchor" title="Link to EndPackage">#</a>
               </h3>
               
               <pre><code>func (d *dstate) EndPackage(pd *decodemeta.CoverageMetaDataDecoder, pkgIdx uint32)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="EndPackage" data-name="EndPackage">
               <h3>
                  EndPackage 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#EndPackage" class="anchor" title="Link to EndPackage">#</a>
               </h3>
               
               <pre><code>func (m *mstate) EndPackage(pd *decodemeta.CoverageMetaDataDecoder, pkgIdx uint32)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="EndPod" data-name="EndPod">
               <h3>
                  EndPod 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#EndPod" class="anchor" title="Link to EndPod">#</a>
               </h3>
               
               <pre><code>func (m *mstate) EndPod(p pods.Pod)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="EndPod" data-name="EndPod">
               <h3>
                  EndPod 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#EndPod" class="anchor" title="Link to EndPod">#</a>
               </h3>
               
               <pre><code>func (s *sstate) EndPod(p pods.Pod)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="EndPod" data-name="EndPod">
               <h3>
                  EndPod 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#EndPod" class="anchor" title="Link to EndPod">#</a>
               </h3>
               
               <pre><code>func (d *dstate) EndPod(p pods.Pod)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Exit" data-name="Exit">
               <h3>
                  Exit 
                  <span class="badge">function</span>
                  
                  <a href="#Exit" class="anchor" title="Link to Exit">#</a>
               </h3>
               
               <pre><code>func Exit(code int)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Finish" data-name="Finish">
               <h3>
                  Finish 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Finish" class="anchor" title="Link to Finish">#</a>
               </h3>
               
               <pre><code>func (d *dstate) Finish()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Finish" data-name="Finish">
               <h3>
                  Finish 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Finish" class="anchor" title="Link to Finish">#</a>
               </h3>
               
               <pre><code>func (m *mstate) Finish()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Finish" data-name="Finish">
               <h3>
                  Finish 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Finish" class="anchor" title="Link to Finish">#</a>
               </h3>
               
               <pre><code>func (s *sstate) Finish()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Merge" data-name="Merge">
               <h3>
                  Merge 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Merge" class="anchor" title="Link to Merge">#</a>
               </h3>
               
               <pre><code>func (a *argstate) Merge(state argvalues)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Setup" data-name="Setup">
               <h3>
                  Setup 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Setup" class="anchor" title="Link to Setup">#</a>
               </h3>
               
               <pre><code>func (m *mstate) Setup()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Setup" data-name="Setup">
               <h3>
                  Setup 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Setup" class="anchor" title="Link to Setup">#</a>
               </h3>
               
               <p>Setup is called once at program startup time to vet flag values
and do any necessary setup operations.</p>
               
               <pre><code>func (d *dstate) Setup()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Setup" data-name="Setup">
               <h3>
                  Setup 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Setup" class="anchor" title="Link to Setup">#</a>
               </h3>
               
               <pre><code>func (s *sstate) Setup()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Usage" data-name="Usage">
               <h3>
                  Usage 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Usage" class="anchor" title="Link to Usage">#</a>
               </h3>
               
               <pre><code>func (d *dstate) Usage(msg string)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Usage" data-name="Usage">
               <h3>
                  Usage 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Usage" class="anchor" title="Link to Usage">#</a>
               </h3>
               
               <pre><code>func (m *mstate) Usage(msg string)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Usage" data-name="Usage">
               <h3>
                  Usage 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Usage" class="anchor" title="Link to Usage">#</a>
               </h3>
               
               <pre><code>func (s *sstate) Usage(msg string)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="VisitFunc" data-name="VisitFunc">
               <h3>
                  VisitFunc 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#VisitFunc" class="anchor" title="Link to VisitFunc">#</a>
               </h3>
               
               <pre><code>func (s *sstate) VisitFunc(pkgIdx uint32, fnIdx uint32, fd *coverage.FuncDesc)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="VisitFunc" data-name="VisitFunc">
               <h3>
                  VisitFunc 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#VisitFunc" class="anchor" title="Link to VisitFunc">#</a>
               </h3>
               
               <pre><code>func (d *dstate) VisitFunc(pkgIdx uint32, fnIdx uint32, fd *coverage.FuncDesc)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="VisitFunc" data-name="VisitFunc">
               <h3>
                  VisitFunc 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#VisitFunc" class="anchor" title="Link to VisitFunc">#</a>
               </h3>
               
               <pre><code>func (m *mstate) VisitFunc(pkgIdx uint32, fnIdx uint32, fd *coverage.FuncDesc)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="VisitFuncCounterData" data-name="VisitFuncCounterData">
               <h3>
                  VisitFuncCounterData 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#VisitFuncCounterData" class="anchor" title="Link to VisitFuncCounterData">#</a>
               </h3>
               
               <pre><code>func (s *sstate) VisitFuncCounterData(data decodecounter.FuncPayload)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="VisitFuncCounterData" data-name="VisitFuncCounterData">
               <h3>
                  VisitFuncCounterData 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#VisitFuncCounterData" class="anchor" title="Link to VisitFuncCounterData">#</a>
               </h3>
               
               <pre><code>func (d *dstate) VisitFuncCounterData(data decodecounter.FuncPayload)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="VisitFuncCounterData" data-name="VisitFuncCounterData">
               <h3>
                  VisitFuncCounterData 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#VisitFuncCounterData" class="anchor" title="Link to VisitFuncCounterData">#</a>
               </h3>
               
               <pre><code>func (m *mstate) VisitFuncCounterData(data decodecounter.FuncPayload)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="VisitFuncs" data-name="VisitFuncs">
               <h3>
                  VisitFuncs 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#VisitFuncs" class="anchor" title="Link to VisitFuncs">#</a>
               </h3>
               
               <p>VisitFuncs is used while writing the counter data files; it
implements the 'VisitFuncs' method required by the interface
internal/coverage/encodecounter/CounterVisitor.</p>
               
               <pre><code>func (mm *metaMerge) VisitFuncs(f encodecounter.CounterVisitorFn) error</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="VisitMetaDataFile" data-name="VisitMetaDataFile">
               <h3>
                  VisitMetaDataFile 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#VisitMetaDataFile" class="anchor" title="Link to VisitMetaDataFile">#</a>
               </h3>
               
               <pre><code>func (d *dstate) VisitMetaDataFile(mdf string, mfr *decodemeta.CoverageMetaFileReader)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="VisitMetaDataFile" data-name="VisitMetaDataFile">
               <h3>
                  VisitMetaDataFile 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#VisitMetaDataFile" class="anchor" title="Link to VisitMetaDataFile">#</a>
               </h3>
               
               <pre><code>func (m *mstate) VisitMetaDataFile(mdf string, mfr *decodemeta.CoverageMetaFileReader)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="VisitMetaDataFile" data-name="VisitMetaDataFile">
               <h3>
                  VisitMetaDataFile 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#VisitMetaDataFile" class="anchor" title="Link to VisitMetaDataFile">#</a>
               </h3>
               
               <pre><code>func (s *sstate) VisitMetaDataFile(mdf string, mfr *decodemeta.CoverageMetaFileReader)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="atExit" data-name="atExit">
               <h3>
                  atExit 
                  <span class="badge">function</span>
                  
                  <a href="#atExit" class="anchor" title="Link to atExit">#</a>
               </h3>
               
               <pre><code>func atExit(f func())</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="beginCounterDataFile" data-name="beginCounterDataFile">
               <h3>
                  beginCounterDataFile 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#beginCounterDataFile" class="anchor" title="Link to beginCounterDataFile">#</a>
               </h3>
               
               <pre><code>func (mm *metaMerge) beginCounterDataFile(cdr *decodecounter.CounterDataReader)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="beginPod" data-name="beginPod">
               <h3>
                  beginPod 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#beginPod" class="anchor" title="Link to beginPod">#</a>
               </h3>
               
               <pre><code>func (mm *metaMerge) beginPod()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="copyMetaDataFile" data-name="copyMetaDataFile">
               <h3>
                  copyMetaDataFile 
                  <span class="badge">function</span>
                  
                  <a href="#copyMetaDataFile" class="anchor" title="Link to copyMetaDataFile">#</a>
               </h3>
               
               <pre><code>func copyMetaDataFile(inpath string, outpath string)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="dbgtrace" data-name="dbgtrace">
               <h3>
                  dbgtrace 
                  <span class="badge">function</span>
                  
                  <a href="#dbgtrace" class="anchor" title="Link to dbgtrace">#</a>
               </h3>
               
               <pre><code>func dbgtrace(vlevel int, s string, a ...interface{})</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="emitCounters" data-name="emitCounters">
               <h3>
                  emitCounters 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#emitCounters" class="anchor" title="Link to emitCounters">#</a>
               </h3>
               
               <pre><code>func (mm *metaMerge) emitCounters(outdir string, metaHash [16]byte)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="emitMeta" data-name="emitMeta">
               <h3>
                  emitMeta 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#emitMeta" class="anchor" title="Link to emitMeta">#</a>
               </h3>
               
               <p>emitMeta encodes and writes out a new coverage meta-data file as
part of a merge operation, specifically a merge with the
"-pcombine" flag.</p>
               
               <pre><code>func (mm *metaMerge) emitMeta(outdir string, pcombine bool) [16]byte</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="endPod" data-name="endPod">
               <h3>
                  endPod 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#endPod" class="anchor" title="Link to endPod">#</a>
               </h3>
               
               <p>metaEndPod handles actions needed when we're done visiting all of
the things in a pod -- counter files and meta-data file. There are
three cases of interest here:
Case 1: in an unconditional merge (we're not selecting a specific set of
packages using "-pkg", and the "-pcombine" option is not in use),
we can simply copy over the meta-data file from input to output.
Case 2: if this is a select merge (-pkg is in effect), then at
this point we write out a new smaller meta-data file that includes
only the packages of interest. At this point we also emit a merged
counter data file as well.
Case 3: if "-pcombine" is in effect, we don't write anything at
this point (all writes will happen at the end of the run).</p>
               
               <pre><code>func (mm *metaMerge) endPod(pcombine bool)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="fatal" data-name="fatal">
               <h3>
                  fatal 
                  <span class="badge">function</span>
                  
                  <a href="#fatal" class="anchor" title="Link to fatal">#</a>
               </h3>
               
               <pre><code>func fatal(s string, a ...interface{})</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="main" data-name="main">
               <h3>
                  main 
                  <span class="badge">function</span>
                  
                  <a href="#main" class="anchor" title="Link to main">#</a>
               </h3>
               
               <pre><code>func main()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="makeDumpOp" data-name="makeDumpOp">
               <h3>
                  makeDumpOp 
                  <span class="badge">function</span>
                  
                  <a href="#makeDumpOp" class="anchor" title="Link to makeDumpOp">#</a>
               </h3>
               
               <pre><code>func makeDumpOp(cmd string) covOperation</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="makeMergeOp" data-name="makeMergeOp">
               <h3>
                  makeMergeOp 
                  <span class="badge">function</span>
                  
                  <a href="#makeMergeOp" class="anchor" title="Link to makeMergeOp">#</a>
               </h3>
               
               <pre><code>func makeMergeOp() covOperation</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="makeSubtractIntersectOp" data-name="makeSubtractIntersectOp">
               <h3>
                  makeSubtractIntersectOp 
                  <span class="badge">function</span>
                  
                  <a href="#makeSubtractIntersectOp" class="anchor" title="Link to makeSubtractIntersectOp">#</a>
               </h3>
               
               <p>makeSubtractIntersectOp creates a subtract or intersect operation.
'mode' here must be either "subtract" or "intersect".</p>
               
               <pre><code>func makeSubtractIntersectOp(mode string) covOperation</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="newMetaMerge" data-name="newMetaMerge">
               <h3>
                  newMetaMerge 
                  <span class="badge">function</span>
                  
                  <a href="#newMetaMerge" class="anchor" title="Link to newMetaMerge">#</a>
               </h3>
               
               <pre><code>func newMetaMerge() *metaMerge</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="pruneCounters" data-name="pruneCounters">
               <h3>
                  pruneCounters 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#pruneCounters" class="anchor" title="Link to pruneCounters">#</a>
               </h3>
               
               <p>pruneCounters performs a function-level partial intersection using the
current POD counter data (s.mm.pod.pmm) and the intersected data from
PODs in previous dirs (s.imm).</p>
               
               <pre><code>func (s *sstate) pruneCounters()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="usage" data-name="usage">
               <h3>
                  usage 
                  <span class="badge">function</span>
                  
                  <a href="#usage" class="anchor" title="Link to usage">#</a>
               </h3>
               
               <pre><code>func usage(msg string)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="visitFunc" data-name="visitFunc">
               <h3>
                  visitFunc 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#visitFunc" class="anchor" title="Link to visitFunc">#</a>
               </h3>
               
               <pre><code>func (mm *metaMerge) visitFunc(pkgIdx uint32, fnIdx uint32, fd *coverage.FuncDesc, verb string, pcombine bool)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="visitFuncCounterData" data-name="visitFuncCounterData">
               <h3>
                  visitFuncCounterData 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#visitFuncCounterData" class="anchor" title="Link to visitFuncCounterData">#</a>
               </h3>
               
               <pre><code>func (mm *metaMerge) visitFuncCounterData(data decodecounter.FuncPayload)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="visitMetaDataFile" data-name="visitMetaDataFile">
               <h3>
                  visitMetaDataFile 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#visitMetaDataFile" class="anchor" title="Link to visitMetaDataFile">#</a>
               </h3>
               
               <pre><code>func (mm *metaMerge) visitMetaDataFile(mdf string, mfr *decodemeta.CoverageMetaFileReader)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="visitPackage" data-name="visitPackage">
               <h3>
                  visitPackage 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#visitPackage" class="anchor" title="Link to visitPackage">#</a>
               </h3>
               
               <pre><code>func (mm *metaMerge) visitPackage(pd *decodemeta.CoverageMetaDataDecoder, pkgIdx uint32, pcombine bool)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="warn" data-name="warn">
               <h3>
                  warn 
                  <span class="badge">function</span>
                  
                  <a href="#warn" class="anchor" title="Link to warn">#</a>
               </h3>
               
               <pre><code>func warn(s string, a ...interface{})</code></pre>
            </article>
            
         </section>
         
      </main>

      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }

         function buildSymbolIndex() {
            const symbolIndex = document.getElementById('symbolIndex');
            if (!symbolIndex) return;

            const symbols = [];
            
            document.querySelectorAll('article[data-name]').forEach(article => {
               const name = article.dataset.name;
               const type = article.className.split(' ')[0]; 
               const isPrivateSymbol = isPrivate(name);
               
               if (name && name !== 'imports') {
                  symbols.push({
                     name,
                     type,
                     element: article,
                     isPrivate: isPrivateSymbol
                  });
               }
            });

            symbols.sort((a, b) => a.name.localeCompare(b.name));
            symbolIndex.innerHTML = '';
            symbols.forEach(symbol => {
               const li = document.createElement('li');
               const a = document.createElement('a');
               a.href = `#${symbol.name}`;
               a.textContent = symbol.name;
               a.title = `${symbol.type}: ${symbol.name}`;
               
               if (symbol.isPrivate) {
                  li.classList.add('private', 'hidden');
               }
               
               li.appendChild(a);
               symbolIndex.appendChild(li);
            });
         }

         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               imports: document.getElementById("showImports"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
               types: document.getElementById("showPrivateTypes"),
               interfaces: document.getElementById(
                  "showPrivateInterfaces"
               ),
            };

            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });

               if (toggle) {
                  toggle.addEventListener("change", () => {
                     const show = toggle.checked;
                     document
                        .querySelectorAll(`${selector}.private`)
                        .forEach((el) => {
                           el.classList.toggle("hidden", !show);
                        });
                     
                     const symbolIndexItems = document.querySelectorAll('#symbolIndex li.private');
                     symbolIndexItems.forEach(li => {
                        const link = li.querySelector('a');
                        if (link) {
                           const targetId = link.getAttribute('href').substring(1);
                           const targetEl = document.getElementById(targetId);
                           if (targetEl && targetEl.matches(selector)) {
                              li.classList.toggle("hidden", !show);
                           }
                        }
                     });
                  });
               }
            };

            hideInitial("article.imports", toggles.imports);
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            hideInitial("article.type", toggles.types);
            hideInitial("article.interface", toggles.interfaces);

            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;

                  const lines = codeBlock.innerHTML.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch && trimmed != "}") {
                           return `<span class="field-line">${line}</span>`;
                        }
                        if (nameMatch == null) return;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class="field-line${
                           isPriv ? " hidden private" : ""
                        }" data-name="${name}">${line}</span>`;
                     })
                     .join("");

                  codeBlock.innerHTML = newContent;

                  if (toggles.fields) {
                     toggles.fields.addEventListener("change", () => {
                        const show = toggles.fields.checked;
                        article
                           .querySelectorAll(".field-line.private")
                           .forEach((el) =>
                              el.classList.toggle("hidden", !show)
                           );
                     });
                  }
               });

            document
               .querySelectorAll("article.interface")
               .forEach((article) => {
                  const codeBlock = article.querySelector(
                     "code.methods-code"
                  );
                  if (!codeBlock) return;

                  const lines = codeBlock.innerHTML.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch && !trimmed.endsWith("{") && trimmed != "}") {
                           return `<span class="method-line">${line}</span>`;
                        } else {
                           return ``;
                        }

                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class="method-line${
                           isPriv ? " hidden private" : ""
                        }" data-name="${name}">${line}</span>`;
                     })
                     .join("");

                  codeBlock.innerHTML = newContent;

                  if (toggles.fields) {
                     toggles.fields.addEventListener("change", () => {
                        const show = toggles.fields.checked;
                        article
                           .querySelectorAll(".method-line.private")
                           .forEach((el) =>
                              el.classList.toggle("hidden", !show)
                           );
                     });
                  }
               });

            const searchInput = document.getElementById("searchInput");
            if (searchInput) {
               searchInput.addEventListener("input", () => {
                  const query = searchInput.value.trim().toLowerCase();

                  document.querySelectorAll("article").forEach((el) => {
                     const name = el.dataset.name;
                     if (!name) return;

                     const matches =
                        query === "" ||
                        name.toLowerCase().includes(query) ||
                        (el.textContent &&
                           el.textContent.toLowerCase().includes(query));

                     if (matches) {
                        const isPrivateEl =
                           el.classList.contains("private");
                        const shouldShowPrivate =
                           getPrivateToggleState(el);

                        if (!isPrivateEl || shouldShowPrivate) {
                           el.classList.remove("hidden");
                        }
                     } else {
                        el.classList.add("hidden");
                     }
                  });

                  document.querySelectorAll('#symbolIndex li').forEach(li => {
                     const link = li.querySelector('a');
                     if (link) {
                        const symbolName = link.textContent.toLowerCase();
                        const matches = query === "" || symbolName.includes(query);
                        
                        if (matches) {
                           const isPrivateSymbol = li.classList.contains('private');
                           const targetId = link.getAttribute('href').substring(1);
                           const targetEl = document.getElementById(targetId);
                           const shouldShowPrivate = targetEl ? getPrivateToggleState(targetEl) : false;
                           
                           if (!isPrivateSymbol || shouldShowPrivate) {
                              li.style.display = '';
                           }
                        } else {
                           li.style.display = 'none';
                        }
                     }
                  });
               });
            }

            function getPrivateToggleState(element) {
               if (element.classList.contains("function")) {
                  return toggles.functions?.checked || false;
               } else if (element.classList.contains("struct")) {
                  return toggles.structs?.checked || false;
               } else if (element.classList.contains("global")) {
                  return toggles.globals?.checked || false;
               } else if (element.classList.contains("type")) {
                  return toggles.types?.checked || false;
               } else if (element.classList.contains("interface")) {
                  return toggles.interfaces?.checked || false;
               } else if (element.classList.contains("imports")) {
                  return toggles.imports?.checked || false;
               }
               return false;
            }

            buildSymbolIndex();

            document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
               anchor.addEventListener("click", function (e) {
                  const target = document.querySelector(
                     this.getAttribute("href")
                  );
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               });
            });

            window.addEventListener('hashchange', () => {
               const hash = window.location.hash;
               if (hash) {
                  const target = document.querySelector(hash);
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               }
            });

            if (window.location.hash) {
               setTimeout(() => {
                  const target = document.querySelector(window.location.hash);
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               }, 100);
            }
         });
      </script>
   </body>
</html>