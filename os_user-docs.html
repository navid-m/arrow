<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - user</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
         
         <span style="color: rgba(177, 175, 175, 0.5)">
            No subpackages
         </span>
         
      </aside>
      <main>
         <h1>
            Package
            <code>user</code>
         </h1>
         <hr />
         
         <article class="global" data-name="testGroupFile">
            <h2>testGroupFile</h2>
            <hr />
            
            <pre><code>testGroupFile</code></pre>
         </article>
         
         <article class="global" data-name="listGroupsTests">
            <h2>listGroupsTests</h2>
            <hr />
            
            <pre><code>listGroupsTests</code></pre>
         </article>
         
         <article class="global" data-name="userBuffer">
            <h2>userBuffer</h2>
            <hr />
            
            <p>unused variables (in this implementation)
modified during test to exercise code paths in the cgo implementation.</p>
            
            <pre><code>userBuffer</code></pre>
         </article>
         
         <article class="global" data-name="groupBuffer">
            <h2>groupBuffer</h2>
            <hr />
            
            <pre><code>groupBuffer</code></pre>
         </article>
         
         <article class="global" data-name="userImplemented">
            <h2>userImplemented</h2>
            <hr />
            
            <p>These may be set to false in init() for a particular platform and/or
build flags to let the tests know to skip tests of some features.</p>
            
            <pre><code>userImplemented</code></pre>
         </article>
         
         <article class="global" data-name="groupImplemented">
            <h2>groupImplemented</h2>
            <hr />
            
            <p>These may be set to false in init() for a particular platform and/or
build flags to let the tests know to skip tests of some features.</p>
            
            <pre><code>groupImplemented</code></pre>
         </article>
         
         <article class="global" data-name="groupListImplemented">
            <h2>groupListImplemented</h2>
            <hr />
            
            <p>These may be set to false in init() for a particular platform and/or
build flags to let the tests know to skip tests of some features.</p>
            
            <pre><code>groupListImplemented</code></pre>
         </article>
         
         <article class="global" data-name="_C__SC_GETPW_R_SIZE_MAX">
            <h2>_C__SC_GETPW_R_SIZE_MAX</h2>
            <hr />
            
            <pre><code>_C__SC_GETPW_R_SIZE_MAX</code></pre>
         </article>
         
         <article class="global" data-name="_C__SC_GETGR_R_SIZE_MAX">
            <h2>_C__SC_GETGR_R_SIZE_MAX</h2>
            <hr />
            
            <pre><code>_C__SC_GETGR_R_SIZE_MAX</code></pre>
         </article>
         
         <article class="global" data-name="userBuffer">
            <h2>userBuffer</h2>
            <hr />
            
            <p>unused variables (in this implementation)
modified during test to exercise code paths in the cgo implementation.</p>
            
            <pre><code>userBuffer</code></pre>
         </article>
         
         <article class="global" data-name="groupBuffer">
            <h2>groupBuffer</h2>
            <hr />
            
            <pre><code>groupBuffer</code></pre>
         </article>
         
         <article class="global" data-name="hasCgo">
            <h2>hasCgo</h2>
            <hr />
            
            <pre><code>hasCgo</code></pre>
         </article>
         
         <article class="global" data-name="hasUSER">
            <h2>hasUSER</h2>
            <hr />
            
            <pre><code>hasUSER</code></pre>
         </article>
         
         <article class="global" data-name="hasHOME">
            <h2>hasHOME</h2>
            <hr />
            
            <pre><code>hasHOME</code></pre>
         </article>
         
         <article class="global" data-name="maxGroups">
            <h2>maxGroups</h2>
            <hr />
            
            <pre><code>maxGroups</code></pre>
         </article>
         
         <article class="global" data-name="serviceAccounts">
            <h2>serviceAccounts</h2>
            <hr />
            
            <pre><code>serviceAccounts</code></pre>
         </article>
         
         <article class="global" data-name="_C__SC_GETPW_R_SIZE_MAX">
            <h2>_C__SC_GETPW_R_SIZE_MAX</h2>
            <hr />
            
            <pre><code>_C__SC_GETPW_R_SIZE_MAX</code></pre>
         </article>
         
         <article class="global" data-name="_C__SC_GETGR_R_SIZE_MAX">
            <h2>_C__SC_GETGR_R_SIZE_MAX</h2>
            <hr />
            
            <pre><code>_C__SC_GETGR_R_SIZE_MAX</code></pre>
         </article>
         
         <article class="global" data-name="userBuffer">
            <h2>userBuffer</h2>
            <hr />
            
            <pre><code>userBuffer</code></pre>
         </article>
         
         <article class="global" data-name="groupBuffer">
            <h2>groupBuffer</h2>
            <hr />
            
            <pre><code>groupBuffer</code></pre>
         </article>
         
         <article class="global" data-name="maxBufferSize">
            <h2>maxBufferSize</h2>
            <hr />
            
            <pre><code>maxBufferSize</code></pre>
         </article>
         
         <article class="global" data-name="userFile">
            <h2>userFile</h2>
            <hr />
            
            <pre><code>userFile</code></pre>
         </article>
         
         <article class="global" data-name="groupFile">
            <h2>groupFile</h2>
            <hr />
            
            <pre><code>groupFile</code></pre>
         </article>
         
         <article class="global" data-name="colon">
            <h2>colon</h2>
            <hr />
            
            <pre><code>colon</code></pre>
         </article>
         
         <article class="global" data-name="cache">
            <h2>cache</h2>
            <hr />
            
            <p>cache of the current user</p>
            
            <pre><code>cache *ast.StructType</code></pre>
         </article>
         
         <article class="global" data-name="userBuffer">
            <h2>userBuffer</h2>
            <hr />
            
            <p>unused variables (in this implementation)
modified during test to exercise code paths in the cgo implementation.</p>
            
            <pre><code>userBuffer</code></pre>
         </article>
         
         <article class="global" data-name="groupBuffer">
            <h2>groupBuffer</h2>
            <hr />
            
            <pre><code>groupBuffer</code></pre>
         </article>
         
         <article class="global" data-name="groupTests">
            <h2>groupTests</h2>
            <hr />
            
            <pre><code>groupTests</code></pre>
         </article>
         
         <article class="global" data-name="groupIdTests">
            <h2>groupIdTests</h2>
            <hr />
            
            <pre><code>groupIdTests</code></pre>
         </article>
         
         <article class="global" data-name="testUserFile">
            <h2>testUserFile</h2>
            <hr />
            
            <pre><code>testUserFile</code></pre>
         </article>
         
         <article class="global" data-name="userIdTests">
            <h2>userIdTests</h2>
            <hr />
            
            <pre><code>userIdTests</code></pre>
         </article>
         
         <article class="global" data-name="userTests">
            <h2>userTests</h2>
            <hr />
            
            <pre><code>userTests</code></pre>
         </article>
          
         <article class="struct" data-name="User">
            <h2>type User struct</h2>
            <hr />
            
            <p>User represents a user account.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">Uid string
Gid string
Username string
Name string
HomeDir string</code></pre>
         </article>
         
         <article class="struct" data-name="Group">
            <h2>type Group struct</h2>
            <hr />
            
            <p>Group represents a grouping of users.

On POSIX systems Gid contains a decimal number representing the group ID.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">Gid string
Name string</code></pre>
         </article>
          
         <article class="function" data-name="listGroupsFromReader">
            <h2>listGroupsFromReader</h2>
            <hr />
            
            <pre><code>func listGroupsFromReader(u *User, r io.Reader) ([]string, error)</code></pre>
         </article>
         
         <article class="function" data-name="listGroups">
            <h2>listGroups</h2>
            <hr />
            
            <pre><code>func listGroups(u *User) ([]string, error)</code></pre>
         </article>
         
         <article class="function" data-name="largeGroup">
            <h2>largeGroup</h2>
            <hr />
            
            <pre><code>func largeGroup() res string</code></pre>
         </article>
         
         <article class="function" data-name="TestListGroups">
            <h2>TestListGroups</h2>
            <hr />
            
            <pre><code>func TestListGroups(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="checkSameIDs">
            <h2>checkSameIDs</h2>
            <hr />
            
            <pre><code>func checkSameIDs(t *testing.T, got []string, want []string)</code></pre>
         </article>
         
         <article class="function" data-name="isDomainJoined">
            <h2>isDomainJoined</h2>
            <hr />
            
            <pre><code>func isDomainJoined() (bool, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupFullNameDomain">
            <h2>lookupFullNameDomain</h2>
            <hr />
            
            <pre><code>func lookupFullNameDomain(domainAndUser string) (string, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupFullNameServer">
            <h2>lookupFullNameServer</h2>
            <hr />
            
            <pre><code>func lookupFullNameServer(servername string, username string) (string, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupFullName">
            <h2>lookupFullName</h2>
            <hr />
            
            <pre><code>func lookupFullName(domain string, username string, domainAndUser string) (string, error)</code></pre>
         </article>
         
         <article class="function" data-name="getProfilesDirectory">
            <h2>getProfilesDirectory</h2>
            <hr />
            
            <p>getProfilesDirectory retrieves the path to the root directory
where user profiles are stored.</p>
            
            <pre><code>func getProfilesDirectory() (string, error)</code></pre>
         </article>
         
         <article class="function" data-name="isServiceAccount">
            <h2>isServiceAccount</h2>
            <hr />
            
            <pre><code>func isServiceAccount(sid *syscall.SID) bool</code></pre>
         </article>
         
         <article class="function" data-name="isValidUserAccountType">
            <h2>isValidUserAccountType</h2>
            <hr />
            
            <pre><code>func isValidUserAccountType(sid *syscall.SID, sidType uint32) bool</code></pre>
         </article>
         
         <article class="function" data-name="isValidGroupAccountType">
            <h2>isValidGroupAccountType</h2>
            <hr />
            
            <pre><code>func isValidGroupAccountType(sidType uint32) bool</code></pre>
         </article>
         
         <article class="function" data-name="lookupUsernameAndDomain">
            <h2>lookupUsernameAndDomain</h2>
            <hr />
            
            <p>lookupUsernameAndDomain obtains the username and domain for usid.</p>
            
            <pre><code>func lookupUsernameAndDomain(usid *syscall.SID) (username string, domain string, sidType uint32, e error)</code></pre>
         </article>
         
         <article class="function" data-name="findHomeDirInRegistry">
            <h2>findHomeDirInRegistry</h2>
            <hr />
            
            <p>findHomeDirInRegistry finds the user home path based on the uid.</p>
            
            <pre><code>func findHomeDirInRegistry(uid string) (dir string, e error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupGroupName">
            <h2>lookupGroupName</h2>
            <hr />
            
            <p>lookupGroupName accepts the name of a group and retrieves the group SID.</p>
            
            <pre><code>func lookupGroupName(groupname string) (string, error)</code></pre>
         </article>
         
         <article class="function" data-name="listGroupsForUsernameAndDomain">
            <h2>listGroupsForUsernameAndDomain</h2>
            <hr />
            
            <p>listGroupsForUsernameAndDomain accepts username and domain and retrieves
a SID list of the local groups where this user is a member.</p>
            
            <pre><code>func listGroupsForUsernameAndDomain(username string, domain string) ([]string, error)</code></pre>
         </article>
         
         <article class="function" data-name="newUser">
            <h2>newUser</h2>
            <hr />
            
            <pre><code>func newUser(uid string, gid string, dir string, username string, domain string) (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="current">
            <h2>current</h2>
            <hr />
            
            <pre><code>func current() (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="runAsProcessOwner">
            <h2>runAsProcessOwner</h2>
            <hr />
            
            <p>runAsProcessOwner runs f in the context of the current process owner,
that is, removing any impersonation that may be in effect before calling f,
and restoring the impersonation afterwards.</p>
            
            <pre><code>func runAsProcessOwner(f func) error</code></pre>
         </article>
         
         <article class="function" data-name="getCurrentToken">
            <h2>getCurrentToken</h2>
            <hr />
            
            <p>getCurrentToken returns the current thread token, or
the process token if the thread doesn't have a token.</p>
            
            <pre><code>func getCurrentToken() (t syscall.Token, isProcessToken bool, err error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupUserPrimaryGroup">
            <h2>lookupUserPrimaryGroup</h2>
            <hr />
            
            <p>lookupUserPrimaryGroup obtains the primary group SID for a user using this method:
https://support.microsoft.com/en-us/help/297951/how-to-use-the-primarygroupid-attribute-to-find-the-primary-group-for
The method follows this formula: domainRID + "-" + primaryGroupRID</p>
            
            <pre><code>func lookupUserPrimaryGroup(username string, domain string) (string, error)</code></pre>
         </article>
         
         <article class="function" data-name="newUserFromSid">
            <h2>newUserFromSid</h2>
            <hr />
            
            <pre><code>func newUserFromSid(usid *syscall.SID) (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupUser">
            <h2>lookupUser</h2>
            <hr />
            
            <pre><code>func lookupUser(username string) (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupUserId">
            <h2>lookupUserId</h2>
            <hr />
            
            <pre><code>func lookupUserId(uid string) (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupGroup">
            <h2>lookupGroup</h2>
            <hr />
            
            <pre><code>func lookupGroup(groupname string) (*Group, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupGroupId">
            <h2>lookupGroupId</h2>
            <hr />
            
            <pre><code>func lookupGroupId(gid string) (*Group, error)</code></pre>
         </article>
         
         <article class="function" data-name="listGroups">
            <h2>listGroups</h2>
            <hr />
            
            <pre><code>func listGroups(user *User) ([]string, error)</code></pre>
         </article>
         
         <article class="function" data-name="Error">
            <h2>Error</h2>
            <hr />
            
            <pre><code>func Error() string</code></pre>
         </article>
         
         <article class="function" data-name="Error">
            <h2>Error</h2>
            <hr />
            
            <pre><code>func Error() string</code></pre>
         </article>
         
         <article class="function" data-name="Error">
            <h2>Error</h2>
            <hr />
            
            <pre><code>func Error() string</code></pre>
         </article>
         
         <article class="function" data-name="Error">
            <h2>Error</h2>
            <hr />
            
            <pre><code>func Error() string</code></pre>
         </article>
         
         <article class="function" data-name="_C_pw_uid">
            <h2>_C_pw_uid</h2>
            <hr />
            
            <pre><code>func _C_pw_uid(p *_C_struct_passwd) _C_uid_t</code></pre>
         </article>
         
         <article class="function" data-name="_C_pw_uidp">
            <h2>_C_pw_uidp</h2>
            <hr />
            
            <pre><code>func _C_pw_uidp(p *_C_struct_passwd) *_C_uid_t</code></pre>
         </article>
         
         <article class="function" data-name="_C_pw_gid">
            <h2>_C_pw_gid</h2>
            <hr />
            
            <pre><code>func _C_pw_gid(p *_C_struct_passwd) _C_gid_t</code></pre>
         </article>
         
         <article class="function" data-name="_C_pw_gidp">
            <h2>_C_pw_gidp</h2>
            <hr />
            
            <pre><code>func _C_pw_gidp(p *_C_struct_passwd) *_C_gid_t</code></pre>
         </article>
         
         <article class="function" data-name="_C_pw_name">
            <h2>_C_pw_name</h2>
            <hr />
            
            <pre><code>func _C_pw_name(p *_C_struct_passwd) *_C_char</code></pre>
         </article>
         
         <article class="function" data-name="_C_pw_gecos">
            <h2>_C_pw_gecos</h2>
            <hr />
            
            <pre><code>func _C_pw_gecos(p *_C_struct_passwd) *_C_char</code></pre>
         </article>
         
         <article class="function" data-name="_C_pw_dir">
            <h2>_C_pw_dir</h2>
            <hr />
            
            <pre><code>func _C_pw_dir(p *_C_struct_passwd) *_C_char</code></pre>
         </article>
         
         <article class="function" data-name="_C_gr_gid">
            <h2>_C_gr_gid</h2>
            <hr />
            
            <pre><code>func _C_gr_gid(g *_C_struct_group) _C_gid_t</code></pre>
         </article>
         
         <article class="function" data-name="_C_gr_name">
            <h2>_C_gr_name</h2>
            <hr />
            
            <pre><code>func _C_gr_name(g *_C_struct_group) *_C_char</code></pre>
         </article>
         
         <article class="function" data-name="_C_GoString">
            <h2>_C_GoString</h2>
            <hr />
            
            <pre><code>func _C_GoString(p *_C_char) string</code></pre>
         </article>
         
         <article class="function" data-name="_C_getpwnam_r">
            <h2>_C_getpwnam_r</h2>
            <hr />
            
            <pre><code>func _C_getpwnam_r(name *_C_char, buf *_C_char, size _C_size_t) (pwd _C_struct_passwd, found bool, errno syscall.Errno)</code></pre>
         </article>
         
         <article class="function" data-name="_C_getpwuid_r">
            <h2>_C_getpwuid_r</h2>
            <hr />
            
            <pre><code>func _C_getpwuid_r(uid _C_uid_t, buf *_C_char, size _C_size_t) (pwd _C_struct_passwd, found bool, errno syscall.Errno)</code></pre>
         </article>
         
         <article class="function" data-name="_C_getgrnam_r">
            <h2>_C_getgrnam_r</h2>
            <hr />
            
            <pre><code>func _C_getgrnam_r(name *_C_char, buf *_C_char, size _C_size_t) (grp _C_struct_group, found bool, errno syscall.Errno)</code></pre>
         </article>
         
         <article class="function" data-name="_C_getgrgid_r">
            <h2>_C_getgrgid_r</h2>
            <hr />
            
            <pre><code>func _C_getgrgid_r(gid _C_gid_t, buf *_C_char, size _C_size_t) (grp _C_struct_group, found bool, errno syscall.Errno)</code></pre>
         </article>
         
         <article class="function" data-name="_C_sysconf">
            <h2>_C_sysconf</h2>
            <hr />
            
            <pre><code>func _C_sysconf(key _C_int) _C_long</code></pre>
         </article>
         
         <article class="function" data-name="init">
            <h2>init</h2>
            <hr />
            
            <pre><code>func init()</code></pre>
         </article>
         
         <article class="function" data-name="listGroups">
            <h2>listGroups</h2>
            <hr />
            
            <pre><code>func listGroups(*User) ([]string, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupUser">
            <h2>lookupUser</h2>
            <hr />
            
            <pre><code>func lookupUser(string) (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupUserId">
            <h2>lookupUserId</h2>
            <hr />
            
            <pre><code>func lookupUserId(string) (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupGroup">
            <h2>lookupGroup</h2>
            <hr />
            
            <pre><code>func lookupGroup(string) (*Group, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupGroupId">
            <h2>lookupGroupId</h2>
            <hr />
            
            <pre><code>func lookupGroupId(string) (*Group, error)</code></pre>
         </article>
         
         <article class="function" data-name="init">
            <h2>init</h2>
            <hr />
            
            <pre><code>func init()</code></pre>
         </article>
         
         <article class="function" data-name="current">
            <h2>current</h2>
            <hr />
            
            <pre><code>func current() (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupUser">
            <h2>lookupUser</h2>
            <hr />
            
            <pre><code>func lookupUser(username string) (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupUserId">
            <h2>lookupUserId</h2>
            <hr />
            
            <pre><code>func lookupUserId(uid string) (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupGroup">
            <h2>lookupGroup</h2>
            <hr />
            
            <pre><code>func lookupGroup(groupname string) (*Group, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupGroupId">
            <h2>lookupGroupId</h2>
            <hr />
            
            <pre><code>func lookupGroupId(string) (*Group, error)</code></pre>
         </article>
         
         <article class="function" data-name="listGroups">
            <h2>listGroups</h2>
            <hr />
            
            <pre><code>func listGroups(*User) ([]string, error)</code></pre>
         </article>
         
         <article class="function" data-name="readColonFile">
            <h2>readColonFile</h2>
            <hr />
            
            <p>readColonFile parses r as an /etc/group or /etc/passwd style file, running
fn for each row. readColonFile returns a value, an error, or (nil, nil) if
the end of the file is reached without a match.

readCols is the minimum number of colon-separated fields that will be passed
to fn; in a long line additional fields may be silently discarded.</p>
            
            <pre><code>func readColonFile(r io.Reader, fn lineFunc, readCols int) (v any, err error)</code></pre>
         </article>
         
         <article class="function" data-name="matchGroupIndexValue">
            <h2>matchGroupIndexValue</h2>
            <hr />
            
            <pre><code>func matchGroupIndexValue(value string, idx int) lineFunc</code></pre>
         </article>
         
         <article class="function" data-name="findGroupId">
            <h2>findGroupId</h2>
            <hr />
            
            <pre><code>func findGroupId(id string, r io.Reader) (*Group, error)</code></pre>
         </article>
         
         <article class="function" data-name="findGroupName">
            <h2>findGroupName</h2>
            <hr />
            
            <pre><code>func findGroupName(name string, r io.Reader) (*Group, error)</code></pre>
         </article>
         
         <article class="function" data-name="matchUserIndexValue">
            <h2>matchUserIndexValue</h2>
            <hr />
            
            <p>returns a *User for a row if that row's has the given value at the
given index.</p>
            
            <pre><code>func matchUserIndexValue(value string, idx int) lineFunc</code></pre>
         </article>
         
         <article class="function" data-name="findUserId">
            <h2>findUserId</h2>
            <hr />
            
            <pre><code>func findUserId(uid string, r io.Reader) (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="findUsername">
            <h2>findUsername</h2>
            <hr />
            
            <pre><code>func findUsername(name string, r io.Reader) (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupGroup">
            <h2>lookupGroup</h2>
            <hr />
            
            <pre><code>func lookupGroup(groupname string) (*Group, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupGroupId">
            <h2>lookupGroupId</h2>
            <hr />
            
            <pre><code>func lookupGroupId(id string) (*Group, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupUser">
            <h2>lookupUser</h2>
            <hr />
            
            <pre><code>func lookupUser(username string) (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupUserId">
            <h2>lookupUserId</h2>
            <hr />
            
            <pre><code>func lookupUserId(uid string) (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="checkUser">
            <h2>checkUser</h2>
            <hr />
            
            <pre><code>func checkUser(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestCurrent">
            <h2>TestCurrent</h2>
            <hr />
            
            <pre><code>func TestCurrent(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="BenchmarkCurrent">
            <h2>BenchmarkCurrent</h2>
            <hr />
            
            <pre><code>func BenchmarkCurrent(b *testing.B)</code></pre>
         </article>
         
         <article class="function" data-name="compare">
            <h2>compare</h2>
            <hr />
            
            <pre><code>func compare(t *testing.T, want *User, got *User)</code></pre>
         </article>
         
         <article class="function" data-name="TestLookup">
            <h2>TestLookup</h2>
            <hr />
            
            <pre><code>func TestLookup(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestLookupId">
            <h2>TestLookupId</h2>
            <hr />
            
            <pre><code>func TestLookupId(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="checkGroup">
            <h2>checkGroup</h2>
            <hr />
            
            <pre><code>func checkGroup(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestLookupGroup">
            <h2>TestLookupGroup</h2>
            <hr />
            
            <pre><code>func TestLookupGroup(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="checkGroupList">
            <h2>checkGroupList</h2>
            <hr />
            
            <pre><code>func checkGroupList(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestGroupIds">
            <h2>TestGroupIds</h2>
            <hr />
            
            <pre><code>func TestGroupIds(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="containsID">
            <h2>containsID</h2>
            <hr />
            
            <pre><code>func containsID(ids []string, id string) bool</code></pre>
         </article>
         
         <article class="function" data-name="listGroups">
            <h2>listGroups</h2>
            <hr />
            
            <pre><code>func listGroups(u *User) ([]string, error)</code></pre>
         </article>
         
         <article class="function" data-name="groupRetry">
            <h2>groupRetry</h2>
            <hr />
            
            <p>groupRetry retries getGroupList with much larger size for n. The result is
stored in gids.</p>
            
            <pre><code>func groupRetry(username string, name []byte, userGID _C_gid_t, gids *[]_C_gid_t, n *_C_int) error</code></pre>
         </article>
         
         <article class="function" data-name="windowsTestAccount">
            <h2>windowsTestAccount</h2>
            <hr />
            
            <p>windowsTestAccount creates a test user and returns a token for that user.
If the user already exists, it will be deleted and recreated.
The caller is responsible for closing the token.</p>
            
            <pre><code>func windowsTestAccount(t *testing.T) (syscall.Token, *User)</code></pre>
         </article>
         
         <article class="function" data-name="TestImpersonatedSelf">
            <h2>TestImpersonatedSelf</h2>
            <hr />
            
            <pre><code>func TestImpersonatedSelf(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestImpersonated">
            <h2>TestImpersonated</h2>
            <hr />
            
            <pre><code>func TestImpersonated(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestCurrentNetapi32">
            <h2>TestCurrentNetapi32</h2>
            <hr />
            
            <pre><code>func TestCurrentNetapi32(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestGroupIdsTestUser">
            <h2>TestGroupIdsTestUser</h2>
            <hr />
            
            <pre><code>func TestGroupIdsTestUser(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestLookupServiceAccount">
            <h2>TestLookupServiceAccount</h2>
            <hr />
            
            <pre><code>func TestLookupServiceAccount(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestLookupIdServiceAccount">
            <h2>TestLookupIdServiceAccount</h2>
            <hr />
            
            <pre><code>func TestLookupIdServiceAccount(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestLookupGroupServiceAccount">
            <h2>TestLookupGroupServiceAccount</h2>
            <hr />
            
            <pre><code>func TestLookupGroupServiceAccount(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestLookupGroupIdServiceAccount">
            <h2>TestLookupGroupIdServiceAccount</h2>
            <hr />
            
            <pre><code>func TestLookupGroupIdServiceAccount(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="_C_pw_uid">
            <h2>_C_pw_uid</h2>
            <hr />
            
            <pre><code>func _C_pw_uid(p *_C_struct_passwd) _C_uid_t</code></pre>
         </article>
         
         <article class="function" data-name="_C_pw_uidp">
            <h2>_C_pw_uidp</h2>
            <hr />
            
            <pre><code>func _C_pw_uidp(p *_C_struct_passwd) *_C_uid_t</code></pre>
         </article>
         
         <article class="function" data-name="_C_pw_gid">
            <h2>_C_pw_gid</h2>
            <hr />
            
            <pre><code>func _C_pw_gid(p *_C_struct_passwd) _C_gid_t</code></pre>
         </article>
         
         <article class="function" data-name="_C_pw_gidp">
            <h2>_C_pw_gidp</h2>
            <hr />
            
            <pre><code>func _C_pw_gidp(p *_C_struct_passwd) *_C_gid_t</code></pre>
         </article>
         
         <article class="function" data-name="_C_pw_name">
            <h2>_C_pw_name</h2>
            <hr />
            
            <pre><code>func _C_pw_name(p *_C_struct_passwd) *_C_char</code></pre>
         </article>
         
         <article class="function" data-name="_C_pw_gecos">
            <h2>_C_pw_gecos</h2>
            <hr />
            
            <pre><code>func _C_pw_gecos(p *_C_struct_passwd) *_C_char</code></pre>
         </article>
         
         <article class="function" data-name="_C_pw_dir">
            <h2>_C_pw_dir</h2>
            <hr />
            
            <pre><code>func _C_pw_dir(p *_C_struct_passwd) *_C_char</code></pre>
         </article>
         
         <article class="function" data-name="_C_gr_gid">
            <h2>_C_gr_gid</h2>
            <hr />
            
            <pre><code>func _C_gr_gid(g *_C_struct_group) _C_gid_t</code></pre>
         </article>
         
         <article class="function" data-name="_C_gr_name">
            <h2>_C_gr_name</h2>
            <hr />
            
            <pre><code>func _C_gr_name(g *_C_struct_group) *_C_char</code></pre>
         </article>
         
         <article class="function" data-name="_C_GoString">
            <h2>_C_GoString</h2>
            <hr />
            
            <pre><code>func _C_GoString(p *_C_char) string</code></pre>
         </article>
         
         <article class="function" data-name="_C_getpwnam_r">
            <h2>_C_getpwnam_r</h2>
            <hr />
            
            <pre><code>func _C_getpwnam_r(name *_C_char, buf *_C_char, size _C_size_t) (pwd _C_struct_passwd, found bool, errno syscall.Errno)</code></pre>
         </article>
         
         <article class="function" data-name="_C_getpwuid_r">
            <h2>_C_getpwuid_r</h2>
            <hr />
            
            <pre><code>func _C_getpwuid_r(uid _C_uid_t, buf *_C_char, size _C_size_t) (pwd _C_struct_passwd, found bool, errno syscall.Errno)</code></pre>
         </article>
         
         <article class="function" data-name="_C_getgrnam_r">
            <h2>_C_getgrnam_r</h2>
            <hr />
            
            <pre><code>func _C_getgrnam_r(name *_C_char, buf *_C_char, size _C_size_t) (grp _C_struct_group, found bool, errno syscall.Errno)</code></pre>
         </article>
         
         <article class="function" data-name="_C_getgrgid_r">
            <h2>_C_getgrgid_r</h2>
            <hr />
            
            <pre><code>func _C_getgrgid_r(gid _C_gid_t, buf *_C_char, size _C_size_t) (grp _C_struct_group, found bool, errno syscall.Errno)</code></pre>
         </article>
         
         <article class="function" data-name="_C_sysconf">
            <h2>_C_sysconf</h2>
            <hr />
            
            <pre><code>func _C_sysconf(key _C_int) _C_long</code></pre>
         </article>
         
         <article class="function" data-name="current">
            <h2>current</h2>
            <hr />
            
            <pre><code>func current() (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupUser">
            <h2>lookupUser</h2>
            <hr />
            
            <pre><code>func lookupUser(username string) (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupUserId">
            <h2>lookupUserId</h2>
            <hr />
            
            <pre><code>func lookupUserId(uid string) (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupUnixUid">
            <h2>lookupUnixUid</h2>
            <hr />
            
            <pre><code>func lookupUnixUid(uid int) (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="buildUser">
            <h2>buildUser</h2>
            <hr />
            
            <pre><code>func buildUser(pwd *_C_struct_passwd) *User</code></pre>
         </article>
         
         <article class="function" data-name="lookupGroup">
            <h2>lookupGroup</h2>
            <hr />
            
            <pre><code>func lookupGroup(groupname string) (*Group, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupGroupId">
            <h2>lookupGroupId</h2>
            <hr />
            
            <pre><code>func lookupGroupId(gid string) (*Group, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookupUnixGid">
            <h2>lookupUnixGid</h2>
            <hr />
            
            <pre><code>func lookupUnixGid(gid int) (*Group, error)</code></pre>
         </article>
         
         <article class="function" data-name="buildGroup">
            <h2>buildGroup</h2>
            <hr />
            
            <pre><code>func buildGroup(grp *_C_struct_group) *Group</code></pre>
         </article>
         
         <article class="function" data-name="initialSize">
            <h2>initialSize</h2>
            <hr />
            
            <pre><code>func initialSize() _C_size_t</code></pre>
         </article>
         
         <article class="function" data-name="retryWithBuffer">
            <h2>retryWithBuffer</h2>
            <hr />
            
            <p>retryWithBuffer repeatedly calls f(), increasing the size of the
buffer each time, until f succeeds, fails with a non-ERANGE error,
or the buffer exceeds a reasonable limit.</p>
            
            <pre><code>func retryWithBuffer(kind bufferKind, f func) error</code></pre>
         </article>
         
         <article class="function" data-name="isSizeReasonable">
            <h2>isSizeReasonable</h2>
            <hr />
            
            <pre><code>func isSizeReasonable(sz int64) bool</code></pre>
         </article>
         
         <article class="function" data-name="structPasswdForNegativeTest">
            <h2>structPasswdForNegativeTest</h2>
            <hr />
            
            <p>Because we can't use cgo in tests:</p>
            
            <pre><code>func structPasswdForNegativeTest() _C_struct_passwd</code></pre>
         </article>
         
         <article class="function" data-name="init">
            <h2>init</h2>
            <hr />
            
            <pre><code>func init()</code></pre>
         </article>
         
         <article class="function" data-name="Current">
            <h2>Current</h2>
            <hr />
            
            <p>Current returns the current user.

The first call will cache the current user information.
Subsequent calls will return the cached value and will not reflect
changes to the current user.</p>
            
            <pre><code>func Current() (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="Lookup">
            <h2>Lookup</h2>
            <hr />
            
            <p>Lookup looks up a user by username. If the user cannot be found, the
returned error is of type [UnknownUserError].</p>
            
            <pre><code>func Lookup(username string) (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="LookupId">
            <h2>LookupId</h2>
            <hr />
            
            <p>LookupId looks up a user by userid. If the user cannot be found, the
returned error is of type [UnknownUserIdError].</p>
            
            <pre><code>func LookupId(uid string) (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="LookupGroup">
            <h2>LookupGroup</h2>
            <hr />
            
            <p>LookupGroup looks up a group by name. If the group cannot be found, the
returned error is of type [UnknownGroupError].</p>
            
            <pre><code>func LookupGroup(name string) (*Group, error)</code></pre>
         </article>
         
         <article class="function" data-name="LookupGroupId">
            <h2>LookupGroupId</h2>
            <hr />
            
            <p>LookupGroupId looks up a group by groupid. If the group cannot be found, the
returned error is of type [UnknownGroupIdError].</p>
            
            <pre><code>func LookupGroupId(gid string) (*Group, error)</code></pre>
         </article>
         
         <article class="function" data-name="GroupIds">
            <h2>GroupIds</h2>
            <hr />
            
            <p>GroupIds returns the list of group IDs that the user is a member of.</p>
            
            <pre><code>func GroupIds() ([]string, error)</code></pre>
         </article>
         
         <article class="function" data-name="current">
            <h2>current</h2>
            <hr />
            
            <pre><code>func current() (*User, error)</code></pre>
         </article>
         
         <article class="function" data-name="currentUID">
            <h2>currentUID</h2>
            <hr />
            
            <pre><code>func currentUID() string</code></pre>
         </article>
         
         <article class="function" data-name="currentGID">
            <h2>currentGID</h2>
            <hr />
            
            <pre><code>func currentGID() string</code></pre>
         </article>
         
         <article class="function" data-name="TestFindGroupName">
            <h2>TestFindGroupName</h2>
            <hr />
            
            <pre><code>func TestFindGroupName(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestFindGroupId">
            <h2>TestFindGroupId</h2>
            <hr />
            
            <pre><code>func TestFindGroupId(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestInvalidUserId">
            <h2>TestInvalidUserId</h2>
            <hr />
            
            <pre><code>func TestInvalidUserId(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestLookupUserId">
            <h2>TestLookupUserId</h2>
            <hr />
            
            <pre><code>func TestLookupUserId(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestLookupUserPopulatesAllFields">
            <h2>TestLookupUserPopulatesAllFields</h2>
            <hr />
            
            <pre><code>func TestLookupUserPopulatesAllFields(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestLookupUser">
            <h2>TestLookupUser</h2>
            <hr />
            
            <pre><code>func TestLookupUser(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestNegativeUid">
            <h2>TestNegativeUid</h2>
            <hr />
            
            <p>Issue 22739</p>
            
            <pre><code>func TestNegativeUid(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="getGroupList">
            <h2>getGroupList</h2>
            <hr />
            
            <pre><code>func getGroupList(name *_C_char, userGID _C_gid_t, gids *_C_gid_t, n *_C_int) _C_int</code></pre>
         </article>
         
         <article class="function" data-name="getGroupList">
            <h2>getGroupList</h2>
            <hr />
            
            <pre><code>func getGroupList(name *_C_char, userGID _C_gid_t, gids *_C_gid_t, n *_C_int) _C_int</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
