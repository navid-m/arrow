<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - mime</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 14px;
            scroll-behavior: smooth;
         }

         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
            line-height: 1.6;
         }

         .sidebar {
            width: 12%;
            background: rgba(59, 56, 56, 0.15);
            padding: 1.5rem;
            box-shadow: 2px 0 8px rgba(0, 0, 0, 0.4);
            overflow-y: auto;
            position: sticky;
            top: 0;
            height: 100vh;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
         }

         .sidebar::-webkit-scrollbar {
            width: 6px;
         }

         .sidebar::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
         }

         .sidebar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
         }

         main {
            flex: 1;
            padding: 2rem;
            margin: 0;
            max-width: calc(100% - 280px);
            background: linear-gradient(
               135deg,
               rgba(59, 56, 56, 0.05) 0%,
               rgba(0, 0, 0, 0.1) 100%
            );
         }

         .nav-links {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
         }

         .nav-links a {
            color: #ddd;
            text-decoration: none;
            padding: 0.5rem;
            border-radius: 4px;
            transition: all 0.2s ease;
         }

         .nav-links a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
         }

         h1 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #fff 0%, #ddd 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
         }

         h2 {
            font-size: 1.4rem;
            margin: 1rem 0 0.5rem;
            color: #f0f0f0;
         }

         h3 {
            font-size: 1.2rem;
            margin: 0.8rem 0 0.3rem;
            color: #e0e0e0;
            position: relative;
         }

         .sidebar h2,
         .sidebar h3 {
            font-size: 1rem;
            margin: 0.5rem 0 0.3rem;
            color: #ccc;
         }

         /* Anchor link styling */
         .anchor {
            color: rgba(255, 255, 255, 0.3);
            text-decoration: none;
            font-weight: normal;
            margin-left: 0.5rem;
            opacity: 0;
            transition: opacity 0.2s ease;
            font-size: 0.8em;
         }

         h3:hover .anchor,
         .anchor:focus {
            opacity: 1;
         }

         .anchor:hover {
            color: rgba(255, 255, 255, 0.6);
         }

         /* Scroll target offset for fixed elements */
         .symbol-anchor {
            scroll-margin-top: 2rem;
         }

         pre {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #e6e6e6;
            padding: 1rem 1.2rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-size: 0.9rem;
            overflow-x: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
         }

         code {
            color: #f5f5f5;
            font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
            white-space: pre-wrap;
         }

         p {
            font-size: 15px;
            margin: 1rem 0;
            color: #ddd;
         }

         article {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(59, 56, 56, 0.3);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            transition: all 0.3s ease;
         }

         article:hover {
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5);
            transform: translateY(-2px);
         }

         article:target {
            border-color: rgba(100, 200, 255, 0.5);
            box-shadow: 0 0 0 2px rgba(100, 200, 255, 0.2);
         }

         .hidden {
            display: none !important;
         }

         .filter-section {
            margin-bottom: 1.5rem;
         }

         .filter-section h3 {
            margin-bottom: 0.8rem;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #aaa;
         }

         .filter-toggle label {
            display: flex;
            align-items: center;
            margin-bottom: 0.6rem;
            font-size: 0.85rem;
            color: #bbb;
            cursor: pointer;
            padding: 0.3rem;
            border-radius: 4px;
            transition: background 0.2s ease;
         }

         .filter-toggle label:hover {
            background: rgba(255, 255, 255, 0.05);
         }

         .filter-toggle input {
            margin-right: 0.6rem;
         }

         .field-line,
         .method-line {
            display: block;
         }

         #searchInput {
            width: 100%;
            margin-bottom: 1.5rem;
            border-radius: 8px !important;
            height: 2.8rem;
            font-size: 0.9rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 0 1rem;
         }

         #searchInput::placeholder {
            color: rgba(255, 255, 255, 0.5);
         }

         #searchInput:focus {
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
         }

         .section-divider {
            height: 1px;
            background: linear-gradient(
               90deg,
               transparent 0%,
               rgba(255, 255, 255, 0.3) 50%,
               transparent 100%
            );
            margin: 1.5rem 0;
         }

         .subpackage-list {
            list-style: none;
            padding: 0;
         }

         .subpackage-list li {
            margin-bottom: 0.4rem;
         }

         .subpackage-list a {
            display: block;
            padding: 0.5rem 0.8rem;
            color: #ccc;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.2s ease;
            font-size: 0.85rem;
         }

         .subpackage-list a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            transform: translateX(4px);
         }

         .empty-state {
            color: rgba(177, 175, 175, 0.6);
            font-style: italic;
            font-size: 0.8rem;
         }

         .badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.1);
            color: #ddd;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 500;
            margin-left: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
         }

         .method-badge {
            background: rgba(100, 200, 255, 0.2);
            color: #87ceeb;
         }

         .const-badge {
            background: rgba(255, 200, 100, 0.2);
            color: #ffd700;
         }

         .var-badge {
            background: rgba(200, 255, 100, 0.2);
            color: #90ee90;
         }

         .type-badge {
            background: rgba(255, 100, 200, 0.2);
            color: #699eff;
         }

         .interface-badge {
            background: rgba(150, 100, 255, 0.2);
            color: #dda0dd;
         }

         .toc {
            position: sticky;
            top: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
         }

         .toc h4 {
            margin: 0 0 0.8rem;
            font-size: 0.9rem;
            color: #aaa;
            text-transform: uppercase;
            letter-spacing: 0.5px;
         }

         .toc ul {
            list-style: none;
            padding: 0;
            margin: 0;
         }

         .toc li {
            margin-bottom: 0.3rem;
         }

         .toc a {
            color: #bbb;
            text-decoration: none;
            font-size: 0.8rem;
            transition: color 0.2s ease;
         }

         .toc a:hover {
            color: #fff;
         }

         .symbol-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.2);
         }

         .symbol-list::-webkit-scrollbar {
            width: 4px;
         }

         .symbol-list::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
         }

         .symbol-list ul {
            list-style: none;
            padding: 0.5rem;
            margin: 0;
         }

         .symbol-list li {
            margin-bottom: 0.2rem;
         }

         .symbol-list a {
            display: block;
            padding: 0.3rem 0.5rem;
            color: #bbb;
            text-decoration: none;
            border-radius: 4px;
            transition: all 0.2s ease;
            font-size: 0.75rem;
         }

         .symbol-list a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
         }

         @media (max-width: 768px) {
            body {
               flex-direction: column;
            }

            .sidebar {
               width: 90%;
               height: auto;
               position: relative;
            }

            main {
               max-width: 100%;
               padding: 1rem;
            }
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <div class="nav-links">
            <a href="index.html" title="Home">⌂</a>
            <span>|</span>
            <a href="#" onclick="history.back()" title="Back">←</a>
         </div>

         <div class="filter-section">
            <h3>Search</h3>
            <input
               type="search"
               id="searchInput"
               placeholder="Search symbols..."
            />
         </div>

         <div class="filter-section">
            <h3>Filters</h3>
            <div class="filter-toggle">
               <label>
                  <input type="checkbox" id="showImports" />
                  Show imports
               </label>
               <label>
                  <input type="checkbox" id="showPrivateFunctions" />
                  Show private functions
               </label>
               <label>
                  <input type="checkbox" id="showPrivateStructs" />
                  Show private structs
               </label>
               <label>
                  <input type="checkbox" id="showPrivateFields" />
                  Show private fields
               </label>
               <label>
                  <input type="checkbox" id="showPrivateGlobals" />
                  Show private globals
               </label>
               <label>
                  <input type="checkbox" id="showPrivateTypes" />
                  Show private types
               </label>
               <label>
                  <input type="checkbox" id="showPrivateInterfaces" />
                  Show private interfaces
               </label>
            </div>
         </div>

         <div class="section-divider"></div>

         <div class="filter-section">
            <h3>Subpackages</h3>
            
            <ul class="subpackage-list">
               
               <li><a href="mime_multipart-docs.html">multipart</a></li>
               
               <li><a href="mime_quotedprintable-docs.html">quotedprintable</a></li>
               
            </ul>
            
         </div>

         
         <div class="section-divider"></div>

         <div class="toc">
            <h4>Quick Navigation</h4>
            <ul>
               
               <li><a href="#globals">Constants & Variables</a></li>
                
               <li><a href="#types">Type Aliases</a></li>
                 
               <li><a href="#structs">Structs</a></li>
                
               <li><a href="#functions">Functions</a></li>
               
            </ul>
         </div>

         <div class="filter-section">
            <h3>All Symbols</h3>
            <div class="symbol-list">
               <ul id="symbolIndex">
               </ul>
            </div>
         </div>
         
      </aside>

      <main>
         <h1>mime</h1>
         <div class="section-divider"></div>

         
         <section id="imports">
            <h2>Imports</h2>
            <article class="imports symbol-anchor" id="imports-section" data-name="imports">
               <h3>
                  Imports
                  <a href="#imports-section" class="anchor" title="Link to imports">#</a>
               </h3>
               <pre><code>"errors"
"fmt"
"maps"
"slices"
"strings"
"unicode"
"bufio"
"os"
"strings"
"bufio"
"os"
"strings"
"internal/syscall/windows/registry"
"bytes"
"encoding/base64"
"errors"
"fmt"
"io"
"strings"
"unicode"
"unicode/utf8"
"strings"
"fmt"
"slices"
"strings"
"sync"
</code></pre>
            </article>
         </section>
          
         <section id="globals">
            <h2>Constants & Variables</h2>
            
            <article class="global symbol-anchor" id="BEncoding" data-name="BEncoding">
               <h3>
                  BEncoding 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#BEncoding" class="anchor" title="Link to BEncoding">#</a>
               </h3>
               
               <p>BEncoding represents Base64 encoding scheme as defined by RFC 2045.</p>
               
               <pre><code>const BEncoding = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="ErrInvalidMediaParameter" data-name="ErrInvalidMediaParameter">
               <h3>
                  ErrInvalidMediaParameter 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#ErrInvalidMediaParameter" class="anchor" title="Link to ErrInvalidMediaParameter">#</a>
               </h3>
               
               <p>ErrInvalidMediaParameter is returned by [ParseMediaType] if
the media type value was found but there was an error parsing
the optional parameters</p>
               
               <pre><code>var ErrInvalidMediaParameter = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="QEncoding" data-name="QEncoding">
               <h3>
                  QEncoding 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#QEncoding" class="anchor" title="Link to QEncoding">#</a>
               </h3>
               
               <p>QEncoding represents the Q-encoding scheme as defined by RFC 2047.</p>
               
               <pre><code>const QEncoding = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="builtinTypesLower" data-name="builtinTypesLower">
               <h3>
                  builtinTypesLower 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#builtinTypesLower" class="anchor" title="Link to builtinTypesLower">#</a>
               </h3>
               
               <pre><code>var builtinTypesLower = map[string]string{...}</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="errInvalidWord" data-name="errInvalidWord">
               <h3>
                  errInvalidWord 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#errInvalidWord" class="anchor" title="Link to errInvalidWord">#</a>
               </h3>
               
               <pre><code>var errInvalidWord = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="extensions" data-name="extensions">
               <h3>
                  extensions 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#extensions" class="anchor" title="Link to extensions">#</a>
               </h3>
               
               <pre><code>var extensions sync.Map</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="extensionsMu" data-name="extensionsMu">
               <h3>
                  extensionsMu 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#extensionsMu" class="anchor" title="Link to extensionsMu">#</a>
               </h3>
               
               <p>extensions maps from MIME type to list of lowercase file
extensions: "image/jpeg" => [".jpg", ".jpeg"]</p>
               
               <pre><code>var extensionsMu sync.Mutex</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="maxBase64Len" data-name="maxBase64Len">
               <h3>
                  maxBase64Len 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#maxBase64Len" class="anchor" title="Link to maxBase64Len">#</a>
               </h3>
               
               <pre><code>var maxBase64Len = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="maxContentLen" data-name="maxContentLen">
               <h3>
                  maxContentLen 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#maxContentLen" class="anchor" title="Link to maxContentLen">#</a>
               </h3>
               
               <p>maxContentLen is how much content can be encoded, ignoring the header and
2-byte footer.</p>
               
               <pre><code>const maxContentLen = *ast.BinaryExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="maxEncodedWordLen" data-name="maxEncodedWordLen">
               <h3>
                  maxEncodedWordLen 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#maxEncodedWordLen" class="anchor" title="Link to maxEncodedWordLen">#</a>
               </h3>
               
               <p>The maximum length of an encoded-word is 75 characters.
See RFC 2047, section 2.</p>
               
               <pre><code>const maxEncodedWordLen = 75</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="mimeGlobs" data-name="mimeGlobs">
               <h3>
                  mimeGlobs 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#mimeGlobs" class="anchor" title="Link to mimeGlobs">#</a>
               </h3>
               
               <p>See https://specifications.freedesktop.org/shared-mime-info-spec/shared-mime-info-spec-0.21.html
for the FreeDesktop Shared MIME-info Database specification.</p>
               
               <pre><code>var mimeGlobs = []string{...}</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="mimeTypes" data-name="mimeTypes">
               <h3>
                  mimeTypes 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#mimeTypes" class="anchor" title="Link to mimeTypes">#</a>
               </h3>
               
               <pre><code>var mimeTypes sync.Map</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="mimeTypesLower" data-name="mimeTypesLower">
               <h3>
                  mimeTypesLower 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#mimeTypesLower" class="anchor" title="Link to mimeTypesLower">#</a>
               </h3>
               
               <pre><code>var mimeTypesLower sync.Map</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="once" data-name="once">
               <h3>
                  once 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#once" class="anchor" title="Link to once">#</a>
               </h3>
               
               <pre><code>var once sync.Once</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="osInitMime" data-name="osInitMime">
               <h3>
                  osInitMime 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#osInitMime" class="anchor" title="Link to osInitMime">#</a>
               </h3>
               
               <pre><code>var osInitMime func()</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="testInitMime" data-name="testInitMime">
               <h3>
                  testInitMime 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#testInitMime" class="anchor" title="Link to testInitMime">#</a>
               </h3>
               
               <pre><code>var testInitMime func()</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="typeFiles" data-name="typeFiles">
               <h3>
                  typeFiles 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#typeFiles" class="anchor" title="Link to typeFiles">#</a>
               </h3>
               
               <p>Common locations for mime.types files on unix.</p>
               
               <pre><code>var typeFiles = []string{...}</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="typeFiles" data-name="typeFiles">
               <h3>
                  typeFiles 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#typeFiles" class="anchor" title="Link to typeFiles">#</a>
               </h3>
               
               <pre><code>var typeFiles = []string{...}</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="upperhex" data-name="upperhex">
               <h3>
                  upperhex 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#upperhex" class="anchor" title="Link to upperhex">#</a>
               </h3>
               
               <pre><code>const upperhex = "0123456789ABCDEF"</code></pre>
            </article>
            
         </section>
          
         <section id="types">
            <h2>Type Aliases</h2>
            
            <article class="type symbol-anchor" id="WordEncoder" data-name="WordEncoder">
               <h3>
                  WordEncoder
                  <span class="badge type-badge">type</span>
                  <a href="#WordEncoder" class="anchor" title="Link to WordEncoder">#</a>
               </h3>
               
               <p>A WordEncoder is an RFC 2047 encoded-word encoder.</p>
               
               <pre><code>type WordEncoder byte</code></pre>
            </article>
            
         </section>
           
         <section id="structs">
            <h2>Structs</h2>
            
            <article class="struct symbol-anchor" id="WordDecoder" data-name="WordDecoder">
               <h3>
                  WordDecoder
                  <span class="badge">struct</span>
                  <a href="#WordDecoder" class="anchor" title="Link to WordDecoder">#</a>
               </h3>
               
               <p>A WordDecoder decodes MIME headers containing RFC 2047 encoded-words.</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code">type WordDecoder struct {
CharsetReader func(charset string, input io.Reader) (io.Reader, error)
}</code></pre>
            </article>
            
         </section>
          
         <section id="functions">
            <h2>Functions</h2>
            
            <article class="function symbol-anchor" id="AddExtensionType" data-name="AddExtensionType">
               <h3>
                  AddExtensionType 
                  <span class="badge">function</span>
                  
                  <a href="#AddExtensionType" class="anchor" title="Link to AddExtensionType">#</a>
               </h3>
               
               <p>AddExtensionType sets the MIME type associated with
the extension ext to typ. The extension should begin with
a leading dot, as in ".html".</p>
               
               <pre><code>func AddExtensionType(ext string, typ string) error</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Decode" data-name="Decode">
               <h3>
                  Decode 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Decode" class="anchor" title="Link to Decode">#</a>
               </h3>
               
               <p>Decode decodes an RFC 2047 encoded-word.</p>
               
               <pre><code>func (d *WordDecoder) Decode(word string) (string, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="DecodeHeader" data-name="DecodeHeader">
               <h3>
                  DecodeHeader 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#DecodeHeader" class="anchor" title="Link to DecodeHeader">#</a>
               </h3>
               
               <p>DecodeHeader decodes all encoded-words of the given string. It returns an
error if and only if [WordDecoder.CharsetReader] of d returns an error.</p>
               
               <pre><code>func (d *WordDecoder) DecodeHeader(header string) (string, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Encode" data-name="Encode">
               <h3>
                  Encode 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Encode" class="anchor" title="Link to Encode">#</a>
               </h3>
               
               <p>Encode returns the encoded-word form of s. If s is ASCII without special
characters, it is returned unchanged. The provided charset is the IANA
charset name of s. It is case insensitive.</p>
               
               <pre><code>func (e WordEncoder) Encode(charset string, s string) string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="ExtensionsByType" data-name="ExtensionsByType">
               <h3>
                  ExtensionsByType 
                  <span class="badge">function</span>
                  
                  <a href="#ExtensionsByType" class="anchor" title="Link to ExtensionsByType">#</a>
               </h3>
               
               <p>ExtensionsByType returns the extensions known to be associated with the MIME
type typ. The returned extensions will each begin with a leading dot, as in
".html". When typ has no associated extensions, ExtensionsByType returns an
nil slice.</p>
               
               <pre><code>func ExtensionsByType(typ string) ([]string, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="FormatMediaType" data-name="FormatMediaType">
               <h3>
                  FormatMediaType 
                  <span class="badge">function</span>
                  
                  <a href="#FormatMediaType" class="anchor" title="Link to FormatMediaType">#</a>
               </h3>
               
               <p>FormatMediaType serializes mediatype t and the parameters
param as a media type conforming to RFC 2045 and RFC 2616.
The type and parameter names are written in lower-case.
When any of the arguments result in a standard violation then
FormatMediaType returns the empty string.</p>
               
               <pre><code>func FormatMediaType(t string, param map[string]string) string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="ParseMediaType" data-name="ParseMediaType">
               <h3>
                  ParseMediaType 
                  <span class="badge">function</span>
                  
                  <a href="#ParseMediaType" class="anchor" title="Link to ParseMediaType">#</a>
               </h3>
               
               <p>ParseMediaType parses a media type value and any optional
parameters, per RFC 1521.  Media types are the values in
Content-Type and Content-Disposition headers (RFC 2183).
On success, ParseMediaType returns the media type converted
to lowercase and trimmed of white space and a non-nil map.
If there is an error parsing the optional parameter,
the media type will be returned along with the error
[ErrInvalidMediaParameter].
The returned map, params, maps from the lowercase
attribute to the attribute value with its case preserved.</p>
               
               <pre><code>func ParseMediaType(v string) (mediatype string, params map[string]string, err error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="TypeByExtension" data-name="TypeByExtension">
               <h3>
                  TypeByExtension 
                  <span class="badge">function</span>
                  
                  <a href="#TypeByExtension" class="anchor" title="Link to TypeByExtension">#</a>
               </h3>
               
               <p>TypeByExtension returns the MIME type associated with the file extension ext.
The extension ext should begin with a leading dot, as in ".html".
When ext has no associated type, TypeByExtension returns "".
Extensions are looked up first case-sensitively, then case-insensitively.
The built-in table is small but on unix it is augmented by the local
system's MIME-info database or mime.types file(s) if available under one or
more of these names:
/usr/local/share/mime/globs2
/usr/share/mime/globs2
/etc/mime.types
/etc/apache2/mime.types
/etc/apache/mime.types
On Windows, MIME types are extracted from the registry.
Text types have the charset parameter set to "utf-8" by default.</p>
               
               <pre><code>func TypeByExtension(ext string) string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="bEncode" data-name="bEncode">
               <h3>
                  bEncode 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#bEncode" class="anchor" title="Link to bEncode">#</a>
               </h3>
               
               <p>bEncode encodes s using base64 encoding and writes it to buf.</p>
               
               <pre><code>func (e WordEncoder) bEncode(buf *strings.Builder, charset string, s string)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="checkMediaTypeDisposition" data-name="checkMediaTypeDisposition">
               <h3>
                  checkMediaTypeDisposition 
                  <span class="badge">function</span>
                  
                  <a href="#checkMediaTypeDisposition" class="anchor" title="Link to checkMediaTypeDisposition">#</a>
               </h3>
               
               <pre><code>func checkMediaTypeDisposition(s string) error</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="closeWord" data-name="closeWord">
               <h3>
                  closeWord 
                  <span class="badge">function</span>
                  
                  <a href="#closeWord" class="anchor" title="Link to closeWord">#</a>
               </h3>
               
               <p>closeWord writes the end of an encoded-word into buf.</p>
               
               <pre><code>func closeWord(buf *strings.Builder)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="consumeMediaParam" data-name="consumeMediaParam">
               <h3>
                  consumeMediaParam 
                  <span class="badge">function</span>
                  
                  <a href="#consumeMediaParam" class="anchor" title="Link to consumeMediaParam">#</a>
               </h3>
               
               <pre><code>func consumeMediaParam(v string) (param string, value string, rest string)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="consumeToken" data-name="consumeToken">
               <h3>
                  consumeToken 
                  <span class="badge">function</span>
                  
                  <a href="#consumeToken" class="anchor" title="Link to consumeToken">#</a>
               </h3>
               
               <p>consumeToken consumes a token from the beginning of provided
string, per RFC 2045 section 5.1 (referenced from 2183), and return
the token consumed and the rest of the string. Returns ("", v) on
failure to consume at least one character.</p>
               
               <pre><code>func consumeToken(v string) (token string, rest string)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="consumeValue" data-name="consumeValue">
               <h3>
                  consumeValue 
                  <span class="badge">function</span>
                  
                  <a href="#consumeValue" class="anchor" title="Link to consumeValue">#</a>
               </h3>
               
               <p>consumeValue consumes a "value" per RFC 2045, where a value is
either a 'token' or a 'quoted-string'.  On success, consumeValue
returns the value consumed (and de-quoted/escaped, if a
quoted-string) and the rest of the string. On failure, returns
("", v).</p>
               
               <pre><code>func consumeValue(v string) (value string, rest string)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="convert" data-name="convert">
               <h3>
                  convert 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#convert" class="anchor" title="Link to convert">#</a>
               </h3>
               
               <pre><code>func (d *WordDecoder) convert(buf *strings.Builder, charset string, content []byte) error</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="decode" data-name="decode">
               <h3>
                  decode 
                  <span class="badge">function</span>
                  
                  <a href="#decode" class="anchor" title="Link to decode">#</a>
               </h3>
               
               <pre><code>func decode(encoding byte, text string) ([]byte, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="decode2231Enc" data-name="decode2231Enc">
               <h3>
                  decode2231Enc 
                  <span class="badge">function</span>
                  
                  <a href="#decode2231Enc" class="anchor" title="Link to decode2231Enc">#</a>
               </h3>
               
               <pre><code>func decode2231Enc(v string) (string, bool)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="encodeWord" data-name="encodeWord">
               <h3>
                  encodeWord 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#encodeWord" class="anchor" title="Link to encodeWord">#</a>
               </h3>
               
               <p>encodeWord encodes a string into an encoded-word.</p>
               
               <pre><code>func (e WordEncoder) encodeWord(charset string, s string) string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="fromHex" data-name="fromHex">
               <h3>
                  fromHex 
                  <span class="badge">function</span>
                  
                  <a href="#fromHex" class="anchor" title="Link to fromHex">#</a>
               </h3>
               
               <pre><code>func fromHex(b byte) (byte, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="hasNonWhitespace" data-name="hasNonWhitespace">
               <h3>
                  hasNonWhitespace 
                  <span class="badge">function</span>
                  
                  <a href="#hasNonWhitespace" class="anchor" title="Link to hasNonWhitespace">#</a>
               </h3>
               
               <p>hasNonWhitespace reports whether s (assumed to be ASCII) contains at least
one byte of non-whitespace.</p>
               
               <pre><code>func hasNonWhitespace(s string) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="init" data-name="init">
               <h3>
                  init 
                  <span class="badge">function</span>
                  
                  <a href="#init" class="anchor" title="Link to init">#</a>
               </h3>
               
               <pre><code>func init()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="init" data-name="init">
               <h3>
                  init 
                  <span class="badge">function</span>
                  
                  <a href="#init" class="anchor" title="Link to init">#</a>
               </h3>
               
               <pre><code>func init()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="init" data-name="init">
               <h3>
                  init 
                  <span class="badge">function</span>
                  
                  <a href="#init" class="anchor" title="Link to init">#</a>
               </h3>
               
               <pre><code>func init()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="init" data-name="init">
               <h3>
                  init 
                  <span class="badge">function</span>
                  
                  <a href="#init" class="anchor" title="Link to init">#</a>
               </h3>
               
               <pre><code>func init()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="init" data-name="init">
               <h3>
                  init 
                  <span class="badge">function</span>
                  
                  <a href="#init" class="anchor" title="Link to init">#</a>
               </h3>
               
               <pre><code>func init()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="init" data-name="init">
               <h3>
                  init 
                  <span class="badge">function</span>
                  
                  <a href="#init" class="anchor" title="Link to init">#</a>
               </h3>
               
               <pre><code>func init()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="initMime" data-name="initMime">
               <h3>
                  initMime 
                  <span class="badge">function</span>
                  
                  <a href="#initMime" class="anchor" title="Link to initMime">#</a>
               </h3>
               
               <pre><code>func initMime()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="initMimeForTests" data-name="initMimeForTests">
               <h3>
                  initMimeForTests 
                  <span class="badge">function</span>
                  
                  <a href="#initMimeForTests" class="anchor" title="Link to initMimeForTests">#</a>
               </h3>
               
               <pre><code>func initMimeForTests() map[string]string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="initMimeForTests" data-name="initMimeForTests">
               <h3>
                  initMimeForTests 
                  <span class="badge">function</span>
                  
                  <a href="#initMimeForTests" class="anchor" title="Link to initMimeForTests">#</a>
               </h3>
               
               <pre><code>func initMimeForTests() map[string]string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="initMimeForTests" data-name="initMimeForTests">
               <h3>
                  initMimeForTests 
                  <span class="badge">function</span>
                  
                  <a href="#initMimeForTests" class="anchor" title="Link to initMimeForTests">#</a>
               </h3>
               
               <pre><code>func initMimeForTests() map[string]string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="initMimePlan9" data-name="initMimePlan9">
               <h3>
                  initMimePlan9 
                  <span class="badge">function</span>
                  
                  <a href="#initMimePlan9" class="anchor" title="Link to initMimePlan9">#</a>
               </h3>
               
               <pre><code>func initMimePlan9()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="initMimeUnix" data-name="initMimeUnix">
               <h3>
                  initMimeUnix 
                  <span class="badge">function</span>
                  
                  <a href="#initMimeUnix" class="anchor" title="Link to initMimeUnix">#</a>
               </h3>
               
               <pre><code>func initMimeUnix()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="initMimeWindows" data-name="initMimeWindows">
               <h3>
                  initMimeWindows 
                  <span class="badge">function</span>
                  
                  <a href="#initMimeWindows" class="anchor" title="Link to initMimeWindows">#</a>
               </h3>
               
               <pre><code>func initMimeWindows()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="isNotTokenChar" data-name="isNotTokenChar">
               <h3>
                  isNotTokenChar 
                  <span class="badge">function</span>
                  
                  <a href="#isNotTokenChar" class="anchor" title="Link to isNotTokenChar">#</a>
               </h3>
               
               <pre><code>func isNotTokenChar(r rune) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="isTSpecial" data-name="isTSpecial">
               <h3>
                  isTSpecial 
                  <span class="badge">function</span>
                  
                  <a href="#isTSpecial" class="anchor" title="Link to isTSpecial">#</a>
               </h3>
               
               <p>isTSpecial reports whether rune is in 'tspecials' as defined by RFC
1521 and RFC 2045.</p>
               
               <pre><code>func isTSpecial(r rune) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="isToken" data-name="isToken">
               <h3>
                  isToken 
                  <span class="badge">function</span>
                  
                  <a href="#isToken" class="anchor" title="Link to isToken">#</a>
               </h3>
               
               <p>isToken reports whether s is a 'token' as defined by RFC 1521
and RFC 2045.</p>
               
               <pre><code>func isToken(s string) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="isTokenChar" data-name="isTokenChar">
               <h3>
                  isTokenChar 
                  <span class="badge">function</span>
                  
                  <a href="#isTokenChar" class="anchor" title="Link to isTokenChar">#</a>
               </h3>
               
               <p>isTokenChar reports whether rune is in 'token' as defined by RFC
1521 and RFC 2045.</p>
               
               <pre><code>func isTokenChar(r rune) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="isUTF8" data-name="isUTF8">
               <h3>
                  isUTF8 
                  <span class="badge">function</span>
                  
                  <a href="#isUTF8" class="anchor" title="Link to isUTF8">#</a>
               </h3>
               
               <pre><code>func isUTF8(charset string) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="ishex" data-name="ishex">
               <h3>
                  ishex 
                  <span class="badge">function</span>
                  
                  <a href="#ishex" class="anchor" title="Link to ishex">#</a>
               </h3>
               
               <pre><code>func ishex(c byte) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="loadMimeFile" data-name="loadMimeFile">
               <h3>
                  loadMimeFile 
                  <span class="badge">function</span>
                  
                  <a href="#loadMimeFile" class="anchor" title="Link to loadMimeFile">#</a>
               </h3>
               
               <pre><code>func loadMimeFile(filename string)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="loadMimeFile" data-name="loadMimeFile">
               <h3>
                  loadMimeFile 
                  <span class="badge">function</span>
                  
                  <a href="#loadMimeFile" class="anchor" title="Link to loadMimeFile">#</a>
               </h3>
               
               <pre><code>func loadMimeFile(filename string)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="loadMimeGlobsFile" data-name="loadMimeGlobsFile">
               <h3>
                  loadMimeGlobsFile 
                  <span class="badge">function</span>
                  
                  <a href="#loadMimeGlobsFile" class="anchor" title="Link to loadMimeGlobsFile">#</a>
               </h3>
               
               <pre><code>func loadMimeGlobsFile(filename string) error</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="needsEncoding" data-name="needsEncoding">
               <h3>
                  needsEncoding 
                  <span class="badge">function</span>
                  
                  <a href="#needsEncoding" class="anchor" title="Link to needsEncoding">#</a>
               </h3>
               
               <pre><code>func needsEncoding(s string) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="openWord" data-name="openWord">
               <h3>
                  openWord 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#openWord" class="anchor" title="Link to openWord">#</a>
               </h3>
               
               <p>openWord writes the beginning of an encoded-word into buf.</p>
               
               <pre><code>func (e WordEncoder) openWord(buf *strings.Builder, charset string)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="percentHexUnescape" data-name="percentHexUnescape">
               <h3>
                  percentHexUnescape 
                  <span class="badge">function</span>
                  
                  <a href="#percentHexUnescape" class="anchor" title="Link to percentHexUnescape">#</a>
               </h3>
               
               <pre><code>func percentHexUnescape(s string) (string, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="qDecode" data-name="qDecode">
               <h3>
                  qDecode 
                  <span class="badge">function</span>
                  
                  <a href="#qDecode" class="anchor" title="Link to qDecode">#</a>
               </h3>
               
               <p>qDecode decodes a Q encoded string.</p>
               
               <pre><code>func qDecode(s string) ([]byte, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="qEncode" data-name="qEncode">
               <h3>
                  qEncode 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#qEncode" class="anchor" title="Link to qEncode">#</a>
               </h3>
               
               <p>qEncode encodes s using Q encoding and writes it to buf. It splits the
encoded-words when necessary.</p>
               
               <pre><code>func (e WordEncoder) qEncode(buf *strings.Builder, charset string, s string)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="readHexByte" data-name="readHexByte">
               <h3>
                  readHexByte 
                  <span class="badge">function</span>
                  
                  <a href="#readHexByte" class="anchor" title="Link to readHexByte">#</a>
               </h3>
               
               <p>readHexByte returns the byte from its quoted-printable representation.</p>
               
               <pre><code>func readHexByte(a byte, b byte) (byte, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="setExtensionType" data-name="setExtensionType">
               <h3>
                  setExtensionType 
                  <span class="badge">function</span>
                  
                  <a href="#setExtensionType" class="anchor" title="Link to setExtensionType">#</a>
               </h3>
               
               <pre><code>func setExtensionType(extension string, mimeType string) error</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="setMimeTypes" data-name="setMimeTypes">
               <h3>
                  setMimeTypes 
                  <span class="badge">function</span>
                  
                  <a href="#setMimeTypes" class="anchor" title="Link to setMimeTypes">#</a>
               </h3>
               
               <p>setMimeTypes is used by initMime's non-test path, and by tests.</p>
               
               <pre><code>func setMimeTypes(lowerExt map[string]string, mixExt map[string]string)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="splitWord" data-name="splitWord">
               <h3>
                  splitWord 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#splitWord" class="anchor" title="Link to splitWord">#</a>
               </h3>
               
               <p>splitWord closes the current encoded-word and opens a new one.</p>
               
               <pre><code>func (e WordEncoder) splitWord(buf *strings.Builder, charset string)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="unhex" data-name="unhex">
               <h3>
                  unhex 
                  <span class="badge">function</span>
                  
                  <a href="#unhex" class="anchor" title="Link to unhex">#</a>
               </h3>
               
               <pre><code>func unhex(c byte) byte</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="writeQString" data-name="writeQString">
               <h3>
                  writeQString 
                  <span class="badge">function</span>
                  
                  <a href="#writeQString" class="anchor" title="Link to writeQString">#</a>
               </h3>
               
               <p>writeQString encodes s using Q encoding and writes it to buf.</p>
               
               <pre><code>func writeQString(buf *strings.Builder, s string)</code></pre>
            </article>
            
         </section>
         
      </main>

      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }

         function buildSymbolIndex() {
            const symbolIndex = document.getElementById('symbolIndex');
            if (!symbolIndex) return;

            const symbols = [];
            
            document.querySelectorAll('article[data-name]').forEach(article => {
               const name = article.dataset.name;
               const type = article.className.split(' ')[0]; 
               const isPrivateSymbol = isPrivate(name);
               
               if (name && name !== 'imports') {
                  symbols.push({
                     name,
                     type,
                     element: article,
                     isPrivate: isPrivateSymbol
                  });
               }
            });

            symbols.sort((a, b) => a.name.localeCompare(b.name));
            symbolIndex.innerHTML = '';
            symbols.forEach(symbol => {
               const li = document.createElement('li');
               const a = document.createElement('a');
               a.href = `#${symbol.name}`;
               a.textContent = symbol.name;
               a.title = `${symbol.type}: ${symbol.name}`;
               
               if (symbol.isPrivate) {
                  li.classList.add('private', 'hidden');
               }
               
               li.appendChild(a);
               symbolIndex.appendChild(li);
            });
         }

         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               imports: document.getElementById("showImports"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
               types: document.getElementById("showPrivateTypes"),
               interfaces: document.getElementById(
                  "showPrivateInterfaces"
               ),
            };

            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });

               if (toggle) {
                  toggle.addEventListener("change", () => {
                     const show = toggle.checked;
                     document
                        .querySelectorAll(`${selector}.private`)
                        .forEach((el) => {
                           el.classList.toggle("hidden", !show);
                        });
                     
                     const symbolIndexItems = document.querySelectorAll('#symbolIndex li.private');
                     symbolIndexItems.forEach(li => {
                        const link = li.querySelector('a');
                        if (link) {
                           const targetId = link.getAttribute('href').substring(1);
                           const targetEl = document.getElementById(targetId);
                           if (targetEl && targetEl.matches(selector)) {
                              li.classList.toggle("hidden", !show);
                           }
                        }
                     });
                  });
               }
            };

            hideInitial("article.imports", toggles.imports);
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            hideInitial("article.type", toggles.types);
            hideInitial("article.interface", toggles.interfaces);

            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;

                  const lines = codeBlock.innerHTML.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch && trimmed != "}") {
                           return `<span class="field-line">${line}</span>`;
                        }
                        if (nameMatch == null) return;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class="field-line${
                           isPriv ? " hidden private" : ""
                        }" data-name="${name}">${line}</span>`;
                     })
                     .join("");

                  codeBlock.innerHTML = newContent;

                  if (toggles.fields) {
                     toggles.fields.addEventListener("change", () => {
                        const show = toggles.fields.checked;
                        article
                           .querySelectorAll(".field-line.private")
                           .forEach((el) =>
                              el.classList.toggle("hidden", !show)
                           );
                     });
                  }
               });

            document
               .querySelectorAll("article.interface")
               .forEach((article) => {
                  const codeBlock = article.querySelector(
                     "code.methods-code"
                  );
                  if (!codeBlock) return;

                  const lines = codeBlock.innerHTML.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch) {
                           return `<span class="method-line">${line}</span>`;
                        }

                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class="method-line${
                           isPriv ? " hidden private" : ""
                        }" data-name="${name}">${line}</span>`;
                     })
                     .join("");

                  codeBlock.innerHTML = newContent;

                  if (toggles.fields) {
                     toggles.fields.addEventListener("change", () => {
                        const show = toggles.fields.checked;
                        article
                           .querySelectorAll(".method-line.private")
                           .forEach((el) =>
                              el.classList.toggle("hidden", !show)
                           );
                     });
                  }
               });

            const searchInput = document.getElementById("searchInput");
            if (searchInput) {
               searchInput.addEventListener("input", () => {
                  const query = searchInput.value.trim().toLowerCase();

                  document.querySelectorAll("article").forEach((el) => {
                     const name = el.dataset.name;
                     if (!name) return;

                     const matches =
                        query === "" ||
                        name.toLowerCase().includes(query) ||
                        (el.textContent &&
                           el.textContent.toLowerCase().includes(query));

                     if (matches) {
                        const isPrivateEl =
                           el.classList.contains("private");
                        const shouldShowPrivate =
                           getPrivateToggleState(el);

                        if (!isPrivateEl || shouldShowPrivate) {
                           el.classList.remove("hidden");
                        }
                     } else {
                        el.classList.add("hidden");
                     }
                  });

                  document.querySelectorAll('#symbolIndex li').forEach(li => {
                     const link = li.querySelector('a');
                     if (link) {
                        const symbolName = link.textContent.toLowerCase();
                        const matches = query === "" || symbolName.includes(query);
                        
                        if (matches) {
                           const isPrivateSymbol = li.classList.contains('private');
                           const targetId = link.getAttribute('href').substring(1);
                           const targetEl = document.getElementById(targetId);
                           const shouldShowPrivate = targetEl ? getPrivateToggleState(targetEl) : false;
                           
                           if (!isPrivateSymbol || shouldShowPrivate) {
                              li.style.display = '';
                           }
                        } else {
                           li.style.display = 'none';
                        }
                     }
                  });
               });
            }

            function getPrivateToggleState(element) {
               if (element.classList.contains("function")) {
                  return toggles.functions?.checked || false;
               } else if (element.classList.contains("struct")) {
                  return toggles.structs?.checked || false;
               } else if (element.classList.contains("global")) {
                  return toggles.globals?.checked || false;
               } else if (element.classList.contains("type")) {
                  return toggles.types?.checked || false;
               } else if (element.classList.contains("interface")) {
                  return toggles.interfaces?.checked || false;
               } else if (element.classList.contains("imports")) {
                  return toggles.imports?.checked || false;
               }
               return false;
            }

            buildSymbolIndex();

            document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
               anchor.addEventListener("click", function (e) {
                  const target = document.querySelector(
                     this.getAttribute("href")
                  );
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               });
            });

            window.addEventListener('hashchange', () => {
               const hash = window.location.hash;
               if (hash) {
                  const target = document.querySelector(hash);
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               }
            });

            if (window.location.hash) {
               setTimeout(() => {
                  const target = document.querySelector(window.location.hash);
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               }, 100);
            }
         });
      </script>
   </body>
</html>