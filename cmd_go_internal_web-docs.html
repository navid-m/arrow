<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - web</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
          
         <a href="cmd_go_internal_web_intercept-docs.html">intercept</a>
         <br />
          
      </aside>
      <main>
         <h1>
            Package
            <code>web</code>
         </h1>
         <hr />
         
         <article class="global" data-name="urlTests">
            <h2>urlTests</h2>
            <hr />
            
            <pre><code>urlTests</code></pre>
         </article>
         
         <article class="global" data-name="urlTests">
            <h2>urlTests</h2>
            <hr />
            
            <pre><code>urlTests</code></pre>
         </article>
         
         <article class="global" data-name="SecureOnly">
            <h2>SecureOnly</h2>
            <hr />
            
            <pre><code>SecureOnly SecurityMode</code></pre>
         </article>
         
         <article class="global" data-name="DefaultSecurity">
            <h2>DefaultSecurity</h2>
            <hr />
            
            <pre><code>DefaultSecurity</code></pre>
         </article>
         
         <article class="global" data-name="Insecure">
            <h2>Insecure</h2>
            <hr />
            
            <pre><code>Insecure</code></pre>
         </article>
         
         <article class="global" data-name="maxErrorDetailLines">
            <h2>maxErrorDetailLines</h2>
            <hr />
            
            <pre><code>maxErrorDetailLines</code></pre>
         </article>
         
         <article class="global" data-name="maxErrorDetailBytes">
            <h2>maxErrorDetailBytes</h2>
            <hr />
            
            <pre><code>maxErrorDetailBytes</code></pre>
         </article>
         
         <article class="global" data-name="impatientInsecureHTTPClient">
            <h2>impatientInsecureHTTPClient</h2>
            <hr />
            
            <p>impatientInsecureHTTPClient is used with GOINSECURE,
when we're connecting to https servers that might not be there
or might be using self-signed certificates.</p>
            
            <pre><code>impatientInsecureHTTPClient</code></pre>
         </article>
         
         <article class="global" data-name="securityPreservingDefaultClient">
            <h2>securityPreservingDefaultClient</h2>
            <hr />
            
            <pre><code>securityPreservingDefaultClient</code></pre>
         </article>
         
         <article class="global" data-name="errNotAbsolute">
            <h2>errNotAbsolute</h2>
            <hr />
            
            <pre><code>errNotAbsolute</code></pre>
         </article>
          
         <article class="struct" data-name="HTTPError">
            <h2>type HTTPError struct</h2>
            <hr />
            
            <p>An HTTPError describes an HTTP error response (non-200 result).</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">URL string
Status string
StatusCode int
Err error
Detail string</code></pre>
         </article>
         
         <article class="struct" data-name="Response">
            <h2>type Response struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">URL string
Status string
StatusCode int
Header *ast.MapType
Body io.ReadCloser
fileErr error
errorDetail errorDetailBuffer</code></pre>
         </article>
         
         <article class="struct" data-name="errorDetailBuffer">
            <h2>type errorDetailBuffer struct</h2>
            <hr />
            
            <p>An errorDetailBuffer is an io.ReadCloser that copies up to
maxErrorDetailLines into a buffer for later inspection.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">r io.ReadCloser
buf strings.Builder
bufLines int</code></pre>
         </article>
         
         <article class="struct" data-name="hookCloser">
            <h2>type hookCloser struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">io.ReadCloser
afterClose func</code></pre>
         </article>
          
         <article class="function" data-name="convertFileURLPath">
            <h2>convertFileURLPath</h2>
            <hr />
            
            <pre><code>func convertFileURLPath(host string, path string) (string, error)</code></pre>
         </article>
         
         <article class="function" data-name="convertFileURLPath">
            <h2>convertFileURLPath</h2>
            <hr />
            
            <pre><code>func convertFileURLPath(host string, path string) (string, error)</code></pre>
         </article>
         
         <article class="function" data-name="Error">
            <h2>Error</h2>
            <hr />
            
            <pre><code>func Error() string</code></pre>
         </article>
         
         <article class="function" data-name="Is">
            <h2>Is</h2>
            <hr />
            
            <pre><code>func Is(target error) bool</code></pre>
         </article>
         
         <article class="function" data-name="Unwrap">
            <h2>Unwrap</h2>
            <hr />
            
            <pre><code>func Unwrap() error</code></pre>
         </article>
         
         <article class="function" data-name="GetBytes">
            <h2>GetBytes</h2>
            <hr />
            
            <p>GetBytes returns the body of the requested resource, or an error if the
response status was not http.StatusOK.

GetBytes is a convenience wrapper around Get and Response.Err.</p>
            
            <pre><code>func GetBytes(u *url.URL) ([]byte, error)</code></pre>
         </article>
         
         <article class="function" data-name="Err">
            <h2>Err</h2>
            <hr />
            
            <p>Err returns an *HTTPError corresponding to the response r.
If the response r has StatusCode 200 or 0 (unset), Err returns nil.
Otherwise, Err may read from r.Body in order to extract relevant error detail.</p>
            
            <pre><code>func Err() error</code></pre>
         </article>
         
         <article class="function" data-name="formatErrorDetail">
            <h2>formatErrorDetail</h2>
            <hr />
            
            <p>formatErrorDetail converts r.errorDetail (a prefix of the output of r.Body)
into a short, tab-indented summary.</p>
            
            <pre><code>func formatErrorDetail() string</code></pre>
         </article>
         
         <article class="function" data-name="Get">
            <h2>Get</h2>
            <hr />
            
            <p>Get returns the body of the HTTP or HTTPS resource specified at the given URL.

If the URL does not include an explicit scheme, Get first tries "https".
If the server does not respond under that scheme and the security mode is
Insecure, Get then tries "http".
The URL included in the response indicates which scheme was actually used,
and it is a redacted URL suitable for use in error messages.

For the "https" scheme only, credentials are attached using the
cmd/go/internal/auth package. If the URL itself includes a username and
password, it will not be attempted under the "http" scheme unless the
security mode is Insecure.

Get returns a non-nil error only if the request did not receive a response
under any applicable scheme. (A non-2xx response does not cause an error.)</p>
            
            <pre><code>func Get(security SecurityMode, u *url.URL) (*Response, error)</code></pre>
         </article>
         
         <article class="function" data-name="OpenBrowser">
            <h2>OpenBrowser</h2>
            <hr />
            
            <p>OpenBrowser attempts to open the requested URL in a web browser.</p>
            
            <pre><code>func OpenBrowser(url string) opened bool</code></pre>
         </article>
         
         <article class="function" data-name="Join">
            <h2>Join</h2>
            <hr />
            
            <p>Join returns the result of adding the slash-separated
path elements to the end of u's path.</p>
            
            <pre><code>func Join(u *url.URL, path string) *url.URL</code></pre>
         </article>
         
         <article class="function" data-name="Close">
            <h2>Close</h2>
            <hr />
            
            <pre><code>func Close() error</code></pre>
         </article>
         
         <article class="function" data-name="Read">
            <h2>Read</h2>
            <hr />
            
            <pre><code>func Read(p []byte) (n int, err error)</code></pre>
         </article>
         
         <article class="function" data-name="IsLocalHost">
            <h2>IsLocalHost</h2>
            <hr />
            
            <p>IsLocalHost reports whether the given URL refers to a local
(loopback) host, such as "localhost" or "127.0.0.1:8080".</p>
            
            <pre><code>func IsLocalHost(u *url.URL) bool</code></pre>
         </article>
         
         <article class="function" data-name="securityPreservingHTTPClient">
            <h2>securityPreservingHTTPClient</h2>
            <hr />
            
            <p>securityPreservingHTTPClient returns a client that is like the original
but rejects redirects to plain-HTTP URLs if the original URL was secure.</p>
            
            <pre><code>func securityPreservingHTTPClient(original *http.Client) *http.Client</code></pre>
         </article>
         
         <article class="function" data-name="checkRedirect">
            <h2>checkRedirect</h2>
            <hr />
            
            <pre><code>func checkRedirect(req *http.Request, via []*http.Request) error</code></pre>
         </article>
         
         <article class="function" data-name="get">
            <h2>get</h2>
            <hr />
            
            <pre><code>func get(security SecurityMode, url *urlpkg.URL) (*Response, error)</code></pre>
         </article>
         
         <article class="function" data-name="getFile">
            <h2>getFile</h2>
            <hr />
            
            <pre><code>func getFile(u *urlpkg.URL) (*Response, error)</code></pre>
         </article>
         
         <article class="function" data-name="openBrowser">
            <h2>openBrowser</h2>
            <hr />
            
            <pre><code>func openBrowser(url string) bool</code></pre>
         </article>
         
         <article class="function" data-name="isLocalHost">
            <h2>isLocalHost</h2>
            <hr />
            
            <pre><code>func isLocalHost(u *urlpkg.URL) bool</code></pre>
         </article>
         
         <article class="function" data-name="Close">
            <h2>Close</h2>
            <hr />
            
            <pre><code>func Close() error</code></pre>
         </article>
         
         <article class="function" data-name="TestURLToFilePath">
            <h2>TestURLToFilePath</h2>
            <hr />
            
            <pre><code>func TestURLToFilePath(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestURLFromFilePath">
            <h2>TestURLFromFilePath</h2>
            <hr />
            
            <pre><code>func TestURLFromFilePath(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="get">
            <h2>get</h2>
            <hr />
            
            <pre><code>func get(security SecurityMode, url *urlpkg.URL) (*Response, error)</code></pre>
         </article>
         
         <article class="function" data-name="openBrowser">
            <h2>openBrowser</h2>
            <hr />
            
            <pre><code>func openBrowser(url string) bool</code></pre>
         </article>
         
         <article class="function" data-name="isLocalHost">
            <h2>isLocalHost</h2>
            <hr />
            
            <pre><code>func isLocalHost(u *urlpkg.URL) bool</code></pre>
         </article>
         
         <article class="function" data-name="TestGetFileURL">
            <h2>TestGetFileURL</h2>
            <hr />
            
            <pre><code>func TestGetFileURL(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestGetNonexistentFile">
            <h2>TestGetNonexistentFile</h2>
            <hr />
            
            <pre><code>func TestGetNonexistentFile(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="urlToFilePath">
            <h2>urlToFilePath</h2>
            <hr />
            
            <pre><code>func urlToFilePath(u *url.URL) (string, error)</code></pre>
         </article>
         
         <article class="function" data-name="urlFromFilePath">
            <h2>urlFromFilePath</h2>
            <hr />
            
            <pre><code>func urlFromFilePath(path string) (*url.URL, error)</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
