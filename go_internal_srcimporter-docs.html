<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - srcimporter</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
         
         <span style="color: rgba(177, 175, 175, 0.5)">
            No subpackages
         </span>
         
      </aside>
      <main>
         <h1>
            Package
            <code>srcimporter</code>
         </h1>
         <hr />
         
         <article class="global" data-name="importing">
            <h2>importing</h2>
            <hr />
            
            <p>Importing is a sentinel taking the place in Importer.packages
for a package that is in the process of being imported.</p>
            
            <pre><code>importing types.Package</code></pre>
         </article>
         
         <article class="global" data-name="maxTime">
            <h2>maxTime</h2>
            <hr />
            
            <pre><code>maxTime</code></pre>
         </article>
         
         <article class="global" data-name="importer">
            <h2>importer</h2>
            <hr />
            
            <pre><code>importer</code></pre>
         </article>
         
         <article class="global" data-name="importedObjectTests">
            <h2>importedObjectTests</h2>
            <hr />
            
            <pre><code>importedObjectTests</code></pre>
         </article>
          
         <article class="struct" data-name="Importer">
            <h2>type Importer struct</h2>
            <hr />
            
            <p>An Importer provides the context for importing packages from source code.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">ctxt *build.Context
fset *token.FileSet
sizes types.Sizes
packages *ast.MapType</code></pre>
         </article>
          
         <article class="function" data-name="New">
            <h2>New</h2>
            <hr />
            
            <p>New returns a new Importer for the given context, file set, and map
of packages. The context is used to resolve import paths to package paths,
and identifying the files belonging to the package. If the context provides
non-nil file system functions, they are used instead of the regular package
os functions. The file set is used to track position information of package
files; and imported packages are added to the packages map.</p>
            
            <pre><code>func New(ctxt *build.Context, fset *token.FileSet, packages *ast.MapType) *Importer</code></pre>
         </article>
         
         <article class="function" data-name="Import">
            <h2>Import</h2>
            <hr />
            
            <p>Import(path) is a shortcut for ImportFrom(path, ".", 0).</p>
            
            <pre><code>func Import(path string) (*types.Package, error)</code></pre>
         </article>
         
         <article class="function" data-name="ImportFrom">
            <h2>ImportFrom</h2>
            <hr />
            
            <p>ImportFrom imports the package with the given import path resolved from the given srcDir,
adds the new package to the set of packages maintained by the importer, and returns the
package. Package path resolution and file system operations are controlled by the context
maintained with the importer. The import mode must be zero but is otherwise ignored.
Packages that are not comprised entirely of pure Go files may fail to import because the
type checker may not be able to determine all exported entities (e.g. due to cgo dependencies).</p>
            
            <pre><code>func ImportFrom(path string, srcDir string, mode types.ImportMode) (*types.Package, error)</code></pre>
         </article>
         
         <article class="function" data-name="parseFiles">
            <h2>parseFiles</h2>
            <hr />
            
            <pre><code>func parseFiles(dir string, filenames []string) ([]*ast.File, error)</code></pre>
         </article>
         
         <article class="function" data-name="cgo">
            <h2>cgo</h2>
            <hr />
            
            <pre><code>func cgo(bp *build.Package) (*ast.File, error)</code></pre>
         </article>
         
         <article class="function" data-name="absPath">
            <h2>absPath</h2>
            <hr />
            
            <pre><code>func absPath(path string) (string, error)</code></pre>
         </article>
         
         <article class="function" data-name="isAbsPath">
            <h2>isAbsPath</h2>
            <hr />
            
            <pre><code>func isAbsPath(path string) bool</code></pre>
         </article>
         
         <article class="function" data-name="joinPath">
            <h2>joinPath</h2>
            <hr />
            
            <pre><code>func joinPath(elem ...string) string</code></pre>
         </article>
         
         <article class="function" data-name="setUsesCgo">
            <h2>setUsesCgo</h2>
            <hr />
            
            <pre><code>func setUsesCgo(conf *types.Config)</code></pre>
         </article>
         
         <article class="function" data-name="TestMain">
            <h2>TestMain</h2>
            <hr />
            
            <pre><code>func TestMain(m *testing.M)</code></pre>
         </article>
         
         <article class="function" data-name="doImport">
            <h2>doImport</h2>
            <hr />
            
            <pre><code>func doImport(t *testing.T, path string, srcDir string)</code></pre>
         </article>
         
         <article class="function" data-name="walkDir">
            <h2>walkDir</h2>
            <hr />
            
            <p>walkDir imports the all the packages with the given path
prefix recursively. It returns the number of packages
imported and whether importing was aborted because time
has passed endTime.</p>
            
            <pre><code>func walkDir(t *testing.T, path string, endTime time.Time) (int, bool)</code></pre>
         </article>
         
         <article class="function" data-name="TestImportStdLib">
            <h2>TestImportStdLib</h2>
            <hr />
            
            <pre><code>func TestImportStdLib(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestImportedTypes">
            <h2>TestImportedTypes</h2>
            <hr />
            
            <pre><code>func TestImportedTypes(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="verifyInterfaceMethodRecvs">
            <h2>verifyInterfaceMethodRecvs</h2>
            <hr />
            
            <p>verifyInterfaceMethodRecvs verifies that method receiver types
are named if the methods belong to a named interface type.</p>
            
            <pre><code>func verifyInterfaceMethodRecvs(t *testing.T, named *types.Named, level int)</code></pre>
         </article>
         
         <article class="function" data-name="TestReimport">
            <h2>TestReimport</h2>
            <hr />
            
            <pre><code>func TestReimport(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestIssue20855">
            <h2>TestIssue20855</h2>
            <hr />
            
            <pre><code>func TestIssue20855(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="testImportPath">
            <h2>testImportPath</h2>
            <hr />
            
            <pre><code>func testImportPath(t *testing.T, pkgPath string)</code></pre>
         </article>
         
         <article class="function" data-name="TestIssue23092">
            <h2>TestIssue23092</h2>
            <hr />
            
            <p>TestIssue23092 tests relative imports.</p>
            
            <pre><code>func TestIssue23092(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestIssue24392">
            <h2>TestIssue24392</h2>
            <hr />
            
            <p>TestIssue24392 tests imports against a path containing 'testdata'.</p>
            
            <pre><code>func TestIssue24392(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestCgo">
            <h2>TestCgo</h2>
            <hr />
            
            <pre><code>func TestCgo(t *testing.T)</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
