<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - staticdata</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
         
         <span style="color: rgba(177, 175, 175, 0.5)">
            No subpackages
         </span>
         
      </aside>
      <main>
         <h1>
            Package
            <code>staticdata</code>
         </h1>
         <hr />
         
         <article class="global" data-name="stringSymPrefix">
            <h2>stringSymPrefix</h2>
            <hr />
            
            <pre><code>stringSymPrefix</code></pre>
         </article>
         
         <article class="global" data-name="stringSymPattern">
            <h2>stringSymPattern</h2>
            <hr />
            
            <pre><code>stringSymPattern</code></pre>
         </article>
         
         <article class="global" data-name="maxFileSize">
            <h2>maxFileSize</h2>
            <hr />
            
            <p>maxFileSize is the maximum file size permitted by the linker
(see issue #9862).</p>
            
            <pre><code>maxFileSize</code></pre>
         </article>
         
         <article class="global" data-name="slicedataGen">
            <h2>slicedataGen</h2>
            <hr />
            
            <pre><code>slicedataGen int</code></pre>
         </article>
         
         <article class="global" data-name="funcsymsmu">
            <h2>funcsymsmu</h2>
            <hr />
            
            <pre><code>funcsymsmu sync.Mutex</code></pre>
         </article>
         
         <article class="global" data-name="funcsyms">
            <h2>funcsyms</h2>
            <hr />
            
            <pre><code>funcsyms []*ir.Name</code></pre>
         </article>
         
         <article class="global" data-name="embedUnknown">
            <h2>embedUnknown</h2>
            <hr />
            
            <pre><code>embedUnknown</code></pre>
         </article>
         
         <article class="global" data-name="embedBytes">
            <h2>embedBytes</h2>
            <hr />
            
            <pre><code>embedBytes</code></pre>
         </article>
         
         <article class="global" data-name="embedString">
            <h2>embedString</h2>
            <hr />
            
            <pre><code>embedString</code></pre>
         </article>
         
         <article class="global" data-name="embedFiles">
            <h2>embedFiles</h2>
            <hr />
            
            <pre><code>embedFiles</code></pre>
         </article>
           
         <article class="function" data-name="InitAddrOffset">
            <h2>InitAddrOffset</h2>
            <hr />
            
            <p>InitAddrOffset writes the static name symbol lsym to n, it does not modify n.
It's the caller responsibility to make sure lsym is from ONAME/PEXTERN node.</p>
            
            <pre><code>func InitAddrOffset(n *ir.Name, noff int64, lsym *obj.LSym, off int64)</code></pre>
         </article>
         
         <article class="function" data-name="InitAddr">
            <h2>InitAddr</h2>
            <hr />
            
            <p>InitAddr is InitAddrOffset, with offset fixed to 0.</p>
            
            <pre><code>func InitAddr(n *ir.Name, noff int64, lsym *obj.LSym)</code></pre>
         </article>
         
         <article class="function" data-name="InitSlice">
            <h2>InitSlice</h2>
            <hr />
            
            <p>InitSlice writes a static slice symbol {lsym, lencap, lencap} to n+noff, it does not modify n.
It's the caller responsibility to make sure lsym is from ONAME node.</p>
            
            <pre><code>func InitSlice(n *ir.Name, noff int64, lsym *obj.LSym, lencap int64)</code></pre>
         </article>
         
         <article class="function" data-name="InitSliceBytes">
            <h2>InitSliceBytes</h2>
            <hr />
            
            <pre><code>func InitSliceBytes(nam *ir.Name, off int64, s string)</code></pre>
         </article>
         
         <article class="function" data-name="shortHashString">
            <h2>shortHashString</h2>
            <hr />
            
            <p>shortHashString converts the hash to a string for use with stringSymPattern.
We cut it to 16 bytes and then base64-encode to make it even smaller.</p>
            
            <pre><code>func shortHashString(hash []byte) string</code></pre>
         </article>
         
         <article class="function" data-name="StringSym">
            <h2>StringSym</h2>
            <hr />
            
            <p>StringSym returns a symbol containing the string s.
The symbol contains the string data, not a string header.</p>
            
            <pre><code>func StringSym(pos src.XPos, s string) data *obj.LSym</code></pre>
         </article>
         
         <article class="function" data-name="StringSymNoCommon">
            <h2>StringSymNoCommon</h2>
            <hr />
            
            <p>StringSymNoCommon is like StringSym, but produces a symbol that is not content-
addressable. This symbol is not supposed to appear in the final binary, it is
only used to pass string arguments to the linker like R_USENAMEDMETHOD does.</p>
            
            <pre><code>func StringSymNoCommon(s string) data *obj.LSym</code></pre>
         </article>
         
         <article class="function" data-name="fileStringSym">
            <h2>fileStringSym</h2>
            <hr />
            
            <p>fileStringSym returns a symbol for the contents and the size of file.
If readonly is true, the symbol shares storage with any literal string
or other file with the same content and is placed in a read-only section.
If readonly is false, the symbol is a read-write copy separate from any other,
for use as the backing store of a []byte.
The content hash of file is copied into hashBytes. (If hash is nil, nothing is copied.)
The returned symbol contains the data itself, not a string header.</p>
            
            <pre><code>func fileStringSym(pos src.XPos, file string, readonly bool, hashBytes []byte) (*obj.LSym, int64, error)</code></pre>
         </article>
         
         <article class="function" data-name="slicedata">
            <h2>slicedata</h2>
            <hr />
            
            <pre><code>func slicedata(pos src.XPos, s string) *obj.LSym</code></pre>
         </article>
         
         <article class="function" data-name="dstringdata">
            <h2>dstringdata</h2>
            <hr />
            
            <pre><code>func dstringdata(s *obj.LSym, off int, t string, pos src.XPos, what string) int</code></pre>
         </article>
         
         <article class="function" data-name="FuncLinksym">
            <h2>FuncLinksym</h2>
            <hr />
            
            <p>FuncLinksym returns n·f, the function value symbol for n.</p>
            
            <pre><code>func FuncLinksym(n *ir.Name) *obj.LSym</code></pre>
         </article>
         
         <article class="function" data-name="GlobalLinksym">
            <h2>GlobalLinksym</h2>
            <hr />
            
            <pre><code>func GlobalLinksym(n *ir.Name) *obj.LSym</code></pre>
         </article>
         
         <article class="function" data-name="WriteFuncSyms">
            <h2>WriteFuncSyms</h2>
            <hr />
            
            <pre><code>func WriteFuncSyms()</code></pre>
         </article>
         
         <article class="function" data-name="InitConst">
            <h2>InitConst</h2>
            <hr />
            
            <p>InitConst writes the static literal c to n.
Neither n nor c is modified.</p>
            
            <pre><code>func InitConst(n *ir.Name, noff int64, c ir.Node, wid int)</code></pre>
         </article>
         
         <article class="function" data-name="embedFileList">
            <h2>embedFileList</h2>
            <hr />
            
            <pre><code>func embedFileList(v *ir.Name, kind int) []string</code></pre>
         </article>
         
         <article class="function" data-name="embedKind">
            <h2>embedKind</h2>
            <hr />
            
            <p>embedKind determines the kind of embedding variable.</p>
            
            <pre><code>func embedKind(typ *types.Type) int</code></pre>
         </article>
         
         <article class="function" data-name="embedFileNameSplit">
            <h2>embedFileNameSplit</h2>
            <hr />
            
            <pre><code>func embedFileNameSplit(name string) (dir string, elem string, isDir bool)</code></pre>
         </article>
         
         <article class="function" data-name="embedFileLess">
            <h2>embedFileLess</h2>
            <hr />
            
            <p>embedFileLess implements the sort order for a list of embedded files.
See the comment inside ../../../../embed/embed.go's Files struct for rationale.</p>
            
            <pre><code>func embedFileLess(x string, y string) bool</code></pre>
         </article>
         
         <article class="function" data-name="WriteEmbed">
            <h2>WriteEmbed</h2>
            <hr />
            
            <p>WriteEmbed emits the init data for a //go:embed variable,
which is either a string, a []byte, or an embed.FS.</p>
            
            <pre><code>func WriteEmbed(v *ir.Name)</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
