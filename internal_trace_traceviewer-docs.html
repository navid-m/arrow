<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - traceviewer</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <link
         href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 14px;
            scroll-behavior: smooth;
         }

         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
            line-height: 1.6;
         }

         .sidebar {
            width: 12%;
            background: rgba(59, 56, 56, 0.15);
            padding: 1.5rem;
            box-shadow: 2px 0 8px rgba(0, 0, 0, 0.4);
            overflow-y: auto;
            position: sticky;
            top: 0;
            height: 100vh;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
         }

         .sidebar::-webkit-scrollbar {
            width: 6px;
         }

         .sidebar::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
         }

         .sidebar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
         }

         main {
            flex: 1;
            padding: 2rem;
            margin: 0;
            max-width: calc(100% - 280px);
            background: linear-gradient(
               135deg,
               rgba(59, 56, 56, 0.05) 0%,
               rgba(0, 0, 0, 0.1) 100%
            );
         }

         .nav-links {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
         }

         .nav-links a {
            color: #ddd;
            text-decoration: none;
            padding: 0.5rem;
            border-radius: 4px;
            transition: all 0.2s ease;
         }

         .nav-links a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
         }

         h1 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #fff 0%, #ddd 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
         }

         h2 {
            font-size: 1.4rem;
            margin: 1rem 0 0.5rem;
            color: #f0f0f0;
         }

         h3 {
            font-size: 1.2rem;
            margin: 0.8rem 0 0.3rem;
            color: #e0e0e0;
            position: relative;
         }

         .sidebar h2,
         .sidebar h3 {
            font-size: 1rem;
            margin: 0.5rem 0 0.3rem;
            color: #ccc;
         }

         p {
            word-wrap: break-word;
            line-height: 1.6;
            font-size: 14px;
            margin-bottom: 1rem;
            color: #ccc;
         }

         .anchor {
            color: rgba(255, 255, 255, 0.3);
            text-decoration: none;
            font-weight: normal;
            margin-left: 0.5rem;
            opacity: 0;
            transition: opacity 0.2s ease;
            font-size: 0.8em;
         }

         h3:hover .anchor,
         .anchor:focus {
            opacity: 1;
         }

         .anchor:hover {
            color: rgba(255, 255, 255, 0.6);
         }

         .symbol-anchor {
            scroll-margin-top: 2rem;
         }

         pre, code {
            white-space: pre;
         }  

         pre[class*="language-"] {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3) !important;
            border-radius: 8px !important;
            margin: 1rem 0 !important;
            padding: 1rem 1.2rem !important;
            font-size: 0.9rem !important;
            overflow-x: auto !important;
         }

         code[class*="language-"] {
            color: #e6e6e6 !important;
            font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace !important;
            white-space: pre-wrap !important;
         }

         pre:not([class*="language-"]) {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #e6e6e6;
            padding: 1rem 1.2rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-size: 0.9rem;
            overflow-x: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
         }

         pre:not([class*="language-"]) code {
            color: #f5f5f5;
            font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
            white-space: pre-wrap;
         }

         .token.comment,
         .token.prolog,
         .token.doctype,
         .token.cdata {
            color: #7c7c7c !important;
         }

         .token.punctuation {
            color: #c9c9c9 !important;
         }

         .token.property,
         .token.tag,
         .token.boolean,
         .token.number,
         .token.constant,
         .token.symbol,
         .token.deleted {
            color: #f2777a !important;
         }

         .token.selector,
         .token.attr-name,
         .token.string,
         .token.char,
         .token.builtin,
         .token.inserted {
            color: #639fc2 !important;
         }

         .token.operator,
         .token.entity,
         .token.url,
         .language-css .token.string,
         .style .token.string {
            color: #66cccc !important;
         }

         .token.atrule,
         .token.attr-value,
         .token.keyword {
            color: #d34343 !important;
         }

         .token.function,
         .token.class-name {
            color: #f99157 !important;
         }

         .token.regex,
         .token.important,
         .token.variable {
            color: #ffcc66 !important;
         }

         p {
            font-size: 15px;
            margin: 1rem 0;
            color: #ddd;
         }

         article {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(59, 56, 56, 0.3);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            transition: all 0.3s ease;
         }

         article:hover {
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5);
            transform: translateY(-2px);
         }

         article:target {
            border-color: rgba(100, 200, 255, 0.5);
            box-shadow: 0 0 0 2px rgba(100, 200, 255, 0.2);
         }

         .hidden {
            display: none !important;
         }

         .filter-section {
            margin-bottom: 1.5rem;
         }

         .filter-section h3 {
            margin-bottom: 0.8rem;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #aaa;
         }

         .filter-toggle label {
            display: flex;
            align-items: center;
            margin-bottom: 0.6rem;
            font-size: 0.85rem;
            color: #bbb;
            cursor: pointer;
            padding: 0.3rem;
            border-radius: 4px;
            transition: background 0.2s ease;
         }

         .filter-toggle label:hover {
            background: rgba(255, 255, 255, 0.05);
         }

         .filter-toggle input {
            margin-right: 0.6rem;
         }

         #searchInput {
            width: 100%;
            margin-bottom: 1.5rem;
            border-radius: 8px !important;
            height: 2.8rem;
            font-size: 0.9rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 0 1rem;
         }

         #searchInput::placeholder {
            color: rgba(255, 255, 255, 0.5);
         }

         #searchInput:focus {
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
         }

         .section-divider {
            height: 1px;
            background: linear-gradient(
               90deg,
               transparent 0%,
               rgba(255, 255, 255, 0.3) 50%,
               transparent 100%
            );
            margin: 1.5rem 0;
         }

         .subpackage-list {
            list-style: none;
            padding: 0;
         }

         .subpackage-list li {
            margin-bottom: 0.4rem;
         }

         .subpackage-list a {
            display: block;
            padding: 0.5rem 0.8rem;
            color: #ccc;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.2s ease;
            font-size: 0.85rem;
         }

         .subpackage-list a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            transform: translateX(4px);
         }

         .empty-state {
            color: rgba(177, 175, 175, 0.6);
            font-style: italic;
            font-size: 0.8rem;
         }

         .badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.1);
            color: #ddd;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 500;
            margin-left: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
         }

         .method-badge {
            background: rgba(100, 200, 255, 0.2);
            color: #87ceeb;
         }

         .const-badge {
            background: rgba(255, 200, 100, 0.2);
            color: #ffd700;
         }

         .var-badge {
            background: rgba(200, 255, 100, 0.2);
            color: #90ee90;
         }

         .type-badge {
            background: rgba(255, 100, 200, 0.2);
            color: #699eff;
         }

         .interface-badge {
            background: rgba(150, 100, 255, 0.2);
            color: #dda0dd;
         }

         .toc {
            position: sticky;
            top: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
         }

         .toc h4 {
            margin: 0 0 0.8rem;
            font-size: 0.9rem;
            color: #aaa;
            text-transform: uppercase;
            letter-spacing: 0.5px;
         }

         .toc ul {
            list-style: none;
            padding: 0;
            margin: 0;
         }

         .toc li {
            margin-bottom: 0.3rem;
         }

         .toc a {
            color: #bbb;
            text-decoration: none;
            font-size: 0.8rem;
            transition: color 0.2s ease;
         }

         .toc a:hover {
            color: #fff;
         }

         .symbol-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.2);
         }

         .symbol-list::-webkit-scrollbar {
            width: 4px;
         }

         .symbol-list::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
         }

         .symbol-list ul {
            list-style: none;
            padding: 0.5rem;
            margin: 0;
         }

         .symbol-list li {
            margin-bottom: 0.2rem;
         }

         .symbol-list a {
            display: block;
            padding: 0.3rem 0.5rem;
            color: #bbb;
            text-decoration: none;
            border-radius: 4px;
            transition: all 0.2s ease;
            font-size: 0.75rem;
         }

         .symbol-list a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
         }

         @media (max-width: 768px) {
            body {
               flex-direction: column;
            }

            .sidebar {
               width: 90%;
               height: auto;
               position: relative;
            }

            main {
               max-width: 100%;
               padding: 1rem;
            }
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <div class="nav-links">
            <a href="index.html" title="Home">⌂</a>
            <span>|</span>
            <a href="#" onclick="history.back()" title="Back">←</a>
         </div>

         <div class="filter-section">
            <h3>Search</h3>
            <input
               type="search"
               id="searchInput"
               placeholder="Search symbols..."
            />
         </div>

         <div class="filter-section">
            <h3>Filters</h3>
            <div class="filter-toggle">
               <label>
                  <input type="checkbox" id="showImports" />
                  Show imports
               </label>
               <label>
                  <input type="checkbox" id="showPrivateFunctions" />
                  Show private functions
               </label>
               <label>
                  <input type="checkbox" id="showPrivateStructs" />
                  Show private structs
               </label>
               <label>
                  <input type="checkbox" id="showPrivateFields" />
                  Show private fields
               </label>
               <label>
                  <input type="checkbox" id="showPrivateGlobals" />
                  Show private globals
               </label>
               <label>
                  <input type="checkbox" id="showPrivateTypes" />
                  Show private types
               </label>
               <label>
                  <input type="checkbox" id="showPrivateInterfaces" />
                  Show private interfaces
               </label>
            </div>
         </div>

         <div class="section-divider"></div>

         <div class="filter-section">
            <h3>Subpackages</h3>
            
            <ul class="subpackage-list">
               
               <li><a href="internal_trace_traceviewer_format-docs.html">format</a></li>
               
            </ul>
            
         </div>

         
         <div class="section-divider"></div>

         <div class="toc">
            <h4>Quick Navigation</h4>
            <ul>
               
               <li><a href="#globals">Constants & Variables</a></li>
                
               <li><a href="#types">Type Aliases</a></li>
                 
               <li><a href="#structs">Structs</a></li>
                
               <li><a href="#functions">Functions</a></li>
               
            </ul>
         </div>

         <div class="filter-section">
            <h3>All Symbols</h3>
            <div class="symbol-list">
               <ul id="symbolIndex">
               </ul>
            </div>
         </div>
         
      </aside>

      <main>
         <h1>traceviewer</h1>
         <div class="section-divider"></div>

         
         <section id="imports">
            <h2>Imports</h2>
            <article class="imports symbol-anchor" id="imports-section" data-name="imports">
               <h3>
                  Imports
                  <a href="#imports-section" class="anchor" title="Link to imports">#</a>
               </h3>
               <pre><code class="language-go">"fmt"
"html/template"
"math"
"strings"
"time"
"embed"
"fmt"
"html/template"
"net/http"
"strings"
"encoding/json"
"fmt"
"internal/trace"
"log"
"math"
"net/http"
"strconv"
"strings"
"sync"
"time"
"bufio"
"fmt"
"internal/profile"
"internal/trace"
"net/http"
"os"
"os/exec"
"path/filepath"
"runtime"
"time"
"encoding/json"
"fmt"
"internal/trace"
"internal/trace/traceviewer/format"
"io"
"strconv"
"time"
</code></pre>
            </article>
         </section>
          
         <section id="globals">
            <h2>Constants & Variables</h2>
            
            <article class="global symbol-anchor" id="CommonStyle" data-name="CommonStyle">
               <h3>
                  CommonStyle 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#CommonStyle" class="anchor" title="Link to CommonStyle">#</a>
               </h3>
               
               <pre><code class="language-go">const CommonStyle = `
/* See https://github.com/golang/pkgsite/blob/master/static/shared/typography/typography.css */
body {
  font-family:	-apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji';
  font-size:	1rem;
  line-height:	normal;
  max-width:	9in;
  margin:	1em;
}
h1 { font-size: 1.5rem; }
h2 { font-size: 1.375rem; }
h1,h2 {
  font-weight: 600;
  line-height: 1.25em;
  word-break: break-word;
}
p  { color: grey85; font-size:85%; }
code,
pre,
textarea.code {
  font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
  font-size: 0.875rem;
  line-height: 1.5em;
}

pre,
textarea.code {
  background-color: var(--color-background-accented);
  border: var(--border);
  border-radius: var(--border-radius);
  color: var(--color-text);
  overflow-x: auto;
  padding: 0.625rem;
  tab-size: 4;
  white-space: pre;
}
`</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="GDead" data-name="GDead">
               <h3>
                  GDead 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#GDead" class="anchor" title="Link to GDead">#</a>
               </h3>
               
               <pre><code class="language-go">const GDead GState = iota</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="GRunnable" data-name="GRunnable">
               <h3>
                  GRunnable 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#GRunnable" class="anchor" title="Link to GRunnable">#</a>
               </h3>
               
               <pre><code class="language-go">const GRunnable</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="GRunning" data-name="GRunning">
               <h3>
                  GRunning 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#GRunning" class="anchor" title="Link to GRunning">#</a>
               </h3>
               
               <pre><code class="language-go">const GRunning</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="GWaiting" data-name="GWaiting">
               <h3>
                  GWaiting 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#GWaiting" class="anchor" title="Link to GWaiting">#</a>
               </h3>
               
               <pre><code class="language-go">const GWaiting</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="GWaitingGC" data-name="GWaitingGC">
               <h3>
                  GWaitingGC 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#GWaitingGC" class="anchor" title="Link to GWaitingGC">#</a>
               </h3>
               
               <pre><code class="language-go">const GWaitingGC</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="ModeGoroutineOriented" data-name="ModeGoroutineOriented">
               <h3>
                  ModeGoroutineOriented 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#ModeGoroutineOriented" class="anchor" title="Link to ModeGoroutineOriented">#</a>
               </h3>
               
               <pre><code class="language-go">const ModeGoroutineOriented Mode = *ast.BinaryExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="ModeTaskOriented" data-name="ModeTaskOriented">
               <h3>
                  ModeTaskOriented 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#ModeTaskOriented" class="anchor" title="Link to ModeTaskOriented">#</a>
               </h3>
               
               <pre><code class="language-go">const ModeTaskOriented</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="ModeThreadOriented" data-name="ModeThreadOriented">
               <h3>
                  ModeThreadOriented 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#ModeThreadOriented" class="anchor" title="Link to ModeThreadOriented">#</a>
               </h3>
               
               <pre><code class="language-go">const ModeThreadOriented</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="ThreadStateInSyscall" data-name="ThreadStateInSyscall">
               <h3>
                  ThreadStateInSyscall 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#ThreadStateInSyscall" class="anchor" title="Link to ThreadStateInSyscall">#</a>
               </h3>
               
               <pre><code class="language-go">const ThreadStateInSyscall ThreadState = iota</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="ThreadStateInSyscallRuntime" data-name="ThreadStateInSyscallRuntime">
               <h3>
                  ThreadStateInSyscallRuntime 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#ThreadStateInSyscallRuntime" class="anchor" title="Link to ThreadStateInSyscallRuntime">#</a>
               </h3>
               
               <pre><code class="language-go">const ThreadStateInSyscallRuntime</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="ThreadStateRunning" data-name="ThreadStateRunning">
               <h3>
                  ThreadStateRunning 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#ThreadStateRunning" class="anchor" title="Link to ThreadStateRunning">#</a>
               </h3>
               
               <pre><code class="language-go">const ThreadStateRunning</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="ViewProc" data-name="ViewProc">
               <h3>
                  ViewProc 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#ViewProc" class="anchor" title="Link to ViewProc">#</a>
               </h3>
               
               <pre><code class="language-go">const ViewProc ViewType = "proc"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="ViewThread" data-name="ViewThread">
               <h3>
                  ViewThread 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#ViewThread" class="anchor" title="Link to ViewThread">#</a>
               </h3>
               
               <pre><code class="language-go">const ViewThread ViewType = "thread"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorAnotherGrey" data-name="colorAnotherGrey">
               <h3>
                  colorAnotherGrey 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorAnotherGrey" class="anchor" title="Link to colorAnotherGrey">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorAnotherGrey = "cq_build_attempt_failed"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorBlack" data-name="colorBlack">
               <h3>
                  colorBlack 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorBlack" class="anchor" title="Link to colorBlack">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorBlack = "black"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorBlue" data-name="colorBlue">
               <h3>
                  colorBlue 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorBlue" class="anchor" title="Link to colorBlue">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorBlue = "vsync_highlight_color"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorCornflowerBlue" data-name="colorCornflowerBlue">
               <h3>
                  colorCornflowerBlue 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorCornflowerBlue" class="anchor" title="Link to colorCornflowerBlue">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorCornflowerBlue = "rail_response"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorDarkGoldenrod" data-name="colorDarkGoldenrod">
               <h3>
                  colorDarkGoldenrod 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorDarkGoldenrod" class="anchor" title="Link to colorDarkGoldenrod">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorDarkGoldenrod = "bad"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorDarkGrey" data-name="colorDarkGrey">
               <h3>
                  colorDarkGrey 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorDarkGrey" class="anchor" title="Link to colorDarkGrey">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorDarkGrey = "heap_dump_stack_frame"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorDeepMagenta" data-name="colorDeepMagenta">
               <h3>
                  colorDeepMagenta 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorDeepMagenta" class="anchor" title="Link to colorDeepMagenta">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorDeepMagenta = "detailed_memory_dump"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorForTask" data-name="colorForTask">
               <h3>
                  colorForTask 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#colorForTask" class="anchor" title="Link to colorForTask">#</a>
               </h3>
               
               <pre><code class="language-go">var colorForTask = []string{...}</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorGreen" data-name="colorGreen">
               <h3>
                  colorGreen 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorGreen" class="anchor" title="Link to colorGreen">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorGreen = "good"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorGreenishYellow" data-name="colorGreenishYellow">
               <h3>
                  colorGreenishYellow 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorGreenishYellow" class="anchor" title="Link to colorGreenishYellow">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorGreenishYellow = "startup"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorGrey" data-name="colorGrey">
               <h3>
                  colorGrey 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorGrey" class="anchor" title="Link to colorGrey">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorGrey = "generic_work"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorIrisBlue" data-name="colorIrisBlue">
               <h3>
                  colorIrisBlue 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorIrisBlue" class="anchor" title="Link to colorIrisBlue">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorIrisBlue = "background_memory_dump"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorKellyGreen" data-name="colorKellyGreen">
               <h3>
                  colorKellyGreen 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorKellyGreen" class="anchor" title="Link to colorKellyGreen">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorKellyGreen = "cq_build_attempt_passed"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorLemon" data-name="colorLemon">
               <h3>
                  colorLemon 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorLemon" class="anchor" title="Link to colorLemon">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorLemon = "cq_build_running"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorLightGrey" data-name="colorLightGrey">
               <h3>
                  colorLightGrey 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorLightGrey" class="anchor" title="Link to colorLightGrey">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorLightGrey = "grey"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorLightMauve" data-name="colorLightMauve">
               <h3>
                  colorLightMauve 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorLightMauve" class="anchor" title="Link to colorLightMauve">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorLightMauve = "thread_state_uninterruptible"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorLime" data-name="colorLime">
               <h3>
                  colorLime 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorLime" class="anchor" title="Link to colorLime">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorLime = "cq_build_passed"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorManzGreen" data-name="colorManzGreen">
               <h3>
                  colorManzGreen 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorManzGreen" class="anchor" title="Link to colorManzGreen">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorManzGreen = "cq_build_attempt_runnig"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorMidnightBlue" data-name="colorMidnightBlue">
               <h3>
                  colorMidnightBlue 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorMidnightBlue" class="anchor" title="Link to colorMidnightBlue">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorMidnightBlue = "light_memory_dump"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorOlive" data-name="colorOlive">
               <h3>
                  colorOlive 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorOlive" class="anchor" title="Link to colorOlive">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorOlive = "olive"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorOrange" data-name="colorOrange">
               <h3>
                  colorOrange 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorOrange" class="anchor" title="Link to colorOrange">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorOrange = "thread_state_iowait"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorPeach" data-name="colorPeach">
               <h3>
                  colorPeach 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorPeach" class="anchor" title="Link to colorPeach">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorPeach = "terrible"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorPink" data-name="colorPink">
               <h3>
                  colorPink 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorPink" class="anchor" title="Link to colorPink">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorPink = "cq_build_failed"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorSeafoamGreen" data-name="colorSeafoamGreen">
               <h3>
                  colorSeafoamGreen 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorSeafoamGreen" class="anchor" title="Link to colorSeafoamGreen">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorSeafoamGreen = "thread_state_running"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorShamrockGreen" data-name="colorShamrockGreen">
               <h3>
                  colorShamrockGreen 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorShamrockGreen" class="anchor" title="Link to colorShamrockGreen">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorShamrockGreen = "rail_load"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorSilver" data-name="colorSilver">
               <h3>
                  colorSilver 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorSilver" class="anchor" title="Link to colorSilver">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorSilver = "cq_build_abandoned"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorSunsetOrange" data-name="colorSunsetOrange">
               <h3>
                  colorSunsetOrange 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorSunsetOrange" class="anchor" title="Link to colorSunsetOrange">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorSunsetOrange = "rail_animation"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorTan" data-name="colorTan">
               <h3>
                  colorTan 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorTan" class="anchor" title="Link to colorTan">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorTan = "thread_state_unknown"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorTangerine" data-name="colorTangerine">
               <h3>
                  colorTangerine 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorTangerine" class="anchor" title="Link to colorTangerine">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorTangerine = "rail_idle"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorTawny" data-name="colorTawny">
               <h3>
                  colorTawny 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorTawny" class="anchor" title="Link to colorTawny">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorTawny = "heap_dump_child_node_arrow"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorVistaBlue" data-name="colorVistaBlue">
               <h3>
                  colorVistaBlue 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorVistaBlue" class="anchor" title="Link to colorVistaBlue">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorVistaBlue = "thread_state_runnable"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorWhite" data-name="colorWhite">
               <h3>
                  colorWhite 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorWhite" class="anchor" title="Link to colorWhite">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorWhite = "white"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="colorYellow" data-name="colorYellow">
               <h3>
                  colorYellow 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#colorYellow" class="anchor" title="Link to colorYellow">#</a>
               </h3>
               
                  <p class="doc-comment">Mapping from more reasonable color names to the reserved color names in
https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html#L50
The chrome trace viewer allows only those as cname values.</p>
               
               <pre><code class="language-go">const colorYellow = "yellow"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="gStateCount" data-name="gStateCount">
               <h3>
                  gStateCount 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#gStateCount" class="anchor" title="Link to gStateCount">#</a>
               </h3>
               
               <pre><code class="language-go">const gStateCount</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="logDiv" data-name="logDiv">
               <h3>
                  logDiv 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#logDiv" class="anchor" title="Link to logDiv">#</a>
               </h3>
               
                  <p class="doc-comment">Five buckets for every power of 10.</p>
               
               <pre><code class="language-go">var logDiv = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="staticContent" data-name="staticContent">
               <h3>
                  staticContent 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#staticContent" class="anchor" title="Link to staticContent">#</a>
               </h3>
               
                  <p class="doc-comment">go:embed static/trace_viewer_full.html static/webcomponents.min.js</p>
               
               <pre><code class="language-go">var staticContent embed.FS</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="templMMU" data-name="templMMU">
               <h3>
                  templMMU 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#templMMU" class="anchor" title="Link to templMMU">#</a>
               </h3>
               
               <pre><code class="language-go">var templMMU = `<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      var chartsReady = false;
      google.charts.setOnLoadCallback(function() { chartsReady = true; refreshChart(); });

      var chart;
      var curve;

      function niceDuration(ns) {
          if (ns < 1e3) { return ns + 'ns'; }
          else if (ns < 1e6) { return ns / 1e3 + 'µs'; }
          else if (ns < 1e9) { return ns / 1e6 + 'ms'; }
          else { return ns / 1e9 + 's'; }
      }

      function niceQuantile(q) {
        return 'p' + q*100;
      }

      function mmuFlags() {
        var flags = "";
        $("#options input").each(function(i, elt) {
          if (elt.checked)
            flags += "|" + elt.id;
        });
        return flags.substr(1);
      }

      function refreshChart() {
        if (!chartsReady) return;
        var container = $('#mmu_chart');
        container.css('opacity', '.5');
        refreshChart.count++;
        var seq = refreshChart.count;
        $.getJSON('?mode=plot&flags=' + mmuFlags())
         .fail(function(xhr, status, error) {
           alert('failed to load plot: ' + status);
         })
         .done(function(result) {
           if (refreshChart.count === seq)
             drawChart(result);
         });
      }
      refreshChart.count = 0;

      function drawChart(plotData) {
        curve = plotData.curve;
        var data = new google.visualization.DataTable();
        data.addColumn('number', 'Window duration');
        data.addColumn('number', 'Minimum mutator utilization');
        if (plotData.quantiles) {
          for (var i = 1; i < plotData.quantiles.length; i++) {
            data.addColumn('number', niceQuantile(1 - plotData.quantiles[i]) + ' MU');
          }
        }
        data.addRows(curve);
        for (var i = 0; i < curve.length; i++) {
          data.setFormattedValue(i, 0, niceDuration(curve[i][0]));
        }

        var options = {
          chart: {
            title: 'Minimum mutator utilization',
          },
          hAxis: {
            title: 'Window duration',
            scaleType: 'log',
            ticks: [],
          },
          vAxis: {
            title: 'Minimum mutator utilization',
            minValue: 0.0,
            maxValue: 1.0,
          },
          legend: { position: 'none' },
          focusTarget: 'category',
          width: 900,
          height: 500,
          chartArea: { width: '80%', height: '80%' },
        };
        for (var v = plotData.xMin; v <= plotData.xMax; v *= 10) {
          options.hAxis.ticks.push({v:v, f:niceDuration(v)});
        }
        if (plotData.quantiles) {
          options.vAxis.title = 'Mutator utilization';
          options.legend.position = 'in';
        }

        var container = $('#mmu_chart');
        container.empty();
        container.css('opacity', '');
        chart = new google.visualization.LineChart(container[0]);
        chart = new google.visualization.LineChart(document.getElementById('mmu_chart'));
        chart.draw(data, options);

        google.visualization.events.addListener(chart, 'select', selectHandler);
        $('#details').empty();
      }

      function selectHandler() {
        var items = chart.getSelection();
        if (items.length === 0) {
          return;
        }
        var details = $('#details');
        details.empty();
        var windowNS = curve[items[0].row][0];
        var url = '?mode=details&window=' + windowNS + '&flags=' + mmuFlags();
        $.getJSON(url)
         .fail(function(xhr, status, error) {
            details.text(status + ': ' + url + ' could not be loaded');
         })
         .done(function(worst) {
            details.text('Lowest mutator utilization in ' + niceDuration(windowNS) + ' windows:');
            for (var i = 0; i < worst.length; i++) {
              details.append($('<br>'));
              var text = worst[i].MutatorUtil.toFixed(3) + ' at time ' + niceDuration(worst[i].Time);
              details.append($('<a/>').text(text).attr('href', worst[i].URL));
            }
         });
      }

      $.when($.ready).then(function() {
        $("#options input").click(refreshChart);
      });
    </script>
    <style>
      .help {
        display: inline-block;
        position: relative;
        width: 1em;
        height: 1em;
        border-radius: 50%;
        color: #fff;
        background: #555;
        text-align: center;
        cursor: help;
      }
      .help > span {
        display: none;
      }
      .help:hover > span {
        display: block;
        position: absolute;
        left: 1.1em;
        top: 1.1em;
        background: #555;
        text-align: left;
        width: 20em;
        padding: 0.5em;
        border-radius: 0.5em;
        z-index: 5;
      }
    </style>
  </head>
  <body>
    <div style="position: relative">
      <div id="mmu_chart" style="width: 900px; height: 500px; display: inline-block; vertical-align: top">Loading plot...</div>
      <div id="options" style="display: inline-block; vertical-align: top">
        <p>
          <b>View</b><br>
          <input type="radio" name="view" id="system" checked><label for="system">System</label>
          <span class="help">?<span>Consider whole system utilization. For example, if one of four procs is available to the mutator, mutator utilization will be 0.25. This is the standard definition of an MMU.</span></span><br>
          <input type="radio" name="view" id="perProc"><label for="perProc">Per-goroutine</label>
          <span class="help">?<span>Consider per-goroutine utilization. When even one goroutine is interrupted by GC, mutator utilization is 0.</span></span><br>
        </p>
        <p>
          <b>Include</b><br>
          <input type="checkbox" id="stw" checked><label for="stw">STW</label>
          <span class="help">?<span>Stop-the-world stops all goroutines simultaneously.</span></span><br>
          <input type="checkbox" id="background" checked><label for="background">Background workers</label>
          <span class="help">?<span>Background workers are GC-specific goroutines. 25% of the CPU is dedicated to background workers during GC.</span></span><br>
          <input type="checkbox" id="assist" checked><label for="assist">Mark assist</label>
          <span class="help">?<span>Mark assists are performed by allocation to prevent the mutator from outpacing GC.</span></span><br>
          <input type="checkbox" id="sweep"><label for="sweep">Sweep</label>
          <span class="help">?<span>Sweep reclaims unused memory between GCs. (Enabling this may be very slow.).</span></span><br>
        </p>
        <p>
          <b>Display</b><br>
          <input type="checkbox" id="mut"><label for="mut">Show percentiles</label>
          <span class="help">?<span>Display percentile mutator utilization in addition to minimum. E.g., p99 MU drops the worst 1% of windows.</span></span><br>
        </p>
      </div>
    </div>
    <div id="details">Select a point for details.</div>
  </body>
</html>
`</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="templMain" data-name="templMain">
               <h3>
                  templMain 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#templMain" class="anchor" title="Link to templMain">#</a>
               </h3>
               
               <pre><code class="language-go">var templMain = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="templTrace" data-name="templTrace">
               <h3>
                  templTrace 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#templTrace" class="anchor" title="Link to templTrace">#</a>
               </h3>
               
                  <p class="doc-comment">https://chromium.googlesource.com/catapult/+/9508452e18f130c98499cb4c4f1e1efaedee8962/tracing/docs/embedding-trace-viewer.md
This is almost verbatim copy of https://chromium-review.googlesource.com/c/catapult/+/2062938/2/tracing/bin/index.html</p>
               
               <pre><code class="language-go">var templTrace = `
<html>
<head>
<script src="/static/webcomponents.min.js"></script>
<script>
'use strict';

function onTraceViewerImportFail() {
  document.addEventListener('DOMContentLoaded', function() {
    document.body.textContent =
    '/static/trace_viewer_full.html is missing. File a bug in https://golang.org/issue';
  });
}
</script>

<link rel="import" href="/static/trace_viewer_full.html"
      onerror="onTraceViewerImportFail(event)">

<style type="text/css">
  html, body {
    box-sizing: border-box;
    overflow: hidden;
    margin: 0px;
    padding: 0;
    width: 100%;
    height: 100%;
  }
  #trace-viewer {
    width: 100%;
    height: 100%;
  }
  #trace-viewer:focus {
    outline: none;
  }
</style>
<script>
'use strict';
(function() {
  var viewer;
  var url;
  var model;

  function load() {
    var req = new XMLHttpRequest();
    var isBinary = /[.]gz$/.test(url) || /[.]zip$/.test(url);
    req.overrideMimeType('text/plain; charset=x-user-defined');
    req.open('GET', url, true);
    if (isBinary)
      req.responseType = 'arraybuffer';

    req.onreadystatechange = function(event) {
      if (req.readyState !== 4)
        return;

      window.setTimeout(function() {
        if (req.status === 200)
          onResult(isBinary ? req.response : req.responseText);
        else
          onResultFail(req.status);
      }, 0);
    };
    req.send(null);
  }

  function onResultFail(err) {
    var overlay = new tr.ui.b.Overlay();
    overlay.textContent = err + ': ' + url + ' could not be loaded';
    overlay.title = 'Failed to fetch data';
    overlay.visible = true;
  }

  function onResult(result) {
    model = new tr.Model();
    var opts = new tr.importer.ImportOptions();
    opts.shiftWorldToZero = false;
    var i = new tr.importer.Import(model, opts);
    var p = i.importTracesWithProgressDialog([result]);
    p.then(onModelLoaded, onImportFail);
  }

  function onModelLoaded() {
    viewer.model = model;
    viewer.viewTitle = "trace";

    if (!model || model.bounds.isEmpty)
      return;
    var sel = window.location.hash.substr(1);
    if (sel === '')
      return;
    var parts = sel.split(':');
    var range = new (tr.b.Range || tr.b.math.Range)();
    range.addValue(parseFloat(parts[0]));
    range.addValue(parseFloat(parts[1]));
    viewer.trackView.viewport.interestRange.set(range);
  }

  function onImportFail(err) {
    var overlay = new tr.ui.b.Overlay();
    overlay.textContent = tr.b.normalizeException(err).message;
    overlay.title = 'Import error';
    overlay.visible = true;
  }

  document.addEventListener('WebComponentsReady', function() {
    var container = document.createElement('track-view-container');
    container.id = 'track_view_container';

    viewer = document.createElement('tr-ui-timeline-view');
    viewer.track_view_container = container;
    Polymer.dom(viewer).appendChild(container);

    viewer.id = 'trace-viewer';
    viewer.globalMode = true;
    Polymer.dom(document.body).appendChild(viewer);

    url = '/jsontrace?{{PARAMS}}';
    load();
  });
}());
</script>
</head>
<body>
</body>
</html>
`</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="threadStateCount" data-name="threadStateCount">
               <h3>
                  threadStateCount 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#threadStateCount" class="anchor" title="Link to threadStateCount">#</a>
               </h3>
               
               <pre><code class="language-go">const threadStateCount</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="utilFlagNames" data-name="utilFlagNames">
               <h3>
                  utilFlagNames 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#utilFlagNames" class="anchor" title="Link to utilFlagNames">#</a>
               </h3>
               
               <pre><code class="language-go">var utilFlagNames = map[string]trace.UtilFlags{...}</code></pre>
            </article>
            
         </section>
          
         <section id="types">
            <h2>Type Aliases</h2>
            
            <article class="type symbol-anchor" id="GState" data-name="GState">
               <h3>
                  GState
                  <span class="badge type-badge">type</span>
                  <a href="#GState" class="anchor" title="Link to GState">#</a>
               </h3>
               
               <pre><code class="language-go">type GState int</code></pre>
            </article>
            
            <article class="type symbol-anchor" id="Mode" data-name="Mode">
               <h3>
                  Mode
                  <span class="badge type-badge">type</span>
                  <a href="#Mode" class="anchor" title="Link to Mode">#</a>
               </h3>
               
               <pre><code class="language-go">type Mode int</code></pre>
            </article>
            
            <article class="type symbol-anchor" id="MutatorUtilFunc" data-name="MutatorUtilFunc">
               <h3>
                  MutatorUtilFunc
                  <span class="badge type-badge">type</span>
                  <a href="#MutatorUtilFunc" class="anchor" title="Link to MutatorUtilFunc">#</a>
               </h3>
               
               <pre><code class="language-go">type MutatorUtilFunc func(trace.UtilFlags) ([][]trace.MutatorUtil, error)</code></pre>
            </article>
            
            <article class="type symbol-anchor" id="ProfileFunc" data-name="ProfileFunc">
               <h3>
                  ProfileFunc
                  <span class="badge type-badge">type</span>
                  <a href="#ProfileFunc" class="anchor" title="Link to ProfileFunc">#</a>
               </h3>
               
               <pre><code class="language-go">type ProfileFunc func(r *http.Request) ([]ProfileRecord, error)</code></pre>
            </article>
            
            <article class="type symbol-anchor" id="ThreadState" data-name="ThreadState">
               <h3>
                  ThreadState
                  <span class="badge type-badge">type</span>
                  <a href="#ThreadState" class="anchor" title="Link to ThreadState">#</a>
               </h3>
               
               <pre><code class="language-go">type ThreadState int</code></pre>
            </article>
            
            <article class="type symbol-anchor" id="ViewType" data-name="ViewType">
               <h3>
                  ViewType
                  <span class="badge type-badge">type</span>
                  <a href="#ViewType" class="anchor" title="Link to ViewType">#</a>
               </h3>
               
               <pre><code class="language-go">type ViewType string</code></pre>
            </article>
            
         </section>
           
         <section id="structs">
            <h2>Structs</h2>
            
            <article class="struct symbol-anchor" id="ArrowEvent" data-name="ArrowEvent">
               <h3>
                  ArrowEvent
                  <span class="badge">struct</span>
                  <a href="#ArrowEvent" class="anchor" title="Link to ArrowEvent">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type ArrowEvent struct {
Name string
Start time.Duration
End time.Duration
FromResource uint64
FromStack int
ToResource uint64
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="AsyncSliceEvent" data-name="AsyncSliceEvent">
               <h3>
                  AsyncSliceEvent
                  <span class="badge">struct</span>
                  <a href="#AsyncSliceEvent" class="anchor" title="Link to AsyncSliceEvent">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type AsyncSliceEvent struct {
SliceEvent
Category string
Scope string
TaskColorIndex uint64
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="Emitter" data-name="Emitter">
               <h3>
                  Emitter
                  <span class="badge">struct</span>
                  <a href="#Emitter" class="anchor" title="Link to Emitter">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type Emitter struct {
c TraceConsumer
rangeStart time.Duration
rangeEnd time.Duration
heapStats heapStats
prevHeapStats heapStats
gstates [gStateCount]int64
prevGstates [gStateCount]int64
threadStats [threadStateCount]int64
prevThreadStats [threadStateCount]int64
gomaxprocs uint64
frameTree frameNode
frameSeq int
arrowSeq uint64
filter func(uint64) bool
resourceType string
resources map[uint64]string
focusResource uint64
tasks map[uint64]task
asyncSliceSeq uint64
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="InstantEvent" data-name="InstantEvent">
               <h3>
                  InstantEvent
                  <span class="badge">struct</span>
                  <a href="#InstantEvent" class="anchor" title="Link to InstantEvent">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type InstantEvent struct {
Ts time.Duration
Name string
Category string
Resource uint64
Stack int
Arg any
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="ProfileRecord" data-name="ProfileRecord">
               <h3>
                  ProfileRecord
                  <span class="badge">struct</span>
                  <a href="#ProfileRecord" class="anchor" title="Link to ProfileRecord">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type ProfileRecord struct {
Stack []*trace.Frame
Count uint64
Time time.Duration
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="Range" data-name="Range">
               <h3>
                  Range
                  <span class="badge">struct</span>
                  <a href="#Range" class="anchor" title="Link to Range">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type Range struct {
Name string
Start int
End int
StartTime int64
EndTime int64
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="SliceEvent" data-name="SliceEvent">
               <h3>
                  SliceEvent
                  <span class="badge">struct</span>
                  <a href="#SliceEvent" class="anchor" title="Link to SliceEvent">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type SliceEvent struct {
Name string
Ts time.Duration
Dur time.Duration
Resource uint64
Stack int
EndStack int
Arg any
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="TimeHistogram" data-name="TimeHistogram">
               <h3>
                  TimeHistogram
                  <span class="badge">struct</span>
                  <a href="#TimeHistogram" class="anchor" title="Link to TimeHistogram">#</a>
               </h3>
               
               <p>TimeHistogram is an high-dynamic-range histogram for durations.</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type TimeHistogram struct {
Count int
Buckets []int
MinBucket int
MaxBucket int
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="TraceConsumer" data-name="TraceConsumer">
               <h3>
                  TraceConsumer
                  <span class="badge">struct</span>
                  <a href="#TraceConsumer" class="anchor" title="Link to TraceConsumer">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type TraceConsumer struct {
ConsumeTimeUnit func(unit string)
ConsumeViewerEvent func(v *format.Event, required bool)
ConsumeViewerFrame func(key string, f format.Frame)
Flush func()
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="View" data-name="View">
               <h3>
                  View
                  <span class="badge">struct</span>
                  <a href="#View" class="anchor" title="Link to View">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type View struct {
Type ViewType
Ranges []Range
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="countingWriter" data-name="countingWriter">
               <h3>
                  countingWriter
                  <span class="badge">struct</span>
                  <a href="#countingWriter" class="anchor" title="Link to countingWriter">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type countingWriter struct {
size int
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="frameNode" data-name="frameNode">
               <h3>
                  frameNode
                  <span class="badge">struct</span>
                  <a href="#frameNode" class="anchor" title="Link to frameNode">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type frameNode struct {
id int
children map[uint64]frameNode
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="heapStats" data-name="heapStats">
               <h3>
                  heapStats
                  <span class="badge">struct</span>
                  <a href="#heapStats" class="anchor" title="Link to heapStats">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type heapStats struct {
heapAlloc uint64
nextGC uint64
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="linkedUtilWindow" data-name="linkedUtilWindow">
               <h3>
                  linkedUtilWindow
                  <span class="badge">struct</span>
                  <a href="#linkedUtilWindow" class="anchor" title="Link to linkedUtilWindow">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type linkedUtilWindow struct {
trace.UtilWindow
URL string
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="mmu" data-name="mmu">
               <h3>
                  mmu
                  <span class="badge">struct</span>
                  <a href="#mmu" class="anchor" title="Link to mmu">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type mmu struct {
mu sync.Mutex
cache map[trace.UtilFlags]*mmuCacheEntry
f MutatorUtilFunc
ranges []Range
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="mmuCacheEntry" data-name="mmuCacheEntry">
               <h3>
                  mmuCacheEntry
                  <span class="badge">struct</span>
                  <a href="#mmuCacheEntry" class="anchor" title="Link to mmuCacheEntry">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type mmuCacheEntry struct {
init sync.Once
util [][]trace.MutatorUtil
mmuCurve *trace.MMUCurve
err error
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="splitter" data-name="splitter">
               <h3>
                  splitter
                  <span class="badge">struct</span>
                  <a href="#splitter" class="anchor" title="Link to splitter">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type splitter struct {
Ranges []Range
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="task" data-name="task">
               <h3>
                  task
                  <span class="badge">struct</span>
                  <a href="#task" class="anchor" title="Link to task">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type task struct {
name string
sortIndex int
}</code></pre>
            </article>
            
         </section>
          
         <section id="functions">
            <h2>Functions</h2>
            
            <article class="function symbol-anchor" id="Add" data-name="Add">
               <h3>
                  Add 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Add" class="anchor" title="Link to Add">#</a>
               </h3>
               
               <p>Add adds a single sample to the histogram.</p>
               
               <pre><code class="language-go">func (h *TimeHistogram) Add(d time.Duration)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Arrow" data-name="Arrow">
               <h3>
                  Arrow 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Arrow" class="anchor" title="Link to Arrow">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) Arrow(a ArrowEvent)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="AsyncSlice" data-name="AsyncSlice">
               <h3>
                  AsyncSlice 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#AsyncSlice" class="anchor" title="Link to AsyncSlice">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) AsyncSlice(s AsyncSliceEvent)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="BucketMin" data-name="BucketMin">
               <h3>
                  BucketMin 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#BucketMin" class="anchor" title="Link to BucketMin">#</a>
               </h3>
               
               <p>BucketMin returns the minimum duration value for a provided bucket.</p>
               
               <pre><code class="language-go">func (h *TimeHistogram) BucketMin(bucket int) time.Duration</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="BuildProfile" data-name="BuildProfile">
               <h3>
                  BuildProfile 
                  <span class="badge">function</span>
                  
                  <a href="#BuildProfile" class="anchor" title="Link to BuildProfile">#</a>
               </h3>
               
               <pre><code class="language-go">func BuildProfile(prof []ProfileRecord) *profile.Profile</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Err" data-name="Err">
               <h3>
                  Err 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Err" class="anchor" title="Link to Err">#</a>
               </h3>
               
               <p>Err returns an error if the emitter is in an invalid state.</p>
               
               <pre><code class="language-go">func (e *Emitter) Err() error</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Event" data-name="Event">
               <h3>
                  Event 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Event" class="anchor" title="Link to Event">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) Event(ev *format.Event)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Flush" data-name="Flush">
               <h3>
                  Flush 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Flush" class="anchor" title="Link to Flush">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) Flush()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Focus" data-name="Focus">
               <h3>
                  Focus 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Focus" class="anchor" title="Link to Focus">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) Focus(id uint64)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Gomaxprocs" data-name="Gomaxprocs">
               <h3>
                  Gomaxprocs 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Gomaxprocs" class="anchor" title="Link to Gomaxprocs">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) Gomaxprocs(v uint64)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="GoroutineTransition" data-name="GoroutineTransition">
               <h3>
                  GoroutineTransition 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#GoroutineTransition" class="anchor" title="Link to GoroutineTransition">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) GoroutineTransition(ts time.Duration, from GState, to GState)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="HandleDetails" data-name="HandleDetails">
               <h3>
                  HandleDetails 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#HandleDetails" class="anchor" title="Link to HandleDetails">#</a>
               </h3>
               
               <p>HandleDetails serves details of an MMU graph at a particular window.</p>
               
               <pre><code class="language-go">func (m *mmu) HandleDetails(w http.ResponseWriter, r *http.Request)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="HandlePlot" data-name="HandlePlot">
               <h3>
                  HandlePlot 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#HandlePlot" class="anchor" title="Link to HandlePlot">#</a>
               </h3>
               
               <p>HandlePlot serves the JSON data for the MMU plot.</p>
               
               <pre><code class="language-go">func (m *mmu) HandlePlot(w http.ResponseWriter, r *http.Request)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="HeapAlloc" data-name="HeapAlloc">
               <h3>
                  HeapAlloc 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#HeapAlloc" class="anchor" title="Link to HeapAlloc">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) HeapAlloc(ts time.Duration, v uint64)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="HeapGoal" data-name="HeapGoal">
               <h3>
                  HeapGoal 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#HeapGoal" class="anchor" title="Link to HeapGoal">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) HeapGoal(ts time.Duration, v uint64)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="IncThreadStateCount" data-name="IncThreadStateCount">
               <h3>
                  IncThreadStateCount 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#IncThreadStateCount" class="anchor" title="Link to IncThreadStateCount">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) IncThreadStateCount(ts time.Duration, state ThreadState, delta int64)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Instant" data-name="Instant">
               <h3>
                  Instant 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Instant" class="anchor" title="Link to Instant">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) Instant(i InstantEvent)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="MMUHandlerFunc" data-name="MMUHandlerFunc">
               <h3>
                  MMUHandlerFunc 
                  <span class="badge">function</span>
                  
                  <a href="#MMUHandlerFunc" class="anchor" title="Link to MMUHandlerFunc">#</a>
               </h3>
               
               <pre><code class="language-go">func MMUHandlerFunc(ranges []Range, f MutatorUtilFunc) http.HandlerFunc</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="MainHandler" data-name="MainHandler">
               <h3>
                  MainHandler 
                  <span class="badge">function</span>
                  
                  <a href="#MainHandler" class="anchor" title="Link to MainHandler">#</a>
               </h3>
               
               <pre><code class="language-go">func MainHandler(views []View) http.Handler</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="NewEmitter" data-name="NewEmitter">
               <h3>
                  NewEmitter 
                  <span class="badge">function</span>
                  
                  <a href="#NewEmitter" class="anchor" title="Link to NewEmitter">#</a>
               </h3>
               
               <p>NewEmitter returns a new Emitter that writes to c. The rangeStart and
rangeEnd args are used for splitting large traces.</p>
               
               <pre><code class="language-go">func NewEmitter(c TraceConsumer, rangeStart time.Duration, rangeEnd time.Duration) *Emitter</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="OptionalEvent" data-name="OptionalEvent">
               <h3>
                  OptionalEvent 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#OptionalEvent" class="anchor" title="Link to OptionalEvent">#</a>
               </h3>
               
               <p>OptionalEvent emits ev if it's within the time range of the consumer, i.e.
the selected trace split range.</p>
               
               <pre><code class="language-go">func (e *Emitter) OptionalEvent(ev *format.Event)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Resource" data-name="Resource">
               <h3>
                  Resource 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Resource" class="anchor" title="Link to Resource">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) Resource(id uint64, name string)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="SVGProfileHandlerFunc" data-name="SVGProfileHandlerFunc">
               <h3>
                  SVGProfileHandlerFunc 
                  <span class="badge">function</span>
                  
                  <a href="#SVGProfileHandlerFunc" class="anchor" title="Link to SVGProfileHandlerFunc">#</a>
               </h3>
               
               <p>SVGProfileHandlerFunc serves pprof-like profile generated by prof as svg.</p>
               
               <pre><code class="language-go">func SVGProfileHandlerFunc(f ProfileFunc) http.HandlerFunc</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="SetResourceFilter" data-name="SetResourceFilter">
               <h3>
                  SetResourceFilter 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#SetResourceFilter" class="anchor" title="Link to SetResourceFilter">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) SetResourceFilter(filter func(uint64) bool)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="SetResourceType" data-name="SetResourceType">
               <h3>
                  SetResourceType 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#SetResourceType" class="anchor" title="Link to SetResourceType">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) SetResourceType(name string)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Slice" data-name="Slice">
               <h3>
                  Slice 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Slice" class="anchor" title="Link to Slice">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) Slice(s SliceEvent)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="SplittingTraceConsumer" data-name="SplittingTraceConsumer">
               <h3>
                  SplittingTraceConsumer 
                  <span class="badge">function</span>
                  
                  <a href="#SplittingTraceConsumer" class="anchor" title="Link to SplittingTraceConsumer">#</a>
               </h3>
               
               <pre><code class="language-go">func SplittingTraceConsumer(max int) (*splitter, TraceConsumer)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Stack" data-name="Stack">
               <h3>
                  Stack 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Stack" class="anchor" title="Link to Stack">#</a>
               </h3>
               
               <p>Stack emits the given frames and returns a unique id for the stack. No
pointers to the given data are being retained beyond the call to Stack.</p>
               
               <pre><code class="language-go">func (e *Emitter) Stack(stk []*trace.Frame) int</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="StaticHandler" data-name="StaticHandler">
               <h3>
                  StaticHandler 
                  <span class="badge">function</span>
                  
                  <a href="#StaticHandler" class="anchor" title="Link to StaticHandler">#</a>
               </h3>
               
               <pre><code class="language-go">func StaticHandler() http.Handler</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Task" data-name="Task">
               <h3>
                  Task 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Task" class="anchor" title="Link to Task">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) Task(id uint64, name string, sortIndex int)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="TaskArrow" data-name="TaskArrow">
               <h3>
                  TaskArrow 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#TaskArrow" class="anchor" title="Link to TaskArrow">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) TaskArrow(a ArrowEvent)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="TaskSlice" data-name="TaskSlice">
               <h3>
                  TaskSlice 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#TaskSlice" class="anchor" title="Link to TaskSlice">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) TaskSlice(s SliceEvent)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="ToHTML" data-name="ToHTML">
               <h3>
                  ToHTML 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#ToHTML" class="anchor" title="Link to ToHTML">#</a>
               </h3>
               
               <p>ToHTML renders the histogram as HTML.</p>
               
               <pre><code class="language-go">func (h *TimeHistogram) ToHTML(urlmaker func(min time.Duration, max time.Duration) string) template.HTML</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="TraceHandler" data-name="TraceHandler">
               <h3>
                  TraceHandler 
                  <span class="badge">function</span>
                  
                  <a href="#TraceHandler" class="anchor" title="Link to TraceHandler">#</a>
               </h3>
               
               <pre><code class="language-go">func TraceHandler() http.Handler</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="URL" data-name="URL">
               <h3>
                  URL 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#URL" class="anchor" title="Link to URL">#</a>
               </h3>
               
               <pre><code class="language-go">func (v View) URL(rangeIdx int) string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="URL" data-name="URL">
               <h3>
                  URL 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#URL" class="anchor" title="Link to URL">#</a>
               </h3>
               
               <pre><code class="language-go">func (r Range) URL(viewType ViewType) string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="ViewerDataTraceConsumer" data-name="ViewerDataTraceConsumer">
               <h3>
                  ViewerDataTraceConsumer 
                  <span class="badge">function</span>
                  
                  <a href="#ViewerDataTraceConsumer" class="anchor" title="Link to ViewerDataTraceConsumer">#</a>
               </h3>
               
               <p>ViewerDataTraceConsumer returns a TraceConsumer that writes to w. The
startIdx and endIdx are used for splitting large traces. They refer to
indexes in the traceEvents output array, not the events in the trace input.</p>
               
               <pre><code class="language-go">func ViewerDataTraceConsumer(w io.Writer, startIdx int64, endIdx int64) TraceConsumer</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="WalkStackFrames" data-name="WalkStackFrames">
               <h3>
                  WalkStackFrames 
                  <span class="badge">function</span>
                  
                  <a href="#WalkStackFrames" class="anchor" title="Link to WalkStackFrames">#</a>
               </h3>
               
               <p>WalkStackFrames calls fn for id and all of its parent frames from allFrames.</p>
               
               <pre><code class="language-go">func WalkStackFrames(allFrames map[string]format.Frame, id int, fn func(id int))</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Write" data-name="Write">
               <h3>
                  Write 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Write" class="anchor" title="Link to Write">#</a>
               </h3>
               
               <pre><code class="language-go">func (cw *countingWriter) Write(data []byte) (int, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="arrow" data-name="arrow">
               <h3>
                  arrow 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#arrow" class="anchor" title="Link to arrow">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) arrow(a ArrowEvent, sectionID uint64)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="buildBranch" data-name="buildBranch">
               <h3>
                  buildBranch 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#buildBranch" class="anchor" title="Link to buildBranch">#</a>
               </h3>
               
               <p>buildBranch builds one branch in the prefix tree rooted at ctx.frameTree.</p>
               
               <pre><code class="language-go">func (e *Emitter) buildBranch(parent frameNode, stk []*trace.Frame) int</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="emitHeapCounters" data-name="emitHeapCounters">
               <h3>
                  emitHeapCounters 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#emitHeapCounters" class="anchor" title="Link to emitHeapCounters">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) emitHeapCounters(ts time.Duration)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="get" data-name="get">
               <h3>
                  get 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#get" class="anchor" title="Link to get">#</a>
               </h3>
               
               <pre><code class="language-go">func (m *mmu) get(flags trace.UtilFlags) ([][]trace.MutatorUtil, *trace.MMUCurve, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="goCmd" data-name="goCmd">
               <h3>
                  goCmd 
                  <span class="badge">function</span>
                  
                  <a href="#goCmd" class="anchor" title="Link to goCmd">#</a>
               </h3>
               
               <pre><code class="language-go">func goCmd() string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="newLinkedUtilWindow" data-name="newLinkedUtilWindow">
               <h3>
                  newLinkedUtilWindow 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#newLinkedUtilWindow" class="anchor" title="Link to newLinkedUtilWindow">#</a>
               </h3>
               
               <pre><code class="language-go">func (m *mmu) newLinkedUtilWindow(ui trace.UtilWindow, window time.Duration) linkedUtilWindow</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="pickTaskColor" data-name="pickTaskColor">
               <h3>
                  pickTaskColor 
                  <span class="badge">function</span>
                  
                  <a href="#pickTaskColor" class="anchor" title="Link to pickTaskColor">#</a>
               </h3>
               
               <pre><code class="language-go">func pickTaskColor(id uint64) string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="processMeta" data-name="processMeta">
               <h3>
                  processMeta 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#processMeta" class="anchor" title="Link to processMeta">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) processMeta(sectionID uint64, name string, priority int)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="requestUtilFlags" data-name="requestUtilFlags">
               <h3>
                  requestUtilFlags 
                  <span class="badge">function</span>
                  
                  <a href="#requestUtilFlags" class="anchor" title="Link to requestUtilFlags">#</a>
               </h3>
               
               <pre><code class="language-go">func requestUtilFlags(r *http.Request) trace.UtilFlags</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="slice" data-name="slice">
               <h3>
                  slice 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#slice" class="anchor" title="Link to slice">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) slice(s SliceEvent, sectionID uint64, cname string)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="stackFrameEncodedSize" data-name="stackFrameEncodedSize">
               <h3>
                  stackFrameEncodedSize 
                  <span class="badge">function</span>
                  
                  <a href="#stackFrameEncodedSize" class="anchor" title="Link to stackFrameEncodedSize">#</a>
               </h3>
               
               <pre><code class="language-go">func stackFrameEncodedSize(id uint, f format.Frame) int</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="threadMeta" data-name="threadMeta">
               <h3>
                  threadMeta 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#threadMeta" class="anchor" title="Link to threadMeta">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) threadMeta(sectionID uint64, tid uint64, name string, priority int)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="tsWithinRange" data-name="tsWithinRange">
               <h3>
                  tsWithinRange 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#tsWithinRange" class="anchor" title="Link to tsWithinRange">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *Emitter) tsWithinRange(ts time.Duration) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="viewerTime" data-name="viewerTime">
               <h3>
                  viewerTime 
                  <span class="badge">function</span>
                  
                  <a href="#viewerTime" class="anchor" title="Link to viewerTime">#</a>
               </h3>
               
               <pre><code class="language-go">func viewerTime(t time.Duration) float64</code></pre>
            </article>
            
         </section>
         
      </main>

      <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

      <script>
         function updateSectionVisibility() {
            document.querySelectorAll("section").forEach(section => {
               const visibleArticles = section.querySelectorAll("article:not(.hidden)");
               const header = section.querySelector("h2");
               if (header) {
                  if (visibleArticles.length === 0) {
                     section.classList.add("hidden");
                  } else {
                     section.classList.remove("hidden");
                  }
               }
            });
         }

         document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('p').forEach(el => {
               const raw = el.textContent;
               const parts = raw.split(/(?<=\w)(?<!(?:\.\w))\.(?=\s|$)/);
               const sentences = parts.map((frag, i) => {
               return (i < parts.length - 1 ? frag + '.' : frag).trim();
               }).filter(s => s.length > 0);
               let html = '';
               sentences.forEach((sent, idx) => {
                  html += sent;
                  html += ((idx + 1) % 2 === 0) ? '<br/>' : ' ';
               });
               if (sentences.length > 1) {
                  el.innerHTML = html.trim();
               }
            });
         });

         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }

         function buildSymbolIndex() {
            const symbolIndex = document.getElementById('symbolIndex');
            if (!symbolIndex) return;

            const symbols = [];
            
            document.querySelectorAll('article[data-name]').forEach(article => {
               const name = article.dataset.name;
               const type = article.className.split(' ')[0]; 
               const isPrivateSymbol = isPrivate(name);
               
               if (name && name !== 'imports') {
                  symbols.push({
                     name,
                     type,
                     element: article,
                     isPrivate: isPrivateSymbol
                  });
               }
            });

            symbols.sort((a, b) => a.name.localeCompare(b.name));
            symbolIndex.innerHTML = '';
            symbols.forEach(symbol => {
               const li = document.createElement('li');
               const a = document.createElement('a');
               a.href = `#${symbol.name}`;
               a.textContent = symbol.name;
               a.title = `${symbol.type}: ${symbol.name}`;
               
               if (symbol.isPrivate) {
                  li.classList.add('private', 'hidden');
               }
               
               li.appendChild(a);
               symbolIndex.appendChild(li);
            });
         }

         document.addEventListener("DOMContentLoaded", () => {
            if (window.Prism) {
               Prism.highlightAll();
            }

            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               imports: document.getElementById("showImports"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
               types: document.getElementById("showPrivateTypes"),
               interfaces: document.getElementById(
                  "showPrivateInterfaces"
               ),
            };

            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });

               if (toggle) {
                  toggle.addEventListener("change", () => {
                     const show = toggle.checked;
                     document
                        .querySelectorAll(`${selector}.private`)
                        .forEach((el) => {
                           el.classList.toggle("hidden", !show);
                        });
                     
                     const symbolIndexItems = document.querySelectorAll('#symbolIndex li.private');
                     symbolIndexItems.forEach(li => {
                        const link = li.querySelector('a');
                        if (link) {
                           const targetId = link.getAttribute('href').substring(1);
                           const targetEl = document.getElementById(targetId);
                           if (targetEl && targetEl.matches(selector)) {
                              li.classList.toggle("hidden", !show);
                           }
                        }
                     });
                     updateSectionVisibility();
                  });
               }
            };

            hideInitial("article.imports", toggles.imports); updateSectionVisibility();
            hideInitial("article.function", toggles.functions); updateSectionVisibility();
            hideInitial("article.struct", toggles.structs); updateSectionVisibility();
            hideInitial("article.global", toggles.globals); updateSectionVisibility();
            hideInitial("article.type", toggles.types); updateSectionVisibility();
            hideInitial("article.interface", toggles.interfaces); updateSectionVisibility();

            document.querySelectorAll("article.struct").forEach((article) => {
               const codeBlock = article.querySelector("code.fields-code");
               if (!codeBlock) return;

               const raw = codeBlock.textContent.trim();
               const match = raw.match(/^type\s+\w+\s+struct\s*{(.*)}$/s);
               if (!match) return;

               const fieldsRaw = match[1].trim();
               const fields = fieldsRaw.split("\n").map(line => line.trim()).filter(Boolean);
               const formatted = fields.map(line => `\t${line}`).join("\n");
               const structName = article.dataset.name;
               const finalCode = `type ${structName} struct {\n${formatted}\n}`;

               codeBlock.textContent = finalCode;

               if (window.Prism) Prism.highlightElement(codeBlock);

   
               if (toggles.fields) {
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               }
            });

            document
               .querySelectorAll("article.interface")
               .forEach((article) => {
                  const codeBlock = article.querySelector(
                     "code.methods-code"
                  );
                  if (!codeBlock) return;

                  const lines = codeBlock.innerHTML.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch && !trimmed.endsWith("{") && trimmed != "}") {
                           return `<span class="method-line">${line}</span>`;
                        } else {
                           return ``;
                        }

                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class="method-line${
                           isPriv ? " hidden private" : ""
                        }" data-name="${name}">${line}</span><br />`;
                     })
                     .join("");

                  codeBlock.innerHTML = newContent;

                  if (window.Prism) {
                     Prism.highlightElement(codeBlock);
                  }

                  if (toggles.fields) {
                     toggles.fields.addEventListener("change", () => {
                        const show = toggles.fields.checked;
                        article
                           .querySelectorAll(".method-line.private")
                           .forEach((el) =>
                              el.classList.toggle("hidden", !show)
                           );
                     });
                  }
               });

            const searchInput = document.getElementById("searchInput");
            if (searchInput) {
               searchInput.addEventListener("input", () => {
                  const query = searchInput.value.trim().toLowerCase();

                  document.querySelectorAll("article").forEach((el) => {
                     const name = el.dataset.name;
                     if (!name) return;

                     const matches =
                        query === "" ||
                        name.toLowerCase().includes(query) ||
                        (el.textContent &&
                           el.textContent.toLowerCase().includes(query));

                     if (matches) {
                        const isPrivateEl =
                           el.classList.contains("private");
                        const shouldShowPrivate =
                           getPrivateToggleState(el);

                        if (!isPrivateEl || shouldShowPrivate) {
                           el.classList.remove("hidden");
                        }
                     } else {
                        el.classList.add("hidden");
                     }
                     updateSectionVisibility();
                  });

                  document.querySelectorAll('#symbolIndex li').forEach(li => {
                     const link = li.querySelector('a');
                     if (link) {
                        const symbolName = link.textContent.toLowerCase();
                        const matches = query === "" || symbolName.includes(query);
                        
                        if (matches) {
                           const isPrivateSymbol = li.classList.contains('private');
                           const targetId = link.getAttribute('href').substring(1);
                           const targetEl = document.getElementById(targetId);
                           const shouldShowPrivate = targetEl ? getPrivateToggleState(targetEl) : false;
                           
                           if (!isPrivateSymbol || shouldShowPrivate) {
                              li.style.display = '';
                           }
                        } else {
                           li.style.display = 'none';
                        }
                     }
                  });
               });
            }

            function getPrivateToggleState(element) {
               if (element.classList.contains("function")) {
                  return toggles.functions?.checked || false;
               } else if (element.classList.contains("struct")) {
                  return toggles.structs?.checked || false;
               } else if (element.classList.contains("global")) {
                  return toggles.globals?.checked || false;
               } else if (element.classList.contains("type")) {
                  return toggles.types?.checked || false;
               } else if (element.classList.contains("interface")) {
                  return toggles.interfaces?.checked || false;
               } else if (element.classList.contains("imports")) {
                  return toggles.imports?.checked || false;
               }
               return false;
            }

            buildSymbolIndex();

            document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
               anchor.addEventListener("click", function (e) {
                  const target = document.querySelector(
                     this.getAttribute("href")
                  );
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               });
            });

            window.addEventListener('hashchange', () => {
               const hash = window.location.hash;
               if (hash) {
                  const target = document.querySelector(hash);
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               }
            });

            if (window.location.hash) {
               setTimeout(() => {
                  const target = document.querySelector(window.location.hash);
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               }, 100);
            }
         });
      </script>
   </body>
</html>