<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - vcs</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
         
         <span style="color: rgba(177, 175, 175, 0.5)">
            No subpackages
         </span>
         
      </aside>
      <main>
         <h1>
            Package
            <code>vcs</code>
         </h1>
         <hr />
         
         <article class="global" data-name="parseMetaGoImportsTests">
            <h2>parseMetaGoImportsTests</h2>
            <hr />
            
            <pre><code>parseMetaGoImportsTests</code></pre>
         </article>
         
         <article class="global" data-name="VCSTestRepoURL">
            <h2>VCSTestRepoURL</h2>
            <hr />
            
            <p>VCSTestRepoURL is the URL of the HTTP server that serves the repos for
vcs-test.golang.org.

In tests, this is set to the URL of an httptest.Server hosting a
cmd/go/internal/vcweb.Server.</p>
            
            <pre><code>VCSTestRepoURL string</code></pre>
         </article>
         
         <article class="global" data-name="VCSTestHosts">
            <h2>VCSTestHosts</h2>
            <hr />
            
            <p>VCSTestHosts is the set of hosts supported by the vcs-test server.</p>
            
            <pre><code>VCSTestHosts []string</code></pre>
         </article>
         
         <article class="global" data-name="VCSTestIsLocalHost">
            <h2>VCSTestIsLocalHost</h2>
            <hr />
            
            <p>VCSTestIsLocalHost reports whether the given URL refers to a local
(loopback) host, such as "localhost" or "127.0.0.1:8080".</p>
            
            <pre><code>VCSTestIsLocalHost func</code></pre>
         </article>
         
         <article class="global" data-name="defaultSecureScheme">
            <h2>defaultSecureScheme</h2>
            <hr />
            
            <pre><code>defaultSecureScheme</code></pre>
         </article>
         
         <article class="global" data-name="vcsList">
            <h2>vcsList</h2>
            <hr />
            
            <p>vcsList lists the known version control systems</p>
            
            <pre><code>vcsList</code></pre>
         </article>
         
         <article class="global" data-name="vcsMod">
            <h2>vcsMod</h2>
            <hr />
            
            <p>vcsMod is a stub for the "mod" scheme. It's returned by
repoRootForImportPathDynamic, but is otherwise not treated as a VCS command.</p>
            
            <pre><code>vcsMod</code></pre>
         </article>
         
         <article class="global" data-name="vcsHg">
            <h2>vcsHg</h2>
            <hr />
            
            <p>vcsHg describes how to use Mercurial.</p>
            
            <pre><code>vcsHg</code></pre>
         </article>
         
         <article class="global" data-name="vcsGit">
            <h2>vcsGit</h2>
            <hr />
            
            <p>vcsGit describes how to use Git.</p>
            
            <pre><code>vcsGit</code></pre>
         </article>
         
         <article class="global" data-name="scpSyntaxRe">
            <h2>scpSyntaxRe</h2>
            <hr />
            
            <p>scpSyntaxRe matches the SCP-like addresses used by Git to access
repositories by SSH.</p>
            
            <pre><code>scpSyntaxRe</code></pre>
         </article>
         
         <article class="global" data-name="vcsBzr">
            <h2>vcsBzr</h2>
            <hr />
            
            <p>vcsBzr describes how to use Bazaar.</p>
            
            <pre><code>vcsBzr</code></pre>
         </article>
         
         <article class="global" data-name="vcsSvn">
            <h2>vcsSvn</h2>
            <hr />
            
            <p>vcsSvn describes how to use Subversion.</p>
            
            <pre><code>vcsSvn</code></pre>
         </article>
         
         <article class="global" data-name="fossilRepoName">
            <h2>fossilRepoName</h2>
            <hr />
            
            <p>fossilRepoName is the name go get associates with a fossil repository. In the
real world the file can be named anything.</p>
            
            <pre><code>fossilRepoName</code></pre>
         </article>
         
         <article class="global" data-name="vcsFossil">
            <h2>vcsFossil</h2>
            <hr />
            
            <p>vcsFossil describes how to use Fossil (fossil-scm.org)</p>
            
            <pre><code>vcsFossil</code></pre>
         </article>
         
         <article class="global" data-name="errFossilInfo">
            <h2>errFossilInfo</h2>
            <hr />
            
            <pre><code>errFossilInfo</code></pre>
         </article>
         
         <article class="global" data-name="allowmultiplevcs">
            <h2>allowmultiplevcs</h2>
            <hr />
            
            <pre><code>allowmultiplevcs</code></pre>
         </article>
         
         <article class="global" data-name="govcs">
            <h2>govcs</h2>
            <hr />
            
            <pre><code>govcs govcsConfig</code></pre>
         </article>
         
         <article class="global" data-name="govcsErr">
            <h2>govcsErr</h2>
            <hr />
            
            <pre><code>govcsErr error</code></pre>
         </article>
         
         <article class="global" data-name="govcsOnce">
            <h2>govcsOnce</h2>
            <hr />
            
            <pre><code>govcsOnce sync.Once</code></pre>
         </article>
         
         <article class="global" data-name="defaultGOVCS">
            <h2>defaultGOVCS</h2>
            <hr />
            
            <p>defaultGOVCS is the default setting for GOVCS.
Setting GOVCS adds entries ahead of these but does not remove them.
(They are appended to the parsed GOVCS setting.)

The rationale behind allowing only Git and Mercurial is that
these two systems have had the most attention to issues
of being run as clients of untrusted servers. In contrast,
Bazaar, Fossil, and Subversion have primarily been used
in trusted, authenticated environments and are not as well
scrutinized as attack surfaces.

See golang.org/issue/41730 for details.</p>
            
            <pre><code>defaultGOVCS</code></pre>
         </article>
         
         <article class="global" data-name="IgnoreMod">
            <h2>IgnoreMod</h2>
            <hr />
            
            <pre><code>IgnoreMod ModuleMode</code></pre>
         </article>
         
         <article class="global" data-name="PreferMod">
            <h2>PreferMod</h2>
            <hr />
            
            <pre><code>PreferMod</code></pre>
         </article>
         
         <article class="global" data-name="errUnknownSite">
            <h2>errUnknownSite</h2>
            <hr />
            
            <pre><code>errUnknownSite</code></pre>
         </article>
         
         <article class="global" data-name="fetchGroup">
            <h2>fetchGroup</h2>
            <hr />
            
            <pre><code>fetchGroup singleflight.Group</code></pre>
         </article>
         
         <article class="global" data-name="fetchCacheMu">
            <h2>fetchCacheMu</h2>
            <hr />
            
            <pre><code>fetchCacheMu sync.Mutex</code></pre>
         </article>
         
         <article class="global" data-name="fetchCache">
            <h2>fetchCache</h2>
            <hr />
            
            <pre><code>fetchCache</code></pre>
         </article>
         
         <article class="global" data-name="vcsPaths">
            <h2>vcsPaths</h2>
            <hr />
            
            <p>vcsPaths defines the meaning of import paths referring to
commonly-used VCS hosting sites (github.com/user/dir)
and import paths referring to a fully-qualified importPath
containing a VCS type (foo.com/repo.git/dir)</p>
            
            <pre><code>vcsPaths</code></pre>
         </article>
         
         <article class="global" data-name="vcsPathsAfterDynamic">
            <h2>vcsPathsAfterDynamic</h2>
            <hr />
            
            <p>vcsPathsAfterDynamic gives additional vcsPaths entries
to try after the dynamic HTML check.
This gives those sites a chance to introduce <meta> tags
as part of a graceful transition away from the hard-coded logic.</p>
            
            <pre><code>vcsPathsAfterDynamic</code></pre>
         </article>
         
         <article class="global" data-name="govcsTests">
            <h2>govcsTests</h2>
            <hr />
            
            <pre><code>govcsTests</code></pre>
         </article>
         
         <article class="global" data-name="govcsErrors">
            <h2>govcsErrors</h2>
            <hr />
            
            <pre><code>govcsErrors</code></pre>
         </article>
          
         <article class="struct" data-name="Cmd">
            <h2>type Cmd struct</h2>
            <hr />
            
            <p>A Cmd describes how to use a version control system
like Mercurial, Git, or Subversion.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">Name string
Cmd string
Env []string
RootNames []rootName
CreateCmd []string
DownloadCmd []string
TagCmd []tagCmd
TagLookupCmd []tagCmd
TagSyncCmd []string
TagSyncDefault []string
Scheme []string
PingCmd string
RemoteRepo func
ResolveRepo func
Status func</code></pre>
         </article>
         
         <article class="struct" data-name="Status">
            <h2>type Status struct</h2>
            <hr />
            
            <p>Status is the current state of a local repository.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">Revision string
CommitTime time.Time
Uncommitted bool</code></pre>
         </article>
         
         <article class="struct" data-name="tagCmd">
            <h2>type tagCmd struct</h2>
            <hr />
            
            <p>A tagCmd describes a command to list available tags
that can be passed to tagSyncCmd.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">cmd string
pattern string</code></pre>
         </article>
         
         <article class="struct" data-name="vcsPath">
            <h2>type vcsPath struct</h2>
            <hr />
            
            <p>A vcsPath describes how to convert an import path into a
version control system and repository name.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">pathPrefix string
regexp *lazyregexp.Regexp
repo string
vcs string
check func
schemelessRepo bool</code></pre>
         </article>
         
         <article class="struct" data-name="rootName">
            <h2>type rootName struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">filename string
isDir bool</code></pre>
         </article>
         
         <article class="struct" data-name="vcsNotFoundError">
            <h2>type vcsNotFoundError struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">dir string</code></pre>
         </article>
         
         <article class="struct" data-name="govcsRule">
            <h2>type govcsRule struct</h2>
            <hr />
            
            <p>A govcsRule is a single GOVCS rule like private:hg|svn.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">pattern string
allowed []string</code></pre>
         </article>
         
         <article class="struct" data-name="RepoRoot">
            <h2>type RepoRoot struct</h2>
            <hr />
            
            <p>RepoRoot describes the repository root for a tree of source code.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">Repo string
Root string
IsCustom bool
VCS *Cmd</code></pre>
         </article>
         
         <article class="struct" data-name="fetchResult">
            <h2>type fetchResult struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">url *urlpkg.URL
imports []metaImport
err error</code></pre>
         </article>
         
         <article class="struct" data-name="metaImport">
            <h2>type metaImport struct</h2>
            <hr />
            
            <p>metaImport represents the parsed <meta name="go-import"
content="prefix vcs reporoot" /> tags from HTML files.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">Prefix string
VCS string
RepoRoot string</code></pre>
         </article>
         
         <article class="struct" data-name="ImportMismatchError">
            <h2>type ImportMismatchError struct</h2>
            <hr />
            
            <p>An ImportMismatchError is returned where metaImport/s are present
but none match our import path.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">importPath string
mismatches []string</code></pre>
         </article>
         
         <article class="struct" data-name="importError">
            <h2>type importError struct</h2>
            <hr />
            
            <p>importError is a copy of load.importError, made to avoid a dependency cycle
on cmd/go/internal/load. It just needs to satisfy load.ImportPathError.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">importPath string
err error</code></pre>
         </article>
          
         <article class="function" data-name="charsetReader">
            <h2>charsetReader</h2>
            <hr />
            
            <p>charsetReader returns a reader that converts from the given charset to UTF-8.
Currently it only supports UTF-8 and ASCII. Otherwise, it returns a meaningful
error which is printed by go get, so the user can find why the package
wasn't downloaded if the encoding is not supported. Note that, in
order to reduce potential errors, ASCII is treated as UTF-8 (i.e. characters
greater than 0x7f are not rejected).</p>
            
            <pre><code>func charsetReader(charset string, input io.Reader) (io.Reader, error)</code></pre>
         </article>
         
         <article class="function" data-name="parseMetaGoImports">
            <h2>parseMetaGoImports</h2>
            <hr />
            
            <p>parseMetaGoImports returns meta imports from the HTML in r.
Parsing ends at the end of the <head> section or the beginning of the <body>.</p>
            
            <pre><code>func parseMetaGoImports(r io.Reader, mod ModuleMode) ([]metaImport, error)</code></pre>
         </article>
         
         <article class="function" data-name="attrValue">
            <h2>attrValue</h2>
            <hr />
            
            <p>attrValue returns the attribute value for the case-insensitive key
`name`, or the empty string if nothing is found.</p>
            
            <pre><code>func attrValue(attrs []xml.Attr, name string) string</code></pre>
         </article>
         
         <article class="function" data-name="TestParseMetaGoImports">
            <h2>TestParseMetaGoImports</h2>
            <hr />
            
            <pre><code>func TestParseMetaGoImports(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="IsSecure">
            <h2>IsSecure</h2>
            <hr />
            
            <pre><code>func IsSecure(repo string) bool</code></pre>
         </article>
         
         <article class="function" data-name="isSecureScheme">
            <h2>isSecureScheme</h2>
            <hr />
            
            <pre><code>func isSecureScheme(scheme string) bool</code></pre>
         </article>
         
         <article class="function" data-name="vcsByCmd">
            <h2>vcsByCmd</h2>
            <hr />
            
            <p>vcsByCmd returns the version control system for the given
command name (hg, git, svn, bzr).</p>
            
            <pre><code>func vcsByCmd(cmd string) *Cmd</code></pre>
         </article>
         
         <article class="function" data-name="hgRemoteRepo">
            <h2>hgRemoteRepo</h2>
            <hr />
            
            <pre><code>func hgRemoteRepo(vcsHg *Cmd, rootDir string) (remoteRepo string, err error)</code></pre>
         </article>
         
         <article class="function" data-name="hgStatus">
            <h2>hgStatus</h2>
            <hr />
            
            <pre><code>func hgStatus(vcsHg *Cmd, rootDir string) (Status, error)</code></pre>
         </article>
         
         <article class="function" data-name="parseRevTime">
            <h2>parseRevTime</h2>
            <hr />
            
            <p>parseRevTime parses commit details in "revision:seconds" format.</p>
            
            <pre><code>func parseRevTime(out []byte) (string, time.Time, error)</code></pre>
         </article>
         
         <article class="function" data-name="gitRemoteRepo">
            <h2>gitRemoteRepo</h2>
            <hr />
            
            <pre><code>func gitRemoteRepo(vcsGit *Cmd, rootDir string) (remoteRepo string, err error)</code></pre>
         </article>
         
         <article class="function" data-name="gitStatus">
            <h2>gitStatus</h2>
            <hr />
            
            <pre><code>func gitStatus(vcsGit *Cmd, rootDir string) (Status, error)</code></pre>
         </article>
         
         <article class="function" data-name="bzrRemoteRepo">
            <h2>bzrRemoteRepo</h2>
            <hr />
            
            <pre><code>func bzrRemoteRepo(vcsBzr *Cmd, rootDir string) (remoteRepo string, err error)</code></pre>
         </article>
         
         <article class="function" data-name="bzrResolveRepo">
            <h2>bzrResolveRepo</h2>
            <hr />
            
            <pre><code>func bzrResolveRepo(vcsBzr *Cmd, rootDir string, remoteRepo string) (realRepo string, err error)</code></pre>
         </article>
         
         <article class="function" data-name="bzrStatus">
            <h2>bzrStatus</h2>
            <hr />
            
            <pre><code>func bzrStatus(vcsBzr *Cmd, rootDir string) (Status, error)</code></pre>
         </article>
         
         <article class="function" data-name="svnRemoteRepo">
            <h2>svnRemoteRepo</h2>
            <hr />
            
            <pre><code>func svnRemoteRepo(vcsSvn *Cmd, rootDir string) (remoteRepo string, err error)</code></pre>
         </article>
         
         <article class="function" data-name="fossilRemoteRepo">
            <h2>fossilRemoteRepo</h2>
            <hr />
            
            <pre><code>func fossilRemoteRepo(vcsFossil *Cmd, rootDir string) (remoteRepo string, err error)</code></pre>
         </article>
         
         <article class="function" data-name="fossilStatus">
            <h2>fossilStatus</h2>
            <hr />
            
            <pre><code>func fossilStatus(vcsFossil *Cmd, rootDir string) (Status, error)</code></pre>
         </article>
         
         <article class="function" data-name="String">
            <h2>String</h2>
            <hr />
            
            <pre><code>func String() string</code></pre>
         </article>
         
         <article class="function" data-name="run">
            <h2>run</h2>
            <hr />
            
            <p>run runs the command line cmd in the given directory.
keyval is a list of key, value pairs. run expands
instances of {key} in cmd into value, but only after
splitting cmd into individual arguments.
If an error occurs, run prints the command line and the
command's combined stdout+stderr to standard error.
Otherwise run discards the command's output.</p>
            
            <pre><code>func run(dir string, cmd string, keyval ...string) error</code></pre>
         </article>
         
         <article class="function" data-name="runVerboseOnly">
            <h2>runVerboseOnly</h2>
            <hr />
            
            <p>runVerboseOnly is like run but only generates error output to standard error in verbose mode.</p>
            
            <pre><code>func runVerboseOnly(dir string, cmd string, keyval ...string) error</code></pre>
         </article>
         
         <article class="function" data-name="runOutput">
            <h2>runOutput</h2>
            <hr />
            
            <p>runOutput is like run but returns the output of the command.</p>
            
            <pre><code>func runOutput(dir string, cmd string, keyval ...string) ([]byte, error)</code></pre>
         </article>
         
         <article class="function" data-name="runOutputVerboseOnly">
            <h2>runOutputVerboseOnly</h2>
            <hr />
            
            <p>runOutputVerboseOnly is like runOutput but only generates error output to
standard error in verbose mode.</p>
            
            <pre><code>func runOutputVerboseOnly(dir string, cmd string, keyval ...string) ([]byte, error)</code></pre>
         </article>
         
         <article class="function" data-name="run1">
            <h2>run1</h2>
            <hr />
            
            <p>run1 is the generalized implementation of run and runOutput.</p>
            
            <pre><code>func run1(dir string, cmdline string, keyval []string, verbose bool) ([]byte, error)</code></pre>
         </article>
         
         <article class="function" data-name="Ping">
            <h2>Ping</h2>
            <hr />
            
            <p>Ping pings to determine scheme to use.</p>
            
            <pre><code>func Ping(scheme string, repo string) error</code></pre>
         </article>
         
         <article class="function" data-name="Create">
            <h2>Create</h2>
            <hr />
            
            <p>Create creates a new copy of repo in dir.
The parent of dir must exist; dir must not.</p>
            
            <pre><code>func Create(dir string, repo string) error</code></pre>
         </article>
         
         <article class="function" data-name="Download">
            <h2>Download</h2>
            <hr />
            
            <p>Download downloads any new changes for the repo in dir.</p>
            
            <pre><code>func Download(dir string) error</code></pre>
         </article>
         
         <article class="function" data-name="Tags">
            <h2>Tags</h2>
            <hr />
            
            <p>Tags returns the list of available tags for the repo in dir.</p>
            
            <pre><code>func Tags(dir string) ([]string, error)</code></pre>
         </article>
         
         <article class="function" data-name="TagSync">
            <h2>TagSync</h2>
            <hr />
            
            <p>TagSync syncs the repo in dir to the named tag,
which either is a tag returned by tags or is v.tagDefault.</p>
            
            <pre><code>func TagSync(dir string, tag string) error</code></pre>
         </article>
         
         <article class="function" data-name="FromDir">
            <h2>FromDir</h2>
            <hr />
            
            <p>FromDir inspects dir and its parents to determine the
version control system and code repository to use.
If no repository is found, FromDir returns an error
equivalent to os.ErrNotExist.</p>
            
            <pre><code>func FromDir(dir string, srcRoot string) (repoDir string, vcsCmd *Cmd, err error)</code></pre>
         </article>
         
         <article class="function" data-name="isVCSRoot">
            <h2>isVCSRoot</h2>
            <hr />
            
            <p>isVCSRoot identifies a VCS root by checking whether the directory contains
any of the listed root names.</p>
            
            <pre><code>func isVCSRoot(dir string, rootNames []rootName) bool</code></pre>
         </article>
         
         <article class="function" data-name="Error">
            <h2>Error</h2>
            <hr />
            
            <pre><code>func Error() string</code></pre>
         </article>
         
         <article class="function" data-name="Is">
            <h2>Is</h2>
            <hr />
            
            <pre><code>func Is(err error) bool</code></pre>
         </article>
         
         <article class="function" data-name="parseGOVCS">
            <h2>parseGOVCS</h2>
            <hr />
            
            <pre><code>func parseGOVCS(s string) (govcsConfig, error)</code></pre>
         </article>
         
         <article class="function" data-name="allow">
            <h2>allow</h2>
            <hr />
            
            <pre><code>func allow(path string, private bool, vcs string) bool</code></pre>
         </article>
         
         <article class="function" data-name="checkGOVCS">
            <h2>checkGOVCS</h2>
            <hr />
            
            <p>checkGOVCS checks whether the policy defined by the environment variable
GOVCS allows the given vcs command to be used with the given repository
root path. Note that root may not be a real package or module path; it's
the same as the root path in the go-import meta tag.</p>
            
            <pre><code>func checkGOVCS(vcs *Cmd, root string) error</code></pre>
         </article>
         
         <article class="function" data-name="httpPrefix">
            <h2>httpPrefix</h2>
            <hr />
            
            <pre><code>func httpPrefix(s string) string</code></pre>
         </article>
         
         <article class="function" data-name="RepoRootForImportPath">
            <h2>RepoRootForImportPath</h2>
            <hr />
            
            <p>RepoRootForImportPath analyzes importPath to determine the
version control system, and code repository to use.</p>
            
            <pre><code>func RepoRootForImportPath(importPath string, mod ModuleMode, security web.SecurityMode) (*RepoRoot, error)</code></pre>
         </article>
         
         <article class="function" data-name="repoRootFromVCSPaths">
            <h2>repoRootFromVCSPaths</h2>
            <hr />
            
            <p>repoRootFromVCSPaths attempts to map importPath to a repoRoot
using the mappings defined in vcsPaths.</p>
            
            <pre><code>func repoRootFromVCSPaths(importPath string, security web.SecurityMode, vcsPaths []*vcsPath) (*RepoRoot, error)</code></pre>
         </article>
         
         <article class="function" data-name="interceptVCSTest">
            <h2>interceptVCSTest</h2>
            <hr />
            
            <pre><code>func interceptVCSTest(repo string, vcs *Cmd, security web.SecurityMode) (repoURL string, ok bool)</code></pre>
         </article>
         
         <article class="function" data-name="urlForImportPath">
            <h2>urlForImportPath</h2>
            <hr />
            
            <p>urlForImportPath returns a partially-populated URL for the given Go import path.

The URL leaves the Scheme field blank so that web.Get will try any scheme
allowed by the selected security mode.</p>
            
            <pre><code>func urlForImportPath(importPath string) (*urlpkg.URL, error)</code></pre>
         </article>
         
         <article class="function" data-name="repoRootForImportDynamic">
            <h2>repoRootForImportDynamic</h2>
            <hr />
            
            <p>repoRootForImportDynamic finds a *RepoRoot for a custom domain that's not
statically known by repoRootFromVCSPaths.

This handles custom import paths like "name.tld/pkg/foo" or just "name.tld".</p>
            
            <pre><code>func repoRootForImportDynamic(importPath string, mod ModuleMode, security web.SecurityMode) (*RepoRoot, error)</code></pre>
         </article>
         
         <article class="function" data-name="validateRepoRoot">
            <h2>validateRepoRoot</h2>
            <hr />
            
            <p>validateRepoRoot returns an error if repoRoot does not seem to be
a valid URL with scheme.</p>
            
            <pre><code>func validateRepoRoot(repoRoot string) error</code></pre>
         </article>
         
         <article class="function" data-name="metaImportsForPrefix">
            <h2>metaImportsForPrefix</h2>
            <hr />
            
            <p>metaImportsForPrefix takes a package's root import path as declared in a <meta> tag
and returns its HTML discovery URL and the parsed metaImport lines
found on the page.

The importPath is of the form "golang.org/x/tools".
It is an error if no imports are found.
url will still be valid if err != nil.
The returned url will be of the form "https://golang.org/x/tools?go-get=1"</p>
            
            <pre><code>func metaImportsForPrefix(importPrefix string, mod ModuleMode, security web.SecurityMode) (*urlpkg.URL, []metaImport, error)</code></pre>
         </article>
         
         <article class="function" data-name="Error">
            <h2>Error</h2>
            <hr />
            
            <pre><code>func Error() string</code></pre>
         </article>
         
         <article class="function" data-name="matchGoImport">
            <h2>matchGoImport</h2>
            <hr />
            
            <p>matchGoImport returns the metaImport from imports matching importPath.
An error is returned if there are multiple matches.
An ImportMismatchError is returned if none match.</p>
            
            <pre><code>func matchGoImport(imports []metaImport, importPath string) (metaImport, error)</code></pre>
         </article>
         
         <article class="function" data-name="expand">
            <h2>expand</h2>
            <hr />
            
            <p>expand rewrites s to replace {k} with match[k] for each key k in match.</p>
            
            <pre><code>func expand(match *ast.MapType, s string) string</code></pre>
         </article>
         
         <article class="function" data-name="noVCSSuffix">
            <h2>noVCSSuffix</h2>
            <hr />
            
            <p>noVCSSuffix checks that the repository name does not
end in .foo for any version control system foo.
The usual culprit is ".git".</p>
            
            <pre><code>func noVCSSuffix(match *ast.MapType) error</code></pre>
         </article>
         
         <article class="function" data-name="launchpadVCS">
            <h2>launchpadVCS</h2>
            <hr />
            
            <p>launchpadVCS solves the ambiguity for "lp.net/project/foo". In this case,
"foo" could be a series name registered in Launchpad with its own branch,
and it could also be the name of a directory within the main project
branch one level up.</p>
            
            <pre><code>func launchpadVCS(match *ast.MapType) error</code></pre>
         </article>
         
         <article class="function" data-name="importErrorf">
            <h2>importErrorf</h2>
            <hr />
            
            <pre><code>func importErrorf(path string, format string, args ...any) error</code></pre>
         </article>
         
         <article class="function" data-name="Error">
            <h2>Error</h2>
            <hr />
            
            <pre><code>func Error() string</code></pre>
         </article>
         
         <article class="function" data-name="Unwrap">
            <h2>Unwrap</h2>
            <hr />
            
            <pre><code>func Unwrap() error</code></pre>
         </article>
         
         <article class="function" data-name="ImportPath">
            <h2>ImportPath</h2>
            <hr />
            
            <pre><code>func ImportPath() string</code></pre>
         </article>
         
         <article class="function" data-name="init">
            <h2>init</h2>
            <hr />
            
            <pre><code>func init()</code></pre>
         </article>
         
         <article class="function" data-name="TestRepoRootForImportPath">
            <h2>TestRepoRootForImportPath</h2>
            <hr />
            
            <p>Test that RepoRootForImportPath determines the correct RepoRoot for a given importPath.
TODO(cmang): Add tests for SVN and BZR.</p>
            
            <pre><code>func TestRepoRootForImportPath(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestFromDir">
            <h2>TestFromDir</h2>
            <hr />
            
            <p>Test that vcs.FromDir correctly inspects a given directory and returns the
right VCS and repo directory.</p>
            
            <pre><code>func TestFromDir(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestIsSecure">
            <h2>TestIsSecure</h2>
            <hr />
            
            <pre><code>func TestIsSecure(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestIsSecureGitAllowProtocol">
            <h2>TestIsSecureGitAllowProtocol</h2>
            <hr />
            
            <pre><code>func TestIsSecureGitAllowProtocol(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestMatchGoImport">
            <h2>TestMatchGoImport</h2>
            <hr />
            
            <pre><code>func TestMatchGoImport(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestValidateRepoRoot">
            <h2>TestValidateRepoRoot</h2>
            <hr />
            
            <pre><code>func TestValidateRepoRoot(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestGOVCS">
            <h2>TestGOVCS</h2>
            <hr />
            
            <pre><code>func TestGOVCS(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestGOVCSErrors">
            <h2>TestGOVCSErrors</h2>
            <hr />
            
            <pre><code>func TestGOVCSErrors(t *testing.T)</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
