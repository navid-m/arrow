<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - chacha20poly1305</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
         
         <span style="color: rgba(177, 175, 175, 0.5)">
            No subpackages
         </span>
         
      </aside>
      <main>
         <h1>
            Package
            <code>chacha20poly1305</code>
         </h1>
         <hr />
         
         <article class="global" data-name="KeySize">
            <h2>KeySize</h2>
            <hr />
            
            <p>KeySize is the size of the key used by this AEAD, in bytes.</p>
            
            <pre><code>KeySize</code></pre>
         </article>
         
         <article class="global" data-name="NonceSize">
            <h2>NonceSize</h2>
            <hr />
            
            <p>NonceSize is the size of the nonce used with the standard variant of this
AEAD, in bytes.

Note that this is too short to be safely generated at random if the same
key is reused more than 2³² times.</p>
            
            <pre><code>NonceSize</code></pre>
         </article>
         
         <article class="global" data-name="NonceSizeX">
            <h2>NonceSizeX</h2>
            <hr />
            
            <p>NonceSizeX is the size of the nonce used with the XChaCha20-Poly1305
variant of this AEAD, in bytes.</p>
            
            <pre><code>NonceSizeX</code></pre>
         </article>
         
         <article class="global" data-name="Overhead">
            <h2>Overhead</h2>
            <hr />
            
            <p>Overhead is the size of the Poly1305 authentication tag, and the
difference between a ciphertext length and its plaintext.</p>
            
            <pre><code>Overhead</code></pre>
         </article>
         
         <article class="global" data-name="errOpen">
            <h2>errOpen</h2>
            <hr />
            
            <pre><code>errOpen</code></pre>
         </article>
         
         <article class="global" data-name="useAVX2">
            <h2>useAVX2</h2>
            <hr />
            
            <pre><code>useAVX2</code></pre>
         </article>
          
         <article class="struct" data-name="chacha20poly1305">
            <h2>type chacha20poly1305 struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">key []byte</code></pre>
         </article>
         
         <article class="struct" data-name="xchacha20poly1305">
            <h2>type xchacha20poly1305 struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">key []byte</code></pre>
         </article>
          
         <article class="function" data-name="New">
            <h2>New</h2>
            <hr />
            
            <p>New returns a ChaCha20-Poly1305 AEAD that uses the given 256-bit key.</p>
            
            <pre><code>func New(key []byte) (cipher.AEAD, error)</code></pre>
         </article>
         
         <article class="function" data-name="NonceSize">
            <h2>NonceSize</h2>
            <hr />
            
            <pre><code>func NonceSize() int</code></pre>
         </article>
         
         <article class="function" data-name="Overhead">
            <h2>Overhead</h2>
            <hr />
            
            <pre><code>func Overhead() int</code></pre>
         </article>
         
         <article class="function" data-name="Seal">
            <h2>Seal</h2>
            <hr />
            
            <pre><code>func Seal(dst []byte, nonce []byte, plaintext []byte, additionalData []byte) []byte</code></pre>
         </article>
         
         <article class="function" data-name="Open">
            <h2>Open</h2>
            <hr />
            
            <pre><code>func Open(dst []byte, nonce []byte, ciphertext []byte, additionalData []byte) ([]byte, error)</code></pre>
         </article>
         
         <article class="function" data-name="sliceForAppend">
            <h2>sliceForAppend</h2>
            <hr />
            
            <p>sliceForAppend takes a slice and a requested number of bytes. It returns a
slice with the contents of the given slice followed by that many bytes and a
second slice that aliases into it and contains only the extra bytes. If the
original slice has sufficient capacity then no allocation is performed.</p>
            
            <pre><code>func sliceForAppend(in []byte, n int) (head []byte, tail []byte)</code></pre>
         </article>
         
         <article class="function" data-name="chacha20Poly1305Open">
            <h2>chacha20Poly1305Open</h2>
            <hr />
            
            <pre><code>func chacha20Poly1305Open(dst []byte, key []uint32, src []byte, ad []byte) bool</code></pre>
         </article>
         
         <article class="function" data-name="chacha20Poly1305Seal">
            <h2>chacha20Poly1305Seal</h2>
            <hr />
            
            <pre><code>func chacha20Poly1305Seal(dst []byte, key []uint32, src []byte, ad []byte)</code></pre>
         </article>
         
         <article class="function" data-name="setupState">
            <h2>setupState</h2>
            <hr />
            
            <p>setupState writes a ChaCha20 input matrix to state. See
https://tools.ietf.org/html/rfc7539#section-2.3.</p>
            
            <pre><code>func setupState(state *[]uint32, key *[]byte, nonce []byte)</code></pre>
         </article>
         
         <article class="function" data-name="seal">
            <h2>seal</h2>
            <hr />
            
            <pre><code>func seal(dst []byte, nonce []byte, plaintext []byte, additionalData []byte) []byte</code></pre>
         </article>
         
         <article class="function" data-name="open">
            <h2>open</h2>
            <hr />
            
            <pre><code>func open(dst []byte, nonce []byte, ciphertext []byte, additionalData []byte) ([]byte, error)</code></pre>
         </article>
         
         <article class="function" data-name="writeWithPadding">
            <h2>writeWithPadding</h2>
            <hr />
            
            <pre><code>func writeWithPadding(p *poly1305.MAC, b []byte)</code></pre>
         </article>
         
         <article class="function" data-name="writeUint64">
            <h2>writeUint64</h2>
            <hr />
            
            <pre><code>func writeUint64(p *poly1305.MAC, n int)</code></pre>
         </article>
         
         <article class="function" data-name="sealGeneric">
            <h2>sealGeneric</h2>
            <hr />
            
            <pre><code>func sealGeneric(dst []byte, nonce []byte, plaintext []byte, additionalData []byte) []byte</code></pre>
         </article>
         
         <article class="function" data-name="openGeneric">
            <h2>openGeneric</h2>
            <hr />
            
            <pre><code>func openGeneric(dst []byte, nonce []byte, ciphertext []byte, additionalData []byte) ([]byte, error)</code></pre>
         </article>
         
         <article class="function" data-name="seal">
            <h2>seal</h2>
            <hr />
            
            <pre><code>func seal(dst []byte, nonce []byte, plaintext []byte, additionalData []byte) []byte</code></pre>
         </article>
         
         <article class="function" data-name="open">
            <h2>open</h2>
            <hr />
            
            <pre><code>func open(dst []byte, nonce []byte, ciphertext []byte, additionalData []byte) ([]byte, error)</code></pre>
         </article>
         
         <article class="function" data-name="NewX">
            <h2>NewX</h2>
            <hr />
            
            <p>NewX returns a XChaCha20-Poly1305 AEAD that uses the given 256-bit key.

XChaCha20-Poly1305 is a ChaCha20-Poly1305 variant that takes a longer nonce,
suitable to be generated randomly without risk of collisions. It should be
preferred when nonce uniqueness cannot be trivially ensured, or whenever
nonces are randomly generated.</p>
            
            <pre><code>func NewX(key []byte) (cipher.AEAD, error)</code></pre>
         </article>
         
         <article class="function" data-name="NonceSize">
            <h2>NonceSize</h2>
            <hr />
            
            <pre><code>func NonceSize() int</code></pre>
         </article>
         
         <article class="function" data-name="Overhead">
            <h2>Overhead</h2>
            <hr />
            
            <pre><code>func Overhead() int</code></pre>
         </article>
         
         <article class="function" data-name="Seal">
            <h2>Seal</h2>
            <hr />
            
            <pre><code>func Seal(dst []byte, nonce []byte, plaintext []byte, additionalData []byte) []byte</code></pre>
         </article>
         
         <article class="function" data-name="Open">
            <h2>Open</h2>
            <hr />
            
            <pre><code>func Open(dst []byte, nonce []byte, ciphertext []byte, additionalData []byte) ([]byte, error)</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
