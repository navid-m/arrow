<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - gc</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 14px;
            scroll-behavior: smooth;
         }

         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
            line-height: 1.6;
         }

         .sidebar {
            width: 12%;
            background: rgba(59, 56, 56, 0.15);
            padding: 1.5rem;
            box-shadow: 2px 0 8px rgba(0, 0, 0, 0.4);
            overflow-y: auto;
            position: sticky;
            top: 0;
            height: 100vh;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
         }

         .sidebar::-webkit-scrollbar {
            width: 6px;
         }

         .sidebar::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
         }

         .sidebar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
         }

         main {
            flex: 1;
            padding: 2rem;
            margin: 0;
            max-width: calc(100% - 280px);
            background: linear-gradient(
               135deg,
               rgba(59, 56, 56, 0.05) 0%,
               rgba(0, 0, 0, 0.1) 100%
            );
         }

         .nav-links {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
         }

         .nav-links a {
            color: #ddd;
            text-decoration: none;
            padding: 0.5rem;
            border-radius: 4px;
            transition: all 0.2s ease;
         }

         .nav-links a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
         }

         h1 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #fff 0%, #ddd 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
         }

         h2 {
            font-size: 1.4rem;
            margin: 1rem 0 0.5rem;
            color: #f0f0f0;
         }

         h3 {
            font-size: 1.2rem;
            margin: 0.8rem 0 0.3rem;
            color: #e0e0e0;
         }

         .sidebar h2,
         .sidebar h3 {
            font-size: 1rem;
            margin: 0.5rem 0 0.3rem;
            color: #ccc;
         }

         pre {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #e6e6e6;
            padding: 1rem 1.2rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-size: 0.9rem;
            overflow-x: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
         }

         code {
            color: #f5f5f5;
            font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
            white-space: pre-wrap;
         }

         p {
            font-size: 15px;
            margin: 1rem 0;
            color: #ddd;
         }

         article {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(59, 56, 56, 0.3);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            transition: all 0.3s ease;
         }

         article:hover {
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5);
            transform: translateY(-2px);
         }

         .hidden {
            display: none !important;
         }

         .filter-section {
            margin-bottom: 1.5rem;
         }

         .filter-section h3 {
            margin-bottom: 0.8rem;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #aaa;
         }

         .filter-toggle label {
            display: flex;
            align-items: center;
            margin-bottom: 0.6rem;
            font-size: 0.85rem;
            color: #bbb;
            cursor: pointer;
            padding: 0.3rem;
            border-radius: 4px;
            transition: background 0.2s ease;
         }

         .filter-toggle label:hover {
            background: rgba(255, 255, 255, 0.05);
         }

         .filter-toggle input {
            margin-right: 0.6rem;
         }

         .field-line,
         .method-line {
            display: block;
         }

         #searchInput {
            width: 100%;
            margin-bottom: 1.5rem;
            border-radius: 8px !important;
            height: 2.8rem;
            font-size: 0.9rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 0 1rem;
         }

         #searchInput::placeholder {
            color: rgba(255, 255, 255, 0.5);
         }

         #searchInput:focus {
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
         }

         .section-divider {
            height: 1px;
            background: linear-gradient(
               90deg,
               transparent 0%,
               rgba(255, 255, 255, 0.3) 50%,
               transparent 100%
            );
            margin: 1.5rem 0;
         }

         .subpackage-list {
            list-style: none;
            padding: 0;
         }

         .subpackage-list li {
            margin-bottom: 0.4rem;
         }

         .subpackage-list a {
            display: block;
            padding: 0.5rem 0.8rem;
            color: #ccc;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.2s ease;
            font-size: 0.85rem;
         }

         .subpackage-list a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            transform: translateX(4px);
         }

         .empty-state {
            color: rgba(177, 175, 175, 0.6);
            font-style: italic;
            font-size: 0.8rem;
         }

         .badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.1);
            color: #ddd;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 500;
            margin-left: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
         }

         .method-badge {
            background: rgba(100, 200, 255, 0.2);
            color: #87ceeb;
         }

         .const-badge {
            background: rgba(255, 200, 100, 0.2);
            color: #ffd700;
         }

         .var-badge {
            background: rgba(200, 255, 100, 0.2);
            color: #90ee90;
         }

         .type-badge {
            background: rgba(255, 100, 200, 0.2);
            color: #699eff;
         }

         .interface-badge {
            background: rgba(150, 100, 255, 0.2);
            color: #dda0dd;
         }

         .toc {
            position: sticky;
            top: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
         }

         .toc h4 {
            margin: 0 0 0.8rem;
            font-size: 0.9rem;
            color: #aaa;
            text-transform: uppercase;
            letter-spacing: 0.5px;
         }

         .toc ul {
            list-style: none;
            padding: 0;
            margin: 0;
         }

         .toc li {
            margin-bottom: 0.3rem;
         }

         .toc a {
            color: #bbb;
            text-decoration: none;
            font-size: 0.8rem;
            transition: color 0.2s ease;
         }

         .toc a:hover {
            color: #fff;
         }

         @media (max-width: 768px) {
            body {
               flex-direction: column;
            }

            .sidebar {
               width: 90%;
               height: auto;
               position: relative;
            }

            main {
               max-width: 100%;
               padding: 1rem;
            }
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <div class="nav-links">
            <a href="index.html" title="Home">⌂</a>
            <span>|</span>
            <a href="#" onclick="history.back()" title="Back">←</a>
         </div>

         <div class="filter-section">
            <h3>Search</h3>
            <input
               type="search"
               id="searchInput"
               placeholder="Search symbols..."
            />
         </div>

         <div class="filter-section">
            <h3>Filters</h3>
            <div class="filter-toggle">
               <label>
                  <input type="checkbox" id="showImports" />
                  Show imports
               </label>
               <label>
                  <input type="checkbox" id="showPrivateFunctions" />
                  Show private functions
               </label>
               <label>
                  <input type="checkbox" id="showPrivateStructs" />
                  Show private structs
               </label>
               <label>
                  <input type="checkbox" id="showPrivateFields" />
                  Show private fields
               </label>
               <label>
                  <input type="checkbox" id="showPrivateGlobals" />
                  Show private globals
               </label>
               <label>
                  <input type="checkbox" id="showPrivateTypes" />
                  Show private types
               </label>
               <label>
                  <input type="checkbox" id="showPrivateInterfaces" />
                  Show private interfaces
               </label>
            </div>
         </div>

         <div class="section-divider"></div>

         <div class="filter-section">
            <h3>Subpackages</h3>
            
            <div class="empty-state">No subpackages</div>
            
         </div>

         
         <div class="section-divider"></div>

         <div class="toc">
            <h4>Quick Navigation</h4>
            <ul>
               
               <li><a href="#globals">Constants & Variables</a></li>
                   
               <li><a href="#functions">Functions</a></li>
               
            </ul>
         </div>
         
      </aside>

      <main>
         <h1>gc</h1>
         <div class="section-divider"></div>

         
         <section id="imports">
            <h2>Imports</h2>
            <article class="imports" data-name="imports">
               <pre><code>"cmp"
"internal/race"
"math/rand"
"slices"
"sync"
"cmd/compile/internal/base"
"cmd/compile/internal/ir"
"cmd/compile/internal/liveness"
"cmd/compile/internal/objw"
"cmd/compile/internal/pgoir"
"cmd/compile/internal/ssagen"
"cmd/compile/internal/staticinit"
"cmd/compile/internal/types"
"cmd/compile/internal/walk"
"cmd/internal/obj"
"fmt"
"go/constant"
"cmd/compile/internal/base"
"cmd/compile/internal/ir"
"cmd/compile/internal/typecheck"
"cmd/compile/internal/types"
"cmd/internal/bio"
"bufio"
"bytes"
"cmd/compile/internal/base"
"cmd/compile/internal/coverage"
"cmd/compile/internal/deadlocals"
"cmd/compile/internal/dwarfgen"
"cmd/compile/internal/escape"
"cmd/compile/internal/inline"
"cmd/compile/internal/inline/interleaved"
"cmd/compile/internal/ir"
"cmd/compile/internal/logopt"
"cmd/compile/internal/loopvar"
"cmd/compile/internal/noder"
"cmd/compile/internal/pgoir"
"cmd/compile/internal/pkginit"
"cmd/compile/internal/reflectdata"
"cmd/compile/internal/rttype"
"cmd/compile/internal/ssa"
"cmd/compile/internal/ssagen"
"cmd/compile/internal/staticinit"
"cmd/compile/internal/typecheck"
"cmd/compile/internal/types"
"cmd/internal/dwarf"
"cmd/internal/obj"
"cmd/internal/objabi"
"cmd/internal/src"
"cmd/internal/telemetry/counter"
"flag"
"fmt"
"internal/buildcfg"
"log"
"os"
"runtime"
"cmd/compile/internal/base"
"cmd/compile/internal/ir"
"cmd/compile/internal/noder"
"cmd/compile/internal/objw"
"cmd/compile/internal/pkginit"
"cmd/compile/internal/reflectdata"
"cmd/compile/internal/staticdata"
"cmd/compile/internal/typecheck"
"cmd/compile/internal/types"
"cmd/internal/archive"
"cmd/internal/bio"
"cmd/internal/obj"
"cmd/internal/objabi"
"encoding/json"
"fmt"
"strings"
"net/url"
"os"
"path/filepath"
"runtime"
"runtime/pprof"
tracepkg "runtime/trace"
"strings"
"cmd/compile/internal/base"
</code></pre>
            </article>
         </section>
          
         <section id="globals">
            <h2>Constants & Variables</h2>
            
            <article class="global" data-name="compilequeue">
               <h3>
                  compilequeue 
                  <span class="badge var-badge">var</span>
                  
               </h3>
               
               <pre><code>var compilequeue []*ir.Func</code></pre>
            </article>
            
            <article class="global" data-name="modeCompilerObj">
               <h3>
                  modeCompilerObj 
                  <span class="badge const-badge">const</span>
                  
               </h3>
               
               <p>These modes say which kind of object file to generate.
The default use of the toolchain is to set both bits,
generating a combined compiler+linker object, one that
serves to describe the package to both the compiler and the linker.
In fact the compiler and linker read nearly disjoint sections of
that file, though, so in a distributed build setting it can be more
efficient to split the output into two files, supplying the compiler
object only to future compilations and the linker object only to
future links.
By default a combined object is written, but if -linkobj is specified
on the command line then the default -o output is a compiler object
and the -linkobj output is a linker object.</p>
               
               <pre><code>const modeCompilerObj = *ast.BinaryExpr</code></pre>
            </article>
            
            <article class="global" data-name="modeLinkerObj">
               <h3>
                  modeLinkerObj 
                  <span class="badge const-badge">const</span>
                  
               </h3>
               
               <p>These modes say which kind of object file to generate.
The default use of the toolchain is to set both bits,
generating a combined compiler+linker object, one that
serves to describe the package to both the compiler and the linker.
In fact the compiler and linker read nearly disjoint sections of
that file, though, so in a distributed build setting it can be more
efficient to split the output into two files, supplying the compiler
object only to future compilations and the linker object only to
future links.
By default a combined object is written, but if -linkobj is specified
on the command line then the default -o output is a compiler object
and the -linkobj output is a linker object.</p>
               
               <pre><code>const modeLinkerObj</code></pre>
            </article>
            
         </section>
             
         <section id="functions">
            <h2>Functions</h2>
            
            <article class="function" data-name="Main">
               <h3>
                  Main 
                  <span class="badge">function</span>
                  
               </h3>
               
               <p>Main parses flags and Go source files specified in the command-line
arguments, type-checks the parsed Go package, compiles functions to machine
code, and finally writes the compiled package definition to disk.</p>
               
               <pre><code>func Main(archInit func(*ssagen.ArchInfo))</code></pre>
            </article>
            
            <article class="function" data-name="addGCLocals">
               <h3>
                  addGCLocals 
                  <span class="badge">function</span>
                  
               </h3>
               
               <p>addGCLocals adds gcargs, gclocals, gcregs, and stack object symbols to Ctxt.Data.
This is done during the sequential phase after compilation, since
global symbols can't be declared during parallel compilation.</p>
               
               <pre><code>func addGCLocals()</code></pre>
            </article>
            
            <article class="function" data-name="compileFunctions">
               <h3>
                  compileFunctions 
                  <span class="badge">function</span>
                  
               </h3>
               
               <p>compileFunctions compiles all functions in compilequeue.
It fans out nBackendWorkers to do the work
and waits for them to complete.</p>
               
               <pre><code>func compileFunctions(profile *pgoir.Profile)</code></pre>
            </article>
            
            <article class="function" data-name="dumpCompilerObj">
               <h3>
                  dumpCompilerObj 
                  <span class="badge">function</span>
                  
               </h3>
               
               <pre><code>func dumpCompilerObj(bout *bio.Writer)</code></pre>
            </article>
            
            <article class="function" data-name="dumpGlobal">
               <h3>
                  dumpGlobal 
                  <span class="badge">function</span>
                  
               </h3>
               
               <pre><code>func dumpGlobal(n *ir.Name)</code></pre>
            </article>
            
            <article class="function" data-name="dumpGlobalConst">
               <h3>
                  dumpGlobalConst 
                  <span class="badge">function</span>
                  
               </h3>
               
               <pre><code>func dumpGlobalConst(n *ir.Name)</code></pre>
            </article>
            
            <article class="function" data-name="dumpLinkerObj">
               <h3>
                  dumpLinkerObj 
                  <span class="badge">function</span>
                  
               </h3>
               
               <pre><code>func dumpLinkerObj(bout *bio.Writer)</code></pre>
            </article>
            
            <article class="function" data-name="dumpasmhdr">
               <h3>
                  dumpasmhdr 
                  <span class="badge">function</span>
                  
               </h3>
               
               <pre><code>func dumpasmhdr()</code></pre>
            </article>
            
            <article class="function" data-name="dumpdata">
               <h3>
                  dumpdata 
                  <span class="badge">function</span>
                  
               </h3>
               
               <pre><code>func dumpdata()</code></pre>
            </article>
            
            <article class="function" data-name="dumpembeds">
               <h3>
                  dumpembeds 
                  <span class="badge">function</span>
                  
               </h3>
               
               <pre><code>func dumpembeds()</code></pre>
            </article>
            
            <article class="function" data-name="dumpobj">
               <h3>
                  dumpobj 
                  <span class="badge">function</span>
                  
               </h3>
               
               <pre><code>func dumpobj()</code></pre>
            </article>
            
            <article class="function" data-name="dumpobj1">
               <h3>
                  dumpobj1 
                  <span class="badge">function</span>
                  
               </h3>
               
               <pre><code>func dumpobj1(outfile string, mode int)</code></pre>
            </article>
            
            <article class="function" data-name="enqueueFunc">
               <h3>
                  enqueueFunc 
                  <span class="badge">function</span>
                  
               </h3>
               
               <pre><code>func enqueueFunc(fn *ir.Func)</code></pre>
            </article>
            
            <article class="function" data-name="finishArchiveEntry">
               <h3>
                  finishArchiveEntry 
                  <span class="badge">function</span>
                  
               </h3>
               
               <pre><code>func finishArchiveEntry(bout *bio.Writer, start int64, name string)</code></pre>
            </article>
            
            <article class="function" data-name="ggloblnod">
               <h3>
                  ggloblnod 
                  <span class="badge">function</span>
                  
               </h3>
               
               <pre><code>func ggloblnod(nam *ir.Name)</code></pre>
            </article>
            
            <article class="function" data-name="handlePanic">
               <h3>
                  handlePanic 
                  <span class="badge">function</span>
                  
               </h3>
               
               <p>handlePanic ensures that we print out an "internal compiler error" for any panic
or runtime exception during front-end compiler processing (unless there have
already been some compiler errors). It may also be invoked from the explicit panic in
hcrash(), in which case, we pass the panic on through.</p>
               
               <pre><code>func handlePanic()</code></pre>
            </article>
            
            <article class="function" data-name="makePos">
               <h3>
                  makePos 
                  <span class="badge">function</span>
                  
               </h3>
               
               <pre><code>func makePos(b *src.PosBase, line uint, col uint) src.XPos</code></pre>
            </article>
            
            <article class="function" data-name="prepareFunc">
               <h3>
                  prepareFunc 
                  <span class="badge">function</span>
                  
               </h3>
               
               <p>prepareFunc handles any remaining frontend compilation tasks that
aren't yet safe to perform concurrently.</p>
               
               <pre><code>func prepareFunc(fn *ir.Func)</code></pre>
            </article>
            
            <article class="function" data-name="printObjHeader">
               <h3>
                  printObjHeader 
                  <span class="badge">function</span>
                  
               </h3>
               
               <pre><code>func printObjHeader(bout *bio.Writer)</code></pre>
            </article>
            
            <article class="function" data-name="profileName">
               <h3>
                  profileName 
                  <span class="badge">function</span>
                  
               </h3>
               
               <pre><code>func profileName(fn string, suffix string) string</code></pre>
            </article>
            
            <article class="function" data-name="startArchiveEntry">
               <h3>
                  startArchiveEntry 
                  <span class="badge">function</span>
                  
               </h3>
               
               <pre><code>func startArchiveEntry(bout *bio.Writer) int64</code></pre>
            </article>
            
            <article class="function" data-name="startProfile">
               <h3>
                  startProfile 
                  <span class="badge">function</span>
                  
               </h3>
               
               <pre><code>func startProfile()</code></pre>
            </article>
            
            <article class="function" data-name="writebench">
               <h3>
                  writebench 
                  <span class="badge">function</span>
                  
               </h3>
               
               <pre><code>func writebench(filename string) error</code></pre>
            </article>
            
         </section>
         
      </main>

      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }

         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               imports: document.getElementById("showImports"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
               types: document.getElementById("showPrivateTypes"),
               interfaces: document.getElementById(
                  "showPrivateInterfaces"
               ),
            };

            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });

               if (toggle) {
                  toggle.addEventListener("change", () => {
                     const show = toggle.checked;
                     document
                        .querySelectorAll(`${selector}.private`)
                        .forEach((el) => {
                           el.classList.toggle("hidden", !show);
                        });
                  });
               }
            };

            hideInitial("article.imports", toggles.imports);
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            hideInitial("article.type", toggles.types);
            hideInitial("article.interface", toggles.interfaces);

            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;

                  const lines = codeBlock.innerHTML.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch && trimmed != "}") {
                           return `<span class="field-line">${line}</span>`;
                        }
                        if (nameMatch == null) return;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class="field-line${
                           isPriv ? " hidden private" : ""
                        }" data-name="${name}">${line}</span>`;
                     })
                     .join("");

                  codeBlock.innerHTML = newContent;

                  if (toggles.fields) {
                     toggles.fields.addEventListener("change", () => {
                        const show = toggles.fields.checked;
                        article
                           .querySelectorAll(".field-line.private")
                           .forEach((el) =>
                              el.classList.toggle("hidden", !show)
                           );
                     });
                  }
               });

            // Handle private methods in interfaces
            document
               .querySelectorAll("article.interface")
               .forEach((article) => {
                  const codeBlock = article.querySelector(
                     "code.methods-code"
                  );
                  if (!codeBlock) return;

                  const lines = codeBlock.innerHTML.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch) {
                           return `<span class="method-line">${line}</span>`;
                        }

                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class="method-line${
                           isPriv ? " hidden private" : ""
                        }" data-name="${name}">${line}</span>`;
                     })
                     .join("");

                  codeBlock.innerHTML = newContent;

                  if (toggles.fields) {
                     // Reuse fields toggle for interface methods
                     toggles.fields.addEventListener("change", () => {
                        const show = toggles.fields.checked;
                        article
                           .querySelectorAll(".method-line.private")
                           .forEach((el) =>
                              el.classList.toggle("hidden", !show)
                           );
                     });
                  }
               });

            const searchInput = document.getElementById("searchInput");
            if (searchInput) {
               searchInput.addEventListener("input", () => {
                  const query = searchInput.value.trim().toLowerCase();

                  document.querySelectorAll("article").forEach((el) => {
                     const name = el.dataset.name;
                     if (!name) return;

                     const matches =
                        query === "" ||
                        name.toLowerCase().includes(query) ||
                        (el.textContent &&
                           el.textContent.toLowerCase().includes(query));

                     if (matches) {
                        // Only show if not hidden by privacy filters
                        const isPrivateEl =
                           el.classList.contains("private");
                        const shouldShowPrivate =
                           getPrivateToggleState(el);

                        if (!isPrivateEl || shouldShowPrivate) {
                           el.classList.remove("hidden");
                        }
                     } else {
                        el.classList.add("hidden");
                     }
                  });
               });
            }

            // Helper function to check if private elements should be shown
            function getPrivateToggleState(element) {
               if (element.classList.contains("function")) {
                  return toggles.functions?.checked || false;
               } else if (element.classList.contains("struct")) {
                  return toggles.structs?.checked || false;
               } else if (element.classList.contains("global")) {
                  return toggles.globals?.checked || false;
               } else if (element.classList.contains("type")) {
                  return toggles.types?.checked || false;
               } else if (element.classList.contains("interface")) {
                  return toggles.interfaces?.checked || false;
               } else if (element.classList.contains("imports")) {
                  return toggles.imports?.checked || false;
               }
               return false;
            }

            document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
               anchor.addEventListener("click", function (e) {
                  e.preventDefault();
                  const target = document.querySelector(
                     this.getAttribute("href")
                  );
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               });
            });
         });
      </script>
   </body>
</html>
