<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - cfg</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
         
         <span style="color: rgba(177, 175, 175, 0.5)">
            No subpackages
         </span>
         
      </aside>
      <main>
         <h1>
            Package
            <code>cfg</code>
         </h1>
         <hr />
         
         <article class="global" data-name="KindInvalid">
            <h2>KindInvalid</h2>
            <hr />
            
            <pre><code>KindInvalid BlockKind</code></pre>
         </article>
         
         <article class="global" data-name="KindUnreachable">
            <h2>KindUnreachable</h2>
            <hr />
            
            <pre><code>KindUnreachable</code></pre>
         </article>
         
         <article class="global" data-name="KindBody">
            <h2>KindBody</h2>
            <hr />
            
            <pre><code>KindBody</code></pre>
         </article>
         
         <article class="global" data-name="KindForBody">
            <h2>KindForBody</h2>
            <hr />
            
            <pre><code>KindForBody</code></pre>
         </article>
         
         <article class="global" data-name="KindForDone">
            <h2>KindForDone</h2>
            <hr />
            
            <pre><code>KindForDone</code></pre>
         </article>
         
         <article class="global" data-name="KindForLoop">
            <h2>KindForLoop</h2>
            <hr />
            
            <pre><code>KindForLoop</code></pre>
         </article>
         
         <article class="global" data-name="KindForPost">
            <h2>KindForPost</h2>
            <hr />
            
            <pre><code>KindForPost</code></pre>
         </article>
         
         <article class="global" data-name="KindIfDone">
            <h2>KindIfDone</h2>
            <hr />
            
            <pre><code>KindIfDone</code></pre>
         </article>
         
         <article class="global" data-name="KindIfElse">
            <h2>KindIfElse</h2>
            <hr />
            
            <pre><code>KindIfElse</code></pre>
         </article>
         
         <article class="global" data-name="KindIfThen">
            <h2>KindIfThen</h2>
            <hr />
            
            <pre><code>KindIfThen</code></pre>
         </article>
         
         <article class="global" data-name="KindLabel">
            <h2>KindLabel</h2>
            <hr />
            
            <pre><code>KindLabel</code></pre>
         </article>
         
         <article class="global" data-name="KindRangeBody">
            <h2>KindRangeBody</h2>
            <hr />
            
            <pre><code>KindRangeBody</code></pre>
         </article>
         
         <article class="global" data-name="KindRangeDone">
            <h2>KindRangeDone</h2>
            <hr />
            
            <pre><code>KindRangeDone</code></pre>
         </article>
         
         <article class="global" data-name="KindRangeLoop">
            <h2>KindRangeLoop</h2>
            <hr />
            
            <pre><code>KindRangeLoop</code></pre>
         </article>
         
         <article class="global" data-name="KindSelectCaseBody">
            <h2>KindSelectCaseBody</h2>
            <hr />
            
            <pre><code>KindSelectCaseBody</code></pre>
         </article>
         
         <article class="global" data-name="KindSelectDone">
            <h2>KindSelectDone</h2>
            <hr />
            
            <pre><code>KindSelectDone</code></pre>
         </article>
         
         <article class="global" data-name="KindSelectAfterCase">
            <h2>KindSelectAfterCase</h2>
            <hr />
            
            <pre><code>KindSelectAfterCase</code></pre>
         </article>
         
         <article class="global" data-name="KindSwitchCaseBody">
            <h2>KindSwitchCaseBody</h2>
            <hr />
            
            <pre><code>KindSwitchCaseBody</code></pre>
         </article>
         
         <article class="global" data-name="KindSwitchDone">
            <h2>KindSwitchDone</h2>
            <hr />
            
            <pre><code>KindSwitchDone</code></pre>
         </article>
         
         <article class="global" data-name="KindSwitchNextCase">
            <h2>KindSwitchNextCase</h2>
            <hr />
            
            <pre><code>KindSwitchNextCase</code></pre>
         </article>
          
         <article class="struct" data-name="builder">
            <h2>type builder struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">cfg *CFG
mayReturn func
current *Block
lblocks *ast.MapType
targets *targets</code></pre>
         </article>
         
         <article class="struct" data-name="targets">
            <h2>type targets struct</h2>
            <hr />
            
            <p>Destinations associated with unlabeled for/switch/select stmts.
We push/pop one of these as we enter/leave each construct and for
each BranchStmt we scan for the innermost target of the right type.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">tail *targets
_break *Block
_continue *Block
_fallthrough *Block</code></pre>
         </article>
         
         <article class="struct" data-name="lblock">
            <h2>type lblock struct</h2>
            <hr />
            
            <p>Destinations associated with a labeled block.
We populate these as labels are encountered in forward gotos or
labeled statements.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">_goto *Block
_break *Block
_continue *Block</code></pre>
         </article>
         
         <article class="struct" data-name="CFG">
            <h2>type CFG struct</h2>
            <hr />
            
            <p>A CFG represents the control-flow graph of a single function.

The entry point is Blocks[0]; there may be multiple return blocks.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">fset *token.FileSet
Blocks []*Block</code></pre>
         </article>
         
         <article class="struct" data-name="Block">
            <h2>type Block struct</h2>
            <hr />
            
            <p>A Block represents a basic block: a list of statements and
expressions that are always evaluated sequentially.

A block may have 0-2 successors: zero for a return block or a block
that calls a function such as panic that never returns; one for a
normal (jump) block; and two for a conditional (if) block.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">Nodes []ast.Node
Succs []*Block
Index int32
Live bool
Kind BlockKind
Stmt ast.Stmt
succs2 []*Block</code></pre>
         </article>
          
         <article class="function" data-name="stmt">
            <h2>stmt</h2>
            <hr />
            
            <pre><code>func stmt(_s ast.Stmt)</code></pre>
         </article>
         
         <article class="function" data-name="stmtList">
            <h2>stmtList</h2>
            <hr />
            
            <pre><code>func stmtList(list []ast.Stmt)</code></pre>
         </article>
         
         <article class="function" data-name="branchStmt">
            <h2>branchStmt</h2>
            <hr />
            
            <pre><code>func branchStmt(s *ast.BranchStmt)</code></pre>
         </article>
         
         <article class="function" data-name="switchStmt">
            <h2>switchStmt</h2>
            <hr />
            
            <pre><code>func switchStmt(s *ast.SwitchStmt, label *lblock)</code></pre>
         </article>
         
         <article class="function" data-name="typeSwitchStmt">
            <h2>typeSwitchStmt</h2>
            <hr />
            
            <pre><code>func typeSwitchStmt(s *ast.TypeSwitchStmt, label *lblock)</code></pre>
         </article>
         
         <article class="function" data-name="typeCaseBody">
            <h2>typeCaseBody</h2>
            <hr />
            
            <pre><code>func typeCaseBody(cc *ast.CaseClause, done *Block)</code></pre>
         </article>
         
         <article class="function" data-name="selectStmt">
            <h2>selectStmt</h2>
            <hr />
            
            <pre><code>func selectStmt(s *ast.SelectStmt, label *lblock)</code></pre>
         </article>
         
         <article class="function" data-name="forStmt">
            <h2>forStmt</h2>
            <hr />
            
            <pre><code>func forStmt(s *ast.ForStmt, label *lblock)</code></pre>
         </article>
         
         <article class="function" data-name="rangeStmt">
            <h2>rangeStmt</h2>
            <hr />
            
            <pre><code>func rangeStmt(s *ast.RangeStmt, label *lblock)</code></pre>
         </article>
         
         <article class="function" data-name="labeledBlock">
            <h2>labeledBlock</h2>
            <hr />
            
            <p>labeledBlock returns the branch target associated with the
specified label, creating it if needed.</p>
            
            <pre><code>func labeledBlock(label *ast.Ident, stmt *ast.LabeledStmt) *lblock</code></pre>
         </article>
         
         <article class="function" data-name="newBlock">
            <h2>newBlock</h2>
            <hr />
            
            <p>newBlock appends a new unconnected basic block to b.cfg's block
slice and returns it.
It does not automatically become the current block.
comment is an optional string for more readable debugging output.</p>
            
            <pre><code>func newBlock(kind BlockKind, stmt ast.Stmt) *Block</code></pre>
         </article>
         
         <article class="function" data-name="add">
            <h2>add</h2>
            <hr />
            
            <pre><code>func add(n ast.Node)</code></pre>
         </article>
         
         <article class="function" data-name="jump">
            <h2>jump</h2>
            <hr />
            
            <p>jump adds an edge from the current block to the target block,
and sets b.current to nil.</p>
            
            <pre><code>func jump(target *Block)</code></pre>
         </article>
         
         <article class="function" data-name="ifelse">
            <h2>ifelse</h2>
            <hr />
            
            <p>ifelse emits edges from the current block to the t and f blocks,
and sets b.current to nil.</p>
            
            <pre><code>func ifelse(t *Block, f *Block)</code></pre>
         </article>
         
         <article class="function" data-name="String">
            <h2>String</h2>
            <hr />
            
            <pre><code>func String() string</code></pre>
         </article>
         
         <article class="function" data-name="New">
            <h2>New</h2>
            <hr />
            
            <p>New returns a new control-flow graph for the specified function body,
which must be non-nil.

The CFG builder calls mayReturn to determine whether a given function
call may return.  For example, calls to panic, os.Exit, and log.Fatal
do not return, so the builder can remove infeasible graph edges
following such calls.  The builder calls mayReturn only for a
CallExpr beneath an ExprStmt.</p>
            
            <pre><code>func New(body *ast.BlockStmt, mayReturn func) *CFG</code></pre>
         </article>
         
         <article class="function" data-name="String">
            <h2>String</h2>
            <hr />
            
            <pre><code>func String() string</code></pre>
         </article>
         
         <article class="function" data-name="comment">
            <h2>comment</h2>
            <hr />
            
            <pre><code>func comment(fset *token.FileSet) string</code></pre>
         </article>
         
         <article class="function" data-name="Return">
            <h2>Return</h2>
            <hr />
            
            <p>Return returns the return statement at the end of this block if present, nil
otherwise.

When control falls off the end of the function, the ReturnStmt is synthetic
and its [ast.Node.End] position may be beyond the end of the file.</p>
            
            <pre><code>func Return() ret *ast.ReturnStmt</code></pre>
         </article>
         
         <article class="function" data-name="Format">
            <h2>Format</h2>
            <hr />
            
            <p>Format formats the control-flow graph for ease of debugging.</p>
            
            <pre><code>func Format(fset *token.FileSet) string</code></pre>
         </article>
         
         <article class="function" data-name="Dot">
            <h2>Dot</h2>
            <hr />
            
            <p>Dot returns the control-flow graph in the [Dot graph description language].
Use a command such as 'dot -Tsvg' to render it in a form viewable in a browser.
This method is provided as a debugging aid; the details of the
output are unspecified and may change.

[Dot graph description language]: ​​https://en.wikipedia.org/wiki/DOT_(graph_description_language)</p>
            
            <pre><code>func Dot(fset *token.FileSet) string</code></pre>
         </article>
         
         <article class="function" data-name="formatNode">
            <h2>formatNode</h2>
            <hr />
            
            <pre><code>func formatNode(fset *token.FileSet, n ast.Node) string</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
