<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - buildid</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <link
         href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 14px;
            scroll-behavior: smooth;
         }

         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
            line-height: 1.6;
         }

         .sidebar {
            width: 12%;
            background: rgba(59, 56, 56, 0.15);
            padding: 1.5rem;
            box-shadow: 2px 0 8px rgba(0, 0, 0, 0.4);
            overflow-y: auto;
            position: sticky;
            top: 0;
            height: 100vh;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
         }

         .sidebar::-webkit-scrollbar {
            width: 6px;
         }

         .sidebar::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
         }

         .sidebar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
         }

         main {
            flex: 1;
            padding: 2rem;
            margin: 0;
            max-width: calc(100% - 280px);
            background: linear-gradient(
               135deg,
               rgba(59, 56, 56, 0.05) 0%,
               rgba(0, 0, 0, 0.1) 100%
            );
         }

         .nav-links {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
         }

         .nav-links a {
            color: #ddd;
            text-decoration: none;
            padding: 0.5rem;
            border-radius: 4px;
            transition: all 0.2s ease;
         }

         .nav-links a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
         }

         h1 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #fff 0%, #ddd 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
         }

         h2 {
            font-size: 1.4rem;
            margin: 1rem 0 0.5rem;
            color: #f0f0f0;
         }

         h3 {
            font-size: 1.2rem;
            margin: 0.8rem 0 0.3rem;
            color: #e0e0e0;
            position: relative;
         }

         .sidebar h2,
         .sidebar h3 {
            font-size: 1rem;
            margin: 0.5rem 0 0.3rem;
            color: #ccc;
         }

         p {
            word-wrap: break-word;
            line-height: 1.6;
            font-size: 14px;
            margin-bottom: 1rem;
            color: #ccc;
         }

         .anchor {
            color: rgba(255, 255, 255, 0.3);
            text-decoration: none;
            font-weight: normal;
            margin-left: 0.5rem;
            opacity: 0;
            transition: opacity 0.2s ease;
            font-size: 0.8em;
         }

         h3:hover .anchor,
         .anchor:focus {
            opacity: 1;
         }

         .anchor:hover {
            color: rgba(255, 255, 255, 0.6);
         }

         .symbol-anchor {
            scroll-margin-top: 2rem;
         }

         pre, code {
            white-space: pre;
         }  

         pre[class*="language-"] {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3) !important;
            border-radius: 8px !important;
            margin: 1rem 0 !important;
            padding: 1rem 1.2rem !important;
            font-size: 0.9rem !important;
            overflow-x: auto !important;
         }

         code[class*="language-"] {
            color: #e6e6e6 !important;
            font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace !important;
            white-space: pre-wrap !important;
         }

         pre:not([class*="language-"]) {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #e6e6e6;
            padding: 1rem 1.2rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-size: 0.9rem;
            overflow-x: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
         }

         pre:not([class*="language-"]) code {
            color: #f5f5f5;
            font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
            white-space: pre-wrap;
         }

         .token.comment,
         .token.prolog,
         .token.doctype,
         .token.cdata {
            color: #7c7c7c !important;
         }

         .token.punctuation {
            color: #c9c9c9 !important;
         }

         .token.property,
         .token.tag,
         .token.boolean,
         .token.number,
         .token.constant,
         .token.symbol,
         .token.deleted {
            color: #f2777a !important;
         }

         .token.selector,
         .token.attr-name,
         .token.string,
         .token.char,
         .token.builtin,
         .token.inserted {
            color: #639fc2 !important;
         }

         .token.operator,
         .token.entity,
         .token.url,
         .language-css .token.string,
         .style .token.string {
            color: #66cccc !important;
         }

         .token.atrule,
         .token.attr-value,
         .token.keyword {
            color: #d34343 !important;
         }

         .token.function,
         .token.class-name {
            color: #f99157 !important;
         }

         .token.regex,
         .token.important,
         .token.variable {
            color: #ffcc66 !important;
         }

         p {
            font-size: 15px;
            margin: 1rem 0;
            color: #ddd;
         }

         article {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(59, 56, 56, 0.3);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            transition: all 0.3s ease;
         }

         article:hover {
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5);
            transform: translateY(-2px);
         }

         article:target {
            border-color: rgba(100, 200, 255, 0.5);
            box-shadow: 0 0 0 2px rgba(100, 200, 255, 0.2);
         }

         .hidden {
            display: none !important;
         }

         .filter-section {
            margin-bottom: 1.5rem;
         }

         .filter-section h3 {
            margin-bottom: 0.8rem;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #aaa;
         }

         .filter-toggle label {
            display: flex;
            align-items: center;
            margin-bottom: 0.6rem;
            font-size: 0.85rem;
            color: #bbb;
            cursor: pointer;
            padding: 0.3rem;
            border-radius: 4px;
            transition: background 0.2s ease;
         }

         .filter-toggle label:hover {
            background: rgba(255, 255, 255, 0.05);
         }

         .filter-toggle input {
            margin-right: 0.6rem;
         }

         #searchInput {
            width: 100%;
            margin-bottom: 1.5rem;
            border-radius: 8px !important;
            height: 2.8rem;
            font-size: 0.9rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 0 1rem;
         }

         #searchInput::placeholder {
            color: rgba(255, 255, 255, 0.5);
         }

         #searchInput:focus {
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
         }

         .section-divider {
            height: 1px;
            background: linear-gradient(
               90deg,
               transparent 0%,
               rgba(255, 255, 255, 0.3) 50%,
               transparent 100%
            );
            margin: 1.5rem 0;
         }

         .subpackage-list {
            list-style: none;
            padding: 0;
         }

         .subpackage-list li {
            margin-bottom: 0.4rem;
         }

         .subpackage-list a {
            display: block;
            padding: 0.5rem 0.8rem;
            color: #ccc;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.2s ease;
            font-size: 0.85rem;
         }

         .subpackage-list a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            transform: translateX(4px);
         }

         .empty-state {
            color: rgba(177, 175, 175, 0.6);
            font-style: italic;
            font-size: 0.8rem;
         }

         .badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.1);
            color: #ddd;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 500;
            margin-left: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
         }

         .method-badge {
            background: rgba(100, 200, 255, 0.2);
            color: #87ceeb;
         }

         .const-badge {
            background: rgba(255, 200, 100, 0.2);
            color: #ffd700;
         }

         .var-badge {
            background: rgba(200, 255, 100, 0.2);
            color: #90ee90;
         }

         .type-badge {
            background: rgba(255, 100, 200, 0.2);
            color: #699eff;
         }

         .interface-badge {
            background: rgba(150, 100, 255, 0.2);
            color: #dda0dd;
         }

         .toc {
            position: sticky;
            top: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
         }

         .toc h4 {
            margin: 0 0 0.8rem;
            font-size: 0.9rem;
            color: #aaa;
            text-transform: uppercase;
            letter-spacing: 0.5px;
         }

         .toc ul {
            list-style: none;
            padding: 0;
            margin: 0;
         }

         .toc li {
            margin-bottom: 0.3rem;
         }

         .toc a {
            color: #bbb;
            text-decoration: none;
            font-size: 0.8rem;
            transition: color 0.2s ease;
         }

         .toc a:hover {
            color: #fff;
         }

         .symbol-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.2);
         }

         .symbol-list::-webkit-scrollbar {
            width: 4px;
         }

         .symbol-list::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
         }

         .symbol-list ul {
            list-style: none;
            padding: 0.5rem;
            margin: 0;
         }

         .symbol-list li {
            margin-bottom: 0.2rem;
         }

         .symbol-list a {
            display: block;
            padding: 0.3rem 0.5rem;
            color: #bbb;
            text-decoration: none;
            border-radius: 4px;
            transition: all 0.2s ease;
            font-size: 0.75rem;
         }

         .symbol-list a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
         }

         @media (max-width: 768px) {
            body {
               flex-direction: column;
            }

            .sidebar {
               width: 90%;
               height: auto;
               position: relative;
            }

            main {
               max-width: 100%;
               padding: 1rem;
            }
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <div class="nav-links">
            <a href="index.html" title="Home">⌂</a>
            <span>|</span>
            <a href="#" onclick="history.back()" title="Back">←</a>
         </div>

         <div class="filter-section">
            <h3>Search</h3>
            <input
               type="search"
               id="searchInput"
               placeholder="Search symbols..."
            />
         </div>

         <div class="filter-section">
            <h3>Filters</h3>
            <div class="filter-toggle">
               <label>
                  <input type="checkbox" id="showImports" />
                  Show imports
               </label>
               <label>
                  <input type="checkbox" id="showPrivateFunctions" />
                  Show private functions
               </label>
               <label>
                  <input type="checkbox" id="showPrivateStructs" />
                  Show private structs
               </label>
               <label>
                  <input type="checkbox" id="showPrivateFields" />
                  Show private fields
               </label>
               <label>
                  <input type="checkbox" id="showPrivateGlobals" />
                  Show private globals
               </label>
               <label>
                  <input type="checkbox" id="showPrivateTypes" />
                  Show private types
               </label>
               <label>
                  <input type="checkbox" id="showPrivateInterfaces" />
                  Show private interfaces
               </label>
            </div>
         </div>

         <div class="section-divider"></div>

         <div class="filter-section">
            <h3>Subpackages</h3>
            
            <div class="empty-state">No subpackages</div>
            
         </div>

         
         <div class="section-divider"></div>

         <div class="toc">
            <h4>Quick Navigation</h4>
            <ul>
               
               <li><a href="#globals">Constants & Variables</a></li>
                  
               <li><a href="#structs">Structs</a></li>
                
               <li><a href="#functions">Functions</a></li>
               
            </ul>
         </div>

         <div class="filter-section">
            <h3>All Symbols</h3>
            <div class="symbol-list">
               <ul id="symbolIndex">
               </ul>
            </div>
         </div>
         
      </aside>

      <main>
         <h1>buildid</h1>
         <div class="section-divider"></div>

         
         <section id="imports">
            <h2>Imports</h2>
            <article class="imports symbol-anchor" id="imports-section" data-name="imports">
               <h3>
                  Imports
                  <a href="#imports-section" class="anchor" title="Link to imports">#</a>
               </h3>
               <pre><code class="language-go">"bytes"
"debug/elf"
"fmt"
"internal/xcoff"
"io"
"io/fs"
"os"
"strconv"
"strings"
"bytes"
"debug/elf"
"debug/macho"
"encoding/binary"
"fmt"
"io"
"io/fs"
"os"
"bytes"
"cmd/internal/codesign"
imacho "cmd/internal/macho"
"crypto/sha256"
"debug/elf"
"debug/macho"
"fmt"
"io"
</code></pre>
            </article>
         </section>
          
         <section id="globals">
            <h2>Constants & Variables</h2>
            
            <article class="global symbol-anchor" id="bangArch" data-name="bangArch">
               <h3>
                  bangArch 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#bangArch" class="anchor" title="Link to bangArch">#</a>
               </h3>
               
               <pre><code class="language-go">var bangArch = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="buildid" data-name="buildid">
               <h3>
                  buildid 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#buildid" class="anchor" title="Link to buildid">#</a>
               </h3>
               
               <pre><code class="language-go">var buildid = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="elfGNUNote" data-name="elfGNUNote">
               <h3>
                  elfGNUNote 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#elfGNUNote" class="anchor" title="Link to elfGNUNote">#</a>
               </h3>
               
               <pre><code class="language-go">var elfGNUNote = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="elfGoNote" data-name="elfGoNote">
               <h3>
                  elfGoNote 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#elfGoNote" class="anchor" title="Link to elfGoNote">#</a>
               </h3>
               
               <pre><code class="language-go">var elfGoNote = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="elfPrefix" data-name="elfPrefix">
               <h3>
                  elfPrefix 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#elfPrefix" class="anchor" title="Link to elfPrefix">#</a>
               </h3>
               
               <pre><code class="language-go">var elfPrefix = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="errBuildIDMalformed" data-name="errBuildIDMalformed">
               <h3>
                  errBuildIDMalformed 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#errBuildIDMalformed" class="anchor" title="Link to errBuildIDMalformed">#</a>
               </h3>
               
               <pre><code class="language-go">var errBuildIDMalformed = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="goBuildEnd" data-name="goBuildEnd">
               <h3>
                  goBuildEnd 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#goBuildEnd" class="anchor" title="Link to goBuildEnd">#</a>
               </h3>
               
               <pre><code class="language-go">var goBuildEnd = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="goBuildPrefix" data-name="goBuildPrefix">
               <h3>
                  goBuildPrefix 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#goBuildPrefix" class="anchor" title="Link to goBuildPrefix">#</a>
               </h3>
               
               <pre><code class="language-go">var goBuildPrefix = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="goobject" data-name="goobject">
               <h3>
                  goobject 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#goobject" class="anchor" title="Link to goobject">#</a>
               </h3>
               
               <pre><code class="language-go">var goobject = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="machoPrefixes" data-name="machoPrefixes">
               <h3>
                  machoPrefixes 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#machoPrefixes" class="anchor" title="Link to machoPrefixes">#</a>
               </h3>
               
               <pre><code class="language-go">var machoPrefixes = [][]byte{...}</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="pkgdef" data-name="pkgdef">
               <h3>
                  pkgdef 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#pkgdef" class="anchor" title="Link to pkgdef">#</a>
               </h3>
               
               <pre><code class="language-go">var pkgdef = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="readSize" data-name="readSize">
               <h3>
                  readSize 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#readSize" class="anchor" title="Link to readSize">#</a>
               </h3>
               
               <pre><code class="language-go">var readSize = *ast.BinaryExpr</code></pre>
            </article>
            
         </section>
            
         <section id="structs">
            <h2>Structs</h2>
            
            <article class="struct symbol-anchor" id="excludedReader" data-name="excludedReader">
               <h3>
                  excludedReader
                  <span class="badge">struct</span>
                  <a href="#excludedReader" class="anchor" title="Link to excludedReader">#</a>
               </h3>
               
               <p>excludedReader wraps an io.Reader. Reading from it returns the bytes from
the underlying reader, except that when the byte offset is within the
range between start and end, it returns zero bytes.</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type excludedReader struct {
r io.Reader
off int64
start int64
end int64
}</code></pre>
            </article>
            
         </section>
          
         <section id="functions">
            <h2>Functions</h2>
            
            <article class="function symbol-anchor" id="FindAndHash" data-name="FindAndHash">
               <h3>
                  FindAndHash 
                  <span class="badge">function</span>
                  
                  <a href="#FindAndHash" class="anchor" title="Link to FindAndHash">#</a>
               </h3>
               
               <p>FindAndHash reads all of r and returns the offsets of occurrences of id.
While reading, findAndHash also computes and returns
a hash of the content of r, but with occurrences of id replaced by zeros.
FindAndHash reads bufSize bytes from r at a time.
If bufSize == 0, FindAndHash uses a reasonable default.</p>
               
               <pre><code class="language-go">func FindAndHash(r io.Reader, id string, bufSize int) (matches []int64, hash [32]byte, err error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="HashToString" data-name="HashToString">
               <h3>
                  HashToString 
                  <span class="badge">function</span>
                  
                  <a href="#HashToString" class="anchor" title="Link to HashToString">#</a>
               </h3>
               
               <p>HashToString converts the hash h to a string to be recorded
in package archives and binaries as part of the build ID.
We use the first 120 bits of the hash (5 chunks of 24 bits each) and encode
it in base64, resulting in a 20-byte string. Because this is only used for
detecting the need to rebuild installed files (not for lookups
in the object file cache), 120 bits are sufficient to drive the
probability of a false "do not need to rebuild" decision to effectively zero.
We embed two different hashes in archives and four in binaries,
so cutting to 20 bytes is a significant savings when build IDs are displayed.
(20*4+3 = 83 bytes compared to 64*4+3 = 259 bytes for the
more straightforward option of printing the entire h in base64).</p>
               
               <pre><code class="language-go">func HashToString(h [32]byte) string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Read" data-name="Read">
               <h3>
                  Read 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Read" class="anchor" title="Link to Read">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *excludedReader) Read(p []byte) (int, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="ReadELFNote" data-name="ReadELFNote">
               <h3>
                  ReadELFNote 
                  <span class="badge">function</span>
                  
                  <a href="#ReadELFNote" class="anchor" title="Link to ReadELFNote">#</a>
               </h3>
               
               <pre><code class="language-go">func ReadELFNote(filename string, name string, typ int32) ([]byte, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="ReadFile" data-name="ReadFile">
               <h3>
                  ReadFile 
                  <span class="badge">function</span>
                  
                  <a href="#ReadFile" class="anchor" title="Link to ReadFile">#</a>
               </h3>
               
               <p>ReadFile reads the build ID from an archive or executable file.</p>
               
               <pre><code class="language-go">func ReadFile(name string) (id string, err error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Rewrite" data-name="Rewrite">
               <h3>
                  Rewrite 
                  <span class="badge">function</span>
                  
                  <a href="#Rewrite" class="anchor" title="Link to Rewrite">#</a>
               </h3>
               
               <pre><code class="language-go">func Rewrite(w io.WriterAt, pos []int64, id string) error</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="excludeHostBuildID" data-name="excludeHostBuildID">
               <h3>
                  excludeHostBuildID 
                  <span class="badge">function</span>
                  
                  <a href="#excludeHostBuildID" class="anchor" title="Link to excludeHostBuildID">#</a>
               </h3>
               
               <pre><code class="language-go">func excludeHostBuildID(r io.Reader, r0 io.Reader) io.Reader</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="excludeMachoCodeSignature" data-name="excludeMachoCodeSignature">
               <h3>
                  excludeMachoCodeSignature 
                  <span class="badge">function</span>
                  
                  <a href="#excludeMachoCodeSignature" class="anchor" title="Link to excludeMachoCodeSignature">#</a>
               </h3>
               
               <pre><code class="language-go">func excludeMachoCodeSignature(r io.Reader) io.Reader</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="findHostBuildID" data-name="findHostBuildID">
               <h3>
                  findHostBuildID 
                  <span class="badge">function</span>
                  
                  <a href="#findHostBuildID" class="anchor" title="Link to findHostBuildID">#</a>
               </h3>
               
               <pre><code class="language-go">func findHostBuildID(r io.Reader) (offset int64, size int64, ok bool)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="findMachoCodeSignature" data-name="findMachoCodeSignature">
               <h3>
                  findMachoCodeSignature 
                  <span class="badge">function</span>
                  
                  <a href="#findMachoCodeSignature" class="anchor" title="Link to findMachoCodeSignature">#</a>
               </h3>
               
               <pre><code class="language-go">func findMachoCodeSignature(r any) (*macho.File, codesign.CodeSigCmd, bool)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="readAligned4" data-name="readAligned4">
               <h3>
                  readAligned4 
                  <span class="badge">function</span>
                  
                  <a href="#readAligned4" class="anchor" title="Link to readAligned4">#</a>
               </h3>
               
               <pre><code class="language-go">func readAligned4(r io.Reader, sz int32) ([]byte, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="readBinary" data-name="readBinary">
               <h3>
                  readBinary 
                  <span class="badge">function</span>
                  
                  <a href="#readBinary" class="anchor" title="Link to readBinary">#</a>
               </h3>
               
               <p>readBinary reads the build ID from a binary.
ELF binaries store the build ID in a proper PT_NOTE section.
Other binary formats are not so flexible. For those, the linker
stores the build ID as non-instruction bytes at the very beginning
of the text segment, which should appear near the beginning
of the file. This is clumsy but fairly portable. Custom locations
can be added for other binary types as needed, like we did for ELF.</p>
               
               <pre><code class="language-go">func readBinary(name string, f *os.File) (id string, err error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="readELF" data-name="readELF">
               <h3>
                  readELF 
                  <span class="badge">function</span>
                  
                  <a href="#readELF" class="anchor" title="Link to readELF">#</a>
               </h3>
               
               <p>The Go build ID is stored in a note described by an ELF PT_NOTE prog
header. The caller has already opened filename, to get f, and read
at least 4 kB out, in data.</p>
               
               <pre><code class="language-go">func readELF(name string, f *os.File, data []byte) (buildid string, err error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="readGccgoArchive" data-name="readGccgoArchive">
               <h3>
                  readGccgoArchive 
                  <span class="badge">function</span>
                  
                  <a href="#readGccgoArchive" class="anchor" title="Link to readGccgoArchive">#</a>
               </h3>
               
               <p>readGccgoArchive tries to parse the archive as a standard Unix
archive file, and fetch the build ID from the _buildid.o entry.
The _buildid.o entry is written by (*Builder).gccgoBuildIDELFFile
in cmd/go/internal/work/exec.go.</p>
               
               <pre><code class="language-go">func readGccgoArchive(name string, f *os.File) (string, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="readGccgoBigArchive" data-name="readGccgoBigArchive">
               <h3>
                  readGccgoBigArchive 
                  <span class="badge">function</span>
                  
                  <a href="#readGccgoBigArchive" class="anchor" title="Link to readGccgoBigArchive">#</a>
               </h3>
               
               <p>readGccgoBigArchive tries to parse the archive as an AIX big
archive file, and fetch the build ID from the _buildid.o entry.
The _buildid.o entry is written by (*Builder).gccgoBuildIDXCOFFFile
in cmd/go/internal/work/exec.go.</p>
               
               <pre><code class="language-go">func readGccgoBigArchive(name string, f *os.File) (string, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="readMacho" data-name="readMacho">
               <h3>
                  readMacho 
                  <span class="badge">function</span>
                  
                  <a href="#readMacho" class="anchor" title="Link to readMacho">#</a>
               </h3>
               
               <p>The Go build ID is stored at the beginning of the Mach-O __text segment.
The caller has already opened filename, to get f, and read a few kB out, in data.
Sadly, that's not guaranteed to hold the note, because there is an arbitrary amount
of other junk placed in the file ahead of the main text.</p>
               
               <pre><code class="language-go">func readMacho(name string, f *os.File, data []byte) (buildid string, err error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="readRaw" data-name="readRaw">
               <h3>
                  readRaw 
                  <span class="badge">function</span>
                  
                  <a href="#readRaw" class="anchor" title="Link to readRaw">#</a>
               </h3>
               
               <p>readRaw finds the raw build ID stored in text segment data.</p>
               
               <pre><code class="language-go">func readRaw(name string, data []byte) (id string, err error)</code></pre>
            </article>
            
         </section>
         
      </main>

      <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

      <script>
         function updateSectionVisibility() {
            document.querySelectorAll("section").forEach(section => {
               const visibleArticles = section.querySelectorAll("article:not(.hidden)");
               const header = section.querySelector("h2");
               if (header) {
                  if (visibleArticles.length === 0) {
                     section.classList.add("hidden");
                  } else {
                     section.classList.remove("hidden");
                  }
               }
            });
         }

         document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('p').forEach(el => {
               const raw = el.textContent;
               const parts = raw.split(/(?<=\w)(?<!(?:\.\w))\.(?=\s|$)/);
               const sentences = parts.map((frag, i) => {
               return (i < parts.length - 1 ? frag + '.' : frag).trim();
               }).filter(s => s.length > 0);
               let html = '';
               sentences.forEach((sent, idx) => {
                  html += sent;
                  html += ((idx + 1) % 2 === 0) ? '<br/>' : ' ';
               });
               if (sentences.length > 1) {
                  el.innerHTML = html.trim();
               }
            });
         });

         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }

         function buildSymbolIndex() {
            const symbolIndex = document.getElementById('symbolIndex');
            if (!symbolIndex) return;

            const symbols = [];
            
            document.querySelectorAll('article[data-name]').forEach(article => {
               const name = article.dataset.name;
               const type = article.className.split(' ')[0]; 
               const isPrivateSymbol = isPrivate(name);
               
               if (name && name !== 'imports') {
                  symbols.push({
                     name,
                     type,
                     element: article,
                     isPrivate: isPrivateSymbol
                  });
               }
            });

            symbols.sort((a, b) => a.name.localeCompare(b.name));
            symbolIndex.innerHTML = '';
            symbols.forEach(symbol => {
               const li = document.createElement('li');
               const a = document.createElement('a');
               a.href = `#${symbol.name}`;
               a.textContent = symbol.name;
               a.title = `${symbol.type}: ${symbol.name}`;
               
               if (symbol.isPrivate) {
                  li.classList.add('private', 'hidden');
               }
               
               li.appendChild(a);
               symbolIndex.appendChild(li);
            });
         }

         document.addEventListener("DOMContentLoaded", () => {
            if (window.Prism) {
               Prism.highlightAll();
            }

            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               imports: document.getElementById("showImports"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
               types: document.getElementById("showPrivateTypes"),
               interfaces: document.getElementById(
                  "showPrivateInterfaces"
               ),
            };

            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });

               if (toggle) {
                  toggle.addEventListener("change", () => {
                     const show = toggle.checked;
                     document
                        .querySelectorAll(`${selector}.private`)
                        .forEach((el) => {
                           el.classList.toggle("hidden", !show);
                        });
                     
                     const symbolIndexItems = document.querySelectorAll('#symbolIndex li.private');
                     symbolIndexItems.forEach(li => {
                        const link = li.querySelector('a');
                        if (link) {
                           const targetId = link.getAttribute('href').substring(1);
                           const targetEl = document.getElementById(targetId);
                           if (targetEl && targetEl.matches(selector)) {
                              li.classList.toggle("hidden", !show);
                           }
                        }
                     });
                     updateSectionVisibility();
                  });
               }
            };

            hideInitial("article.imports", toggles.imports); updateSectionVisibility();
            hideInitial("article.function", toggles.functions); updateSectionVisibility();
            hideInitial("article.struct", toggles.structs); updateSectionVisibility();
            hideInitial("article.global", toggles.globals); updateSectionVisibility();
            hideInitial("article.type", toggles.types); updateSectionVisibility();
            hideInitial("article.interface", toggles.interfaces); updateSectionVisibility();

            document.querySelectorAll("article.struct").forEach((article) => {
               const codeBlock = article.querySelector("code.fields-code");
               if (!codeBlock) return;

               const raw = codeBlock.textContent.trim();
               const match = raw.match(/^type\s+\w+\s+struct\s*{(.*)}$/s);
               if (!match) return;

               const fieldsRaw = match[1].trim();
               const fields = fieldsRaw.split("\n").map(line => line.trim()).filter(Boolean);
               const formatted = fields.map(line => `\t${line}`).join("\n");
               const structName = article.dataset.name;
               const finalCode = `type ${structName} struct {\n${formatted}\n}`;

               codeBlock.textContent = finalCode;

               if (window.Prism) Prism.highlightElement(codeBlock);

   
               if (toggles.fields) {
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               }
            });

            document
               .querySelectorAll("article.interface")
               .forEach((article) => {
                  const codeBlock = article.querySelector(
                     "code.methods-code"
                  );
                  if (!codeBlock) return;

                  const lines = codeBlock.innerHTML.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch && !trimmed.endsWith("{") && trimmed != "}") {
                           return `<span class="method-line">${line}</span>`;
                        } else {
                           return ``;
                        }

                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class="method-line${
                           isPriv ? " hidden private" : ""
                        }" data-name="${name}">${line}</span><br />`;
                     })
                     .join("");

                  codeBlock.innerHTML = newContent;

                  if (window.Prism) {
                     Prism.highlightElement(codeBlock);
                  }

                  if (toggles.fields) {
                     toggles.fields.addEventListener("change", () => {
                        const show = toggles.fields.checked;
                        article
                           .querySelectorAll(".method-line.private")
                           .forEach((el) =>
                              el.classList.toggle("hidden", !show)
                           );
                     });
                  }
               });

            const searchInput = document.getElementById("searchInput");
            if (searchInput) {
               searchInput.addEventListener("input", () => {
                  const query = searchInput.value.trim().toLowerCase();

                  document.querySelectorAll("article").forEach((el) => {
                     const name = el.dataset.name;
                     if (!name) return;

                     const matches =
                        query === "" ||
                        name.toLowerCase().includes(query) ||
                        (el.textContent &&
                           el.textContent.toLowerCase().includes(query));

                     if (matches) {
                        const isPrivateEl =
                           el.classList.contains("private");
                        const shouldShowPrivate =
                           getPrivateToggleState(el);

                        if (!isPrivateEl || shouldShowPrivate) {
                           el.classList.remove("hidden");
                        }
                     } else {
                        el.classList.add("hidden");
                     }
                     updateSectionVisibility();
                  });

                  document.querySelectorAll('#symbolIndex li').forEach(li => {
                     const link = li.querySelector('a');
                     if (link) {
                        const symbolName = link.textContent.toLowerCase();
                        const matches = query === "" || symbolName.includes(query);
                        
                        if (matches) {
                           const isPrivateSymbol = li.classList.contains('private');
                           const targetId = link.getAttribute('href').substring(1);
                           const targetEl = document.getElementById(targetId);
                           const shouldShowPrivate = targetEl ? getPrivateToggleState(targetEl) : false;
                           
                           if (!isPrivateSymbol || shouldShowPrivate) {
                              li.style.display = '';
                           }
                        } else {
                           li.style.display = 'none';
                        }
                     }
                  });
               });
            }

            function getPrivateToggleState(element) {
               if (element.classList.contains("function")) {
                  return toggles.functions?.checked || false;
               } else if (element.classList.contains("struct")) {
                  return toggles.structs?.checked || false;
               } else if (element.classList.contains("global")) {
                  return toggles.globals?.checked || false;
               } else if (element.classList.contains("type")) {
                  return toggles.types?.checked || false;
               } else if (element.classList.contains("interface")) {
                  return toggles.interfaces?.checked || false;
               } else if (element.classList.contains("imports")) {
                  return toggles.imports?.checked || false;
               }
               return false;
            }

            buildSymbolIndex();

            document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
               anchor.addEventListener("click", function (e) {
                  const target = document.querySelector(
                     this.getAttribute("href")
                  );
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               });
            });

            window.addEventListener('hashchange', () => {
               const hash = window.location.hash;
               if (hash) {
                  const target = document.querySelector(hash);
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               }
            });

            if (window.location.hash) {
               setTimeout(() => {
                  const target = document.querySelector(window.location.hash);
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               }, 100);
            }
         });
      </script>
   </body>
</html>