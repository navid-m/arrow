<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - disasm</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
         
         <span style="color: rgba(177, 175, 175, 0.5)">
            No subpackages
         </span>
         
      </aside>
      <main>
         <h1>
            Package
            <code>disasm</code>
         </h1>
         <hr />
         
         <article class="global" data-name="disasms">
            <h2>disasms</h2>
            <hr />
            
            <pre><code>disasms</code></pre>
         </article>
         
         <article class="global" data-name="byteOrders">
            <h2>byteOrders</h2>
            <hr />
            
            <pre><code>byteOrders</code></pre>
         </article>
          
         <article class="struct" data-name="Disasm">
            <h2>type Disasm struct</h2>
            <hr />
            
            <p>Disasm is a disassembler for a given File.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">syms []objfile.Sym
pcln objfile.Liner
text []byte
textStart uint64
textEnd uint64
goarch string
disasm disasmFunc
byteOrder binary.ByteOrder</code></pre>
         </article>
         
         <article class="struct" data-name="CachedFile">
            <h2>type CachedFile struct</h2>
            <hr />
            
            <p>CachedFile contains the content of a file split into lines.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">FileName string
Lines [][]byte</code></pre>
         </article>
         
         <article class="struct" data-name="FileCache">
            <h2>type FileCache struct</h2>
            <hr />
            
            <p>FileCache is a simple LRU cache of file contents.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">files *list.List
maxLen int</code></pre>
         </article>
         
         <article class="struct" data-name="textReader">
            <h2>type textReader struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">code []byte
pc uint64</code></pre>
         </article>
          
         <article class="function" data-name="DisasmForFile">
            <h2>DisasmForFile</h2>
            <hr />
            
            <p>DisasmForFile returns a disassembler for the file f.</p>
            
            <pre><code>func DisasmForFile(f *objfile.File) (*Disasm, error)</code></pre>
         </article>
         
         <article class="function" data-name="disasmForEntry">
            <h2>disasmForEntry</h2>
            <hr />
            
            <pre><code>func disasmForEntry(e *objfile.Entry) (*Disasm, error)</code></pre>
         </article>
         
         <article class="function" data-name="lookup">
            <h2>lookup</h2>
            <hr />
            
            <p>lookup finds the symbol name containing addr.</p>
            
            <pre><code>func lookup(addr uint64) (name string, base uint64)</code></pre>
         </article>
         
         <article class="function" data-name="base">
            <h2>base</h2>
            <hr />
            
            <p>base returns the final element in the path.
It works on both Windows and Unix paths,
regardless of host operating system.</p>
            
            <pre><code>func base(path string) string</code></pre>
         </article>
         
         <article class="function" data-name="NewFileCache">
            <h2>NewFileCache</h2>
            <hr />
            
            <p>NewFileCache returns a FileCache which can contain up to maxLen cached file contents.</p>
            
            <pre><code>func NewFileCache(maxLen int) *FileCache</code></pre>
         </article>
         
         <article class="function" data-name="Line">
            <h2>Line</h2>
            <hr />
            
            <p>Line returns the source code line for the given file and line number.
If the file is not already cached, reads it, inserts it into the cache,
and removes the least recently used file if necessary.
If the file is in cache, it is moved to the front of the list.</p>
            
            <pre><code>func Line(filename string, line int) ([]byte, error)</code></pre>
         </article>
         
         <article class="function" data-name="Print">
            <h2>Print</h2>
            <hr />
            
            <p>Print prints a disassembly of the file to w.
If filter is non-nil, the disassembly only includes functions with names matching filter.
If printCode is true, the disassembly includes corresponding source lines.
The disassembly only includes functions that overlap the range [start, end).</p>
            
            <pre><code>func Print(w io.Writer, filter *regexp.Regexp, start uint64, end uint64, printCode bool, gnuAsm bool)</code></pre>
         </article>
         
         <article class="function" data-name="Decode">
            <h2>Decode</h2>
            <hr />
            
            <p>Decode disassembles the text segment range [start, end), calling f for each instruction.</p>
            
            <pre><code>func Decode(start uint64, end uint64, relocs []objfile.Reloc, gnuAsm bool, f func)</code></pre>
         </article>
         
         <article class="function" data-name="disasm_386">
            <h2>disasm_386</h2>
            <hr />
            
            <pre><code>func disasm_386(code []byte, pc uint64, lookup lookupFunc, _ binary.ByteOrder, gnuAsm bool) (string, int)</code></pre>
         </article>
         
         <article class="function" data-name="disasm_amd64">
            <h2>disasm_amd64</h2>
            <hr />
            
            <pre><code>func disasm_amd64(code []byte, pc uint64, lookup lookupFunc, _ binary.ByteOrder, gnuAsm bool) (string, int)</code></pre>
         </article>
         
         <article class="function" data-name="disasm_x86">
            <h2>disasm_x86</h2>
            <hr />
            
            <pre><code>func disasm_x86(code []byte, pc uint64, lookup lookupFunc, arch int, gnuAsm bool) (string, int)</code></pre>
         </article>
         
         <article class="function" data-name="ReadAt">
            <h2>ReadAt</h2>
            <hr />
            
            <pre><code>func ReadAt(data []byte, off int64) (n int, err error)</code></pre>
         </article>
         
         <article class="function" data-name="disasm_arm">
            <h2>disasm_arm</h2>
            <hr />
            
            <pre><code>func disasm_arm(code []byte, pc uint64, lookup lookupFunc, _ binary.ByteOrder, gnuAsm bool) (string, int)</code></pre>
         </article>
         
         <article class="function" data-name="disasm_arm64">
            <h2>disasm_arm64</h2>
            <hr />
            
            <pre><code>func disasm_arm64(code []byte, pc uint64, lookup lookupFunc, byteOrder binary.ByteOrder, gnuAsm bool) (string, int)</code></pre>
         </article>
         
         <article class="function" data-name="disasm_loong64">
            <h2>disasm_loong64</h2>
            <hr />
            
            <pre><code>func disasm_loong64(code []byte, pc uint64, lookup lookupFunc, byteOrder binary.ByteOrder, gnuAsm bool) (string, int)</code></pre>
         </article>
         
         <article class="function" data-name="disasm_ppc64">
            <h2>disasm_ppc64</h2>
            <hr />
            
            <pre><code>func disasm_ppc64(code []byte, pc uint64, lookup lookupFunc, byteOrder binary.ByteOrder, gnuAsm bool) (string, int)</code></pre>
         </article>
         
         <article class="function" data-name="disasm_riscv64">
            <h2>disasm_riscv64</h2>
            <hr />
            
            <pre><code>func disasm_riscv64(code []byte, pc uint64, lookup lookupFunc, byteOrder binary.ByteOrder, gnuAsm bool) (string, int)</code></pre>
         </article>
         
         <article class="function" data-name="disasm_s390x">
            <h2>disasm_s390x</h2>
            <hr />
            
            <pre><code>func disasm_s390x(code []byte, pc uint64, lookup lookupFunc, _ binary.ByteOrder, gnuAsm bool) (string, int)</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
