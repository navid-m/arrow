<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - driver</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
         
         <span style="color: rgba(177, 175, 175, 0.5)">
            No subpackages
         </span>
         
      </aside>
      <main>
         <h1>
            Package
            <code>driver</code>
         </h1>
         <hr />
         
         <article class="global" data-name="ErrSkip">
            <h2>ErrSkip</h2>
            <hr />
            
            <p>ErrSkip may be returned by some optional interfaces' methods to
indicate at runtime that the fast path is unavailable and the sql
package should continue as if the optional interface was not
implemented. ErrSkip is only supported where explicitly
documented.</p>
            
            <pre><code>ErrSkip</code></pre>
         </article>
         
         <article class="global" data-name="ErrBadConn">
            <h2>ErrBadConn</h2>
            <hr />
            
            <p>ErrBadConn should be returned by a driver to signal to the [database/sql]
package that a driver.[Conn] is in a bad state (such as the server
having earlier closed the connection) and the [database/sql] package should
retry on a new connection.

To prevent duplicate operations, ErrBadConn should NOT be returned
if there's a possibility that the database server might have
performed the operation. Even if the server sends back an error,
you shouldn't return ErrBadConn.

Errors will be checked using [errors.Is]. An error may
wrap ErrBadConn or implement the Is(error) bool method.</p>
            
            <pre><code>ErrBadConn</code></pre>
         </article>
         
         <article class="global" data-name="ErrRemoveArgument">
            <h2>ErrRemoveArgument</h2>
            <hr />
            
            <p>ErrRemoveArgument may be returned from [NamedValueChecker] to instruct the
[database/sql] package to not pass the argument to the driver query interface.
Return when accepting query specific options or structures that aren't
SQL query arguments.</p>
            
            <pre><code>ErrRemoveArgument</code></pre>
         </article>
         
         <article class="global" data-name="_">
            <h2>_</h2>
            <hr />
            
            <pre><code>_ Result</code></pre>
         </article>
         
         <article class="global" data-name="ResultNoRows">
            <h2>ResultNoRows</h2>
            <hr />
            
            <p>ResultNoRows is a pre-defined [Result] for drivers to return when a DDL
command (such as a CREATE TABLE) succeeds. It returns an error for both
LastInsertId and [RowsAffected].</p>
            
            <pre><code>ResultNoRows noRows</code></pre>
         </article>
         
         <article class="global" data-name="_">
            <h2>_</h2>
            <hr />
            
            <pre><code>_ Result</code></pre>
         </article>
         
         <article class="global" data-name="Bool">
            <h2>Bool</h2>
            <hr />
            
            <p>Bool is a [ValueConverter] that converts input values to bool.

The conversion rules are:
  - booleans are returned unchanged
  - for integer types,
    1 is true
    0 is false,
    other integers are an error
  - for strings and []byte, same rules as [strconv.ParseBool]
  - all other types are an error</p>
            
            <pre><code>Bool boolType</code></pre>
         </article>
         
         <article class="global" data-name="_">
            <h2>_</h2>
            <hr />
            
            <pre><code>_ ValueConverter</code></pre>
         </article>
         
         <article class="global" data-name="Int32">
            <h2>Int32</h2>
            <hr />
            
            <p>Int32 is a [ValueConverter] that converts input values to int64,
respecting the limits of an int32 value.</p>
            
            <pre><code>Int32 int32Type</code></pre>
         </article>
         
         <article class="global" data-name="_">
            <h2>_</h2>
            <hr />
            
            <pre><code>_ ValueConverter</code></pre>
         </article>
         
         <article class="global" data-name="String">
            <h2>String</h2>
            <hr />
            
            <p>String is a [ValueConverter] that converts its input to a string.
If the value is already a string or []byte, it's unchanged.
If the value is of another type, conversion to string is done
with fmt.Sprintf("%v", v).</p>
            
            <pre><code>String stringType</code></pre>
         </article>
         
         <article class="global" data-name="DefaultParameterConverter">
            <h2>DefaultParameterConverter</h2>
            <hr />
            
            <p>DefaultParameterConverter is the default implementation of
[ValueConverter] that's used when a [Stmt] doesn't implement
[ColumnConverter].

DefaultParameterConverter returns its argument directly if
IsValue(arg). Otherwise, if the argument implements [Valuer], its
Value method is used to return a [Value]. As a fallback, the provided
argument's underlying type is used to convert it to a [Value]:
underlying integer types are converted to int64, floats to float64,
bool, string, and []byte to themselves. If the argument is a nil
pointer, defaultConverter.ConvertValue returns a nil [Value].
If the argument is a non-nil pointer, it is dereferenced and
defaultConverter.ConvertValue is called recursively. Other types
are an error.</p>
            
            <pre><code>DefaultParameterConverter defaultConverter</code></pre>
         </article>
         
         <article class="global" data-name="_">
            <h2>_</h2>
            <hr />
            
            <pre><code>_ ValueConverter</code></pre>
         </article>
         
         <article class="global" data-name="valuerReflectType">
            <h2>valuerReflectType</h2>
            <hr />
            
            <pre><code>valuerReflectType</code></pre>
         </article>
         
         <article class="global" data-name="now">
            <h2>now</h2>
            <hr />
            
            <pre><code>now</code></pre>
         </article>
         
         <article class="global" data-name="answer">
            <h2>answer</h2>
            <hr />
            
            <pre><code>answer int64</code></pre>
         </article>
         
         <article class="global" data-name="valueConverterTests">
            <h2>valueConverterTests</h2>
            <hr />
            
            <pre><code>valueConverterTests</code></pre>
         </article>
          
         <article class="struct" data-name="NamedValue">
            <h2>type NamedValue struct</h2>
            <hr />
            
            <p>NamedValue holds both the value name and value.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">Name string
Ordinal int
Value Value</code></pre>
         </article>
         
         <article class="struct" data-name="TxOptions">
            <h2>type TxOptions struct</h2>
            <hr />
            
            <p>TxOptions holds the transaction options.

This type should be considered identical to [database/sql.TxOptions].</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">Isolation IsolationLevel
ReadOnly bool</code></pre>
         </article>
         
         <article class="struct" data-name="noRows">
            <h2>type noRows struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code"></code></pre>
         </article>
         
         <article class="struct" data-name="boolType">
            <h2>type boolType struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code"></code></pre>
         </article>
         
         <article class="struct" data-name="int32Type">
            <h2>type int32Type struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code"></code></pre>
         </article>
         
         <article class="struct" data-name="stringType">
            <h2>type stringType struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code"></code></pre>
         </article>
         
         <article class="struct" data-name="Null">
            <h2>type Null struct</h2>
            <hr />
            
            <p>Null is a type that implements [ValueConverter] by allowing nil
values but otherwise delegating to another [ValueConverter].</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">Converter ValueConverter</code></pre>
         </article>
         
         <article class="struct" data-name="NotNull">
            <h2>type NotNull struct</h2>
            <hr />
            
            <p>NotNull is a type that implements [ValueConverter] by disallowing nil
values but otherwise delegating to another [ValueConverter].</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">Converter ValueConverter</code></pre>
         </article>
         
         <article class="struct" data-name="defaultConverter">
            <h2>type defaultConverter struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code"></code></pre>
         </article>
         
         <article class="struct" data-name="valueConverterTest">
            <h2>type valueConverterTest struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">c ValueConverter
in any
out any
err string</code></pre>
         </article>
         
         <article class="struct" data-name="dec">
            <h2>type dec struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">form byte
neg bool
coefficient []byte
exponent int32</code></pre>
         </article>
          
         <article class="function" data-name="LastInsertId">
            <h2>LastInsertId</h2>
            <hr />
            
            <pre><code>func LastInsertId() (int64, error)</code></pre>
         </article>
         
         <article class="function" data-name="RowsAffected">
            <h2>RowsAffected</h2>
            <hr />
            
            <pre><code>func RowsAffected() (int64, error)</code></pre>
         </article>
         
         <article class="function" data-name="LastInsertId">
            <h2>LastInsertId</h2>
            <hr />
            
            <pre><code>func LastInsertId() (int64, error)</code></pre>
         </article>
         
         <article class="function" data-name="RowsAffected">
            <h2>RowsAffected</h2>
            <hr />
            
            <pre><code>func RowsAffected() (int64, error)</code></pre>
         </article>
         
         <article class="function" data-name="String">
            <h2>String</h2>
            <hr />
            
            <pre><code>func String() string</code></pre>
         </article>
         
         <article class="function" data-name="ConvertValue">
            <h2>ConvertValue</h2>
            <hr />
            
            <pre><code>func ConvertValue(src any) (Value, error)</code></pre>
         </article>
         
         <article class="function" data-name="ConvertValue">
            <h2>ConvertValue</h2>
            <hr />
            
            <pre><code>func ConvertValue(v any) (Value, error)</code></pre>
         </article>
         
         <article class="function" data-name="ConvertValue">
            <h2>ConvertValue</h2>
            <hr />
            
            <pre><code>func ConvertValue(v any) (Value, error)</code></pre>
         </article>
         
         <article class="function" data-name="ConvertValue">
            <h2>ConvertValue</h2>
            <hr />
            
            <pre><code>func ConvertValue(v any) (Value, error)</code></pre>
         </article>
         
         <article class="function" data-name="ConvertValue">
            <h2>ConvertValue</h2>
            <hr />
            
            <pre><code>func ConvertValue(v any) (Value, error)</code></pre>
         </article>
         
         <article class="function" data-name="IsValue">
            <h2>IsValue</h2>
            <hr />
            
            <p>IsValue reports whether v is a valid [Value] parameter type.</p>
            
            <pre><code>func IsValue(v any) bool</code></pre>
         </article>
         
         <article class="function" data-name="IsScanValue">
            <h2>IsScanValue</h2>
            <hr />
            
            <p>IsScanValue is equivalent to [IsValue].
It exists for compatibility.</p>
            
            <pre><code>func IsScanValue(v any) bool</code></pre>
         </article>
         
         <article class="function" data-name="callValuerValue">
            <h2>callValuerValue</h2>
            <hr />
            
            <p>callValuerValue returns vr.Value(), with one exception:
If vr.Value is an auto-generated method on a pointer type and the
pointer is nil, it would panic at runtime in the panicwrap
method. Treat it like nil instead.
Issue 8415.

This is so people can implement driver.Value on value types and
still use nil pointers to those types to mean nil/NULL, just like
string/*string.

This function is mirrored in the database/sql package.</p>
            
            <pre><code>func callValuerValue(vr Valuer) (v Value, err error)</code></pre>
         </article>
         
         <article class="function" data-name="ConvertValue">
            <h2>ConvertValue</h2>
            <hr />
            
            <pre><code>func ConvertValue(v any) (Value, error)</code></pre>
         </article>
         
         <article class="function" data-name="TestValueConverters">
            <h2>TestValueConverters</h2>
            <hr />
            
            <pre><code>func TestValueConverters(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="Decompose">
            <h2>Decompose</h2>
            <hr />
            
            <pre><code>func Decompose(buf []byte) (form byte, negative bool, coefficient []byte, exponent int32)</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
