<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - format</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
         
         <span style="color: rgba(177, 175, 175, 0.5)">
            No subpackages
         </span>
         
      </aside>
      <main>
         <h1>
            Package
            <code>format</code>
         </h1>
         <hr />
         
         <article class="global" data-name="tabWidth">
            <h2>tabWidth</h2>
            <hr />
            
            <p>Keep these in sync with cmd/gofmt/gofmt.go.</p>
            
            <pre><code>tabWidth</code></pre>
         </article>
         
         <article class="global" data-name="printerMode">
            <h2>printerMode</h2>
            <hr />
            
            <p>Keep these in sync with cmd/gofmt/gofmt.go.</p>
            
            <pre><code>printerMode</code></pre>
         </article>
         
         <article class="global" data-name="printerNormalizeNumbers">
            <h2>printerNormalizeNumbers</h2>
            <hr />
            
            <p>printerNormalizeNumbers means to canonicalize number literal prefixes
and exponents while printing. See https://golang.org/doc/go1.13#gofmt.

This value is defined in go/printer specifically for go/format and cmd/gofmt.</p>
            
            <pre><code>printerNormalizeNumbers</code></pre>
         </article>
         
         <article class="global" data-name="config">
            <h2>config</h2>
            <hr />
            
            <pre><code>config</code></pre>
         </article>
         
         <article class="global" data-name="parserMode">
            <h2>parserMode</h2>
            <hr />
            
            <pre><code>parserMode</code></pre>
         </article>
         
         <article class="global" data-name="testfile">
            <h2>testfile</h2>
            <hr />
            
            <pre><code>testfile</code></pre>
         </article>
         
         <article class="global" data-name="tests">
            <h2>tests</h2>
            <hr />
            
            <p>Test cases that are expected to fail are marked by the prefix "ERROR".
The formatted result must look the same as the input for successful tests.</p>
            
            <pre><code>tests</code></pre>
         </article>
           
         <article class="function" data-name="Node">
            <h2>Node</h2>
            <hr />
            
            <p>Node formats node in canonical gofmt style and writes the result to dst.

The node type must be *[ast.File], *[printer.CommentedNode], [][ast.Decl],
[][ast.Stmt], or assignment-compatible to [ast.Expr], [ast.Decl], [ast.Spec],
or [ast.Stmt]. Node does not modify node. Imports are not sorted for
nodes representing partial source files (for instance, if the node is
not an *[ast.File] or a *[printer.CommentedNode] not wrapping an *[ast.File]).

The function may return early (before the entire result is written)
and return a formatting error, for instance due to an incorrect AST.</p>
            
            <pre><code>func Node(dst io.Writer, fset *token.FileSet, node any) error</code></pre>
         </article>
         
         <article class="function" data-name="Source">
            <h2>Source</h2>
            <hr />
            
            <p>Source formats src in canonical gofmt style and returns the result
or an (I/O or syntax) error. src is expected to be a syntactically
correct Go source file, or a list of Go declarations or statements.

If src is a partial source file, the leading and trailing space of src
is applied to the result (such that it has the same leading and trailing
space as src), and the result is indented by the same amount as the first
line of src containing code. Imports are not sorted for partial source files.</p>
            
            <pre><code>func Source(src []byte) ([]byte, error)</code></pre>
         </article>
         
         <article class="function" data-name="hasUnsortedImports">
            <h2>hasUnsortedImports</h2>
            <hr />
            
            <pre><code>func hasUnsortedImports(file *ast.File) bool</code></pre>
         </article>
         
         <article class="function" data-name="diff">
            <h2>diff</h2>
            <hr />
            
            <pre><code>func diff(t *testing.T, dst []byte, src []byte)</code></pre>
         </article>
         
         <article class="function" data-name="TestNode">
            <h2>TestNode</h2>
            <hr />
            
            <pre><code>func TestNode(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestNodeNoModify">
            <h2>TestNodeNoModify</h2>
            <hr />
            
            <p>Node is documented to not modify the AST.
Test that it is so even when numbers are normalized.</p>
            
            <pre><code>func TestNodeNoModify(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestSource">
            <h2>TestSource</h2>
            <hr />
            
            <pre><code>func TestSource(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="String">
            <h2>String</h2>
            <hr />
            
            <pre><code>func String(s string) (string, error)</code></pre>
         </article>
         
         <article class="function" data-name="TestPartial">
            <h2>TestPartial</h2>
            <hr />
            
            <pre><code>func TestPartial(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="parse">
            <h2>parse</h2>
            <hr />
            
            <p>parse parses src, which was read from the named file,
as a Go source file, declaration, or statement list.</p>
            
            <pre><code>func parse(fset *token.FileSet, filename string, src []byte, fragmentOk bool) (file *ast.File, sourceAdj func, indentAdj int, err error)</code></pre>
         </article>
         
         <article class="function" data-name="format">
            <h2>format</h2>
            <hr />
            
            <p>format formats the given package file originally obtained from src
and adjusts the result based on the original source via sourceAdj
and indentAdj.</p>
            
            <pre><code>func format(fset *token.FileSet, file *ast.File, sourceAdj func, indentAdj int, src []byte, cfg printer.Config) ([]byte, error)</code></pre>
         </article>
         
         <article class="function" data-name="isSpace">
            <h2>isSpace</h2>
            <hr />
            
            <p>isSpace reports whether the byte is a space character.
isSpace defines a space as being among the following bytes: ' ', '\t', '\n' and '\r'.</p>
            
            <pre><code>func isSpace(b byte) bool</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
