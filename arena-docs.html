<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - arena</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
         
         <span style="color: rgba(177, 175, 175, 0.5)">
            No subpackages
         </span>
         
      </aside>
      <main>
         <h1>
            Package
            <code>arena</code>
         </h1>
         <hr />
          
         <article class="struct" data-name="Arena">
            <h2>type Arena struct</h2>
            <hr />
            
            <p>Arena represents a collection of Go values allocated and freed together.
Arenas are useful for improving efficiency as they may be freed back to
the runtime manually, though any memory obtained from freed arenas must
not be accessed once that happens. An Arena is automatically freed once
it is no longer referenced, so it must be kept alive (see runtime.KeepAlive)
until any memory allocated from it is no longer needed.

An Arena must never be used concurrently by multiple goroutines.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">a unsafe.Pointer</code></pre>
         </article>
          
         <article class="function" data-name="NewArena">
            <h2>NewArena</h2>
            <hr />
            
            <p>NewArena allocates a new arena.</p>
            
            <pre><code>func NewArena() *Arena</code></pre>
         </article>
         
         <article class="function" data-name="Free">
            <h2>Free</h2>
            <hr />
            
            <p>Free frees the arena (and all objects allocated from the arena) so that
memory backing the arena can be reused fairly quickly without garbage
collection overhead. Applications must not call any method on this
arena after it has been freed.</p>
            
            <pre><code>func Free()</code></pre>
         </article>
         
         <article class="function" data-name="New">
            <h2>New</h2>
            <hr />
            
            <p>New creates a new *T in the provided arena. The *T must not be used after
the arena is freed. Accessing the value after free may result in a fault,
but this fault is also not guaranteed.</p>
            
            <pre><code>func New(a *Arena) *T</code></pre>
         </article>
         
         <article class="function" data-name="MakeSlice">
            <h2>MakeSlice</h2>
            <hr />
            
            <p>MakeSlice creates a new []T with the provided capacity and length. The []T must
not be used after the arena is freed. Accessing the underlying storage of the
slice after free may result in a fault, but this fault is also not guaranteed.</p>
            
            <pre><code>func MakeSlice(a *Arena, len int, cap int) []T</code></pre>
         </article>
         
         <article class="function" data-name="Clone">
            <h2>Clone</h2>
            <hr />
            
            <p>Clone makes a shallow copy of the input value that is no longer bound to any
arena it may have been allocated from, returning the copy. If it was not
allocated from an arena, it is returned untouched. This function is useful
to more easily let an arena-allocated value out-live its arena.
T must be a pointer, a slice, or a string, otherwise this function will panic.</p>
            
            <pre><code>func Clone(s T) T</code></pre>
         </article>
         
         <article class="function" data-name="reflect_arena_New">
            <h2>reflect_arena_New</h2>
            <hr />
            
            <pre><code>func reflect_arena_New(a *Arena, typ any) any</code></pre>
         </article>
         
         <article class="function" data-name="runtime_arena_newArena">
            <h2>runtime_arena_newArena</h2>
            <hr />
            
            <pre><code>func runtime_arena_newArena() unsafe.Pointer</code></pre>
         </article>
         
         <article class="function" data-name="runtime_arena_arena_New">
            <h2>runtime_arena_arena_New</h2>
            <hr />
            
            <pre><code>func runtime_arena_arena_New(arena unsafe.Pointer, typ any) any</code></pre>
         </article>
         
         <article class="function" data-name="runtime_arena_arena_Slice">
            <h2>runtime_arena_arena_Slice</h2>
            <hr />
            
            <p>Mark as noescape to avoid escaping the slice header.</p>
            
            <pre><code>func runtime_arena_arena_Slice(arena unsafe.Pointer, slice any, cap int)</code></pre>
         </article>
         
         <article class="function" data-name="runtime_arena_arena_Free">
            <h2>runtime_arena_arena_Free</h2>
            <hr />
            
            <pre><code>func runtime_arena_arena_Free(arena unsafe.Pointer)</code></pre>
         </article>
         
         <article class="function" data-name="runtime_arena_heapify">
            <h2>runtime_arena_heapify</h2>
            <hr />
            
            <pre><code>func runtime_arena_heapify(any) any</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
