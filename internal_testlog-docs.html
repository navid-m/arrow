<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - testlog</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
         
         <span style="color: rgba(177, 175, 175, 0.5)">
            No subpackages
         </span>
         
      </aside>
      <main>
         <h1>
            Package
            <code>testlog</code>
         </h1>
         <hr />
         
         <article class="global" data-name="panicOnExit0">
            <h2>panicOnExit0</h2>
            <hr />
            
            <p>panicOnExit0 is the flag used for PanicOnExit0. This uses a lock
because the value can be cleared via a timer call that may race
with calls to os.Exit</p>
            
            <pre><code>panicOnExit0 *ast.StructType</code></pre>
         </article>
         
         <article class="global" data-name="logger">
            <h2>logger</h2>
            <hr />
            
            <p>logger is the current logger Interface.
We use an atomic.Pointer in case test startup
is racing with goroutines started during init.
That must not cause a race detector failure,
although it will still result in limited visibility
into exactly what those goroutines do.</p>
            
            <pre><code>logger *ast.IndexExpr</code></pre>
         </article>
           
         <article class="function" data-name="PanicOnExit0">
            <h2>PanicOnExit0</h2>
            <hr />
            
            <p>PanicOnExit0 reports whether to panic on a call to os.Exit(0).
This is in the testlog package because, like other definitions in
package testlog, it is a hook between the testing package and the
os package. This is used to ensure that an early call to os.Exit(0)
does not cause a test to pass.</p>
            
            <pre><code>func PanicOnExit0() bool</code></pre>
         </article>
         
         <article class="function" data-name="SetPanicOnExit0">
            <h2>SetPanicOnExit0</h2>
            <hr />
            
            <p>SetPanicOnExit0 sets panicOnExit0 to v.

SetPanicOnExit0 should be an internal detail,
but alternate implementations of go test in other
build systems may need to access it using linkname.

Do not remove or change the type signature.
See go.dev/issue/67401.</p>
            
            <pre><code>func SetPanicOnExit0(v bool)</code></pre>
         </article>
         
         <article class="function" data-name="SetLogger">
            <h2>SetLogger</h2>
            <hr />
            
            <p>SetLogger sets the test logger implementation for the current process.
It must be called only once, at process startup.</p>
            
            <pre><code>func SetLogger(impl Interface)</code></pre>
         </article>
         
         <article class="function" data-name="Logger">
            <h2>Logger</h2>
            <hr />
            
            <p>Logger returns the current test logger implementation.
It returns nil if there is no logger.</p>
            
            <pre><code>func Logger() Interface</code></pre>
         </article>
         
         <article class="function" data-name="Getenv">
            <h2>Getenv</h2>
            <hr />
            
            <p>Getenv calls Logger().Getenv, if a logger has been set.</p>
            
            <pre><code>func Getenv(name string)</code></pre>
         </article>
         
         <article class="function" data-name="Open">
            <h2>Open</h2>
            <hr />
            
            <p>Open calls Logger().Open, if a logger has been set.</p>
            
            <pre><code>func Open(name string)</code></pre>
         </article>
         
         <article class="function" data-name="Stat">
            <h2>Stat</h2>
            <hr />
            
            <p>Stat calls Logger().Stat, if a logger has been set.</p>
            
            <pre><code>func Stat(name string)</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
