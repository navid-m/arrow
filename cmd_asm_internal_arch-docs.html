<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - arch</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
         
         <span style="color: rgba(177, 175, 175, 0.5)">
            No subpackages
         </span>
         
      </aside>
      <main>
         <h1>
            Package
            <code>arch</code>
         </h1>
         <hr />
         
         <article class="global" data-name="RFP">
            <h2>RFP</h2>
            <hr />
            
            <p>Pseudo-registers whose names are the constant name without the leading R.</p>
            
            <pre><code>RFP</code></pre>
         </article>
         
         <article class="global" data-name="RSB">
            <h2>RSB</h2>
            <hr />
            
            <p>Pseudo-registers whose names are the constant name without the leading R.</p>
            
            <pre><code>RSB</code></pre>
         </article>
         
         <article class="global" data-name="RSP">
            <h2>RSP</h2>
            <hr />
            
            <p>Pseudo-registers whose names are the constant name without the leading R.</p>
            
            <pre><code>RSP</code></pre>
         </article>
         
         <article class="global" data-name="RPC">
            <h2>RPC</h2>
            <hr />
            
            <p>Pseudo-registers whose names are the constant name without the leading R.</p>
            
            <pre><code>RPC</code></pre>
         </article>
         
         <article class="global" data-name="armLS">
            <h2>armLS</h2>
            <hr />
            
            <pre><code>armLS</code></pre>
         </article>
         
         <article class="global" data-name="armSCOND">
            <h2>armSCOND</h2>
            <hr />
            
            <pre><code>armSCOND</code></pre>
         </article>
         
         <article class="global" data-name="armJump">
            <h2>armJump</h2>
            <hr />
            
            <pre><code>armJump</code></pre>
         </article>
         
         <article class="global" data-name="aMCR">
            <h2>aMCR</h2>
            <hr />
            
            <p>MCR is not defined by the obj/arm; instead we define it privately here.
It is encoded as an MRC with a bit inside the instruction word,
passed to arch.ARMMRCOffset.</p>
            
            <pre><code>aMCR</code></pre>
         </article>
         
         <article class="global" data-name="bcode">
            <h2>bcode</h2>
            <hr />
            
            <pre><code>bcode</code></pre>
         </article>
         
         <article class="global" data-name="arm64LS">
            <h2>arm64LS</h2>
            <hr />
            
            <pre><code>arm64LS</code></pre>
         </article>
         
         <article class="global" data-name="arm64Jump">
            <h2>arm64Jump</h2>
            <hr />
            
            <pre><code>arm64Jump</code></pre>
         </article>
         
         <article class="global" data-name="arm64SpecialOperand">
            <h2>arm64SpecialOperand</h2>
            <hr />
            
            <pre><code>arm64SpecialOperand *ast.MapType</code></pre>
         </article>
         
         <article class="global" data-name="loong64ElemExtMap">
            <h2>loong64ElemExtMap</h2>
            <hr />
            
            <pre><code>loong64ElemExtMap</code></pre>
         </article>
         
         <article class="global" data-name="loong64LsxArngExtMap">
            <h2>loong64LsxArngExtMap</h2>
            <hr />
            
            <pre><code>loong64LsxArngExtMap</code></pre>
         </article>
         
         <article class="global" data-name="loong64LasxArngExtMap">
            <h2>loong64LasxArngExtMap</h2>
            <hr />
            
            <pre><code>loong64LasxArngExtMap</code></pre>
         </article>
          
         <article class="struct" data-name="Arch">
            <h2>type Arch struct</h2>
            <hr />
            
            <p>Arch wraps the link architecture object with more architecture-specific information.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">*obj.LinkArch
Instructions *ast.MapType
Register *ast.MapType
RegisterPrefix *ast.MapType
RegisterNumber func
IsJump func</code></pre>
         </article>
          
         <article class="function" data-name="IsRISCV64AMO">
            <h2>IsRISCV64AMO</h2>
            <hr />
            
            <p>IsRISCV64AMO reports whether the op (as defined by a riscv.A*
constant) is one of the AMO instructions that requires special
handling.</p>
            
            <pre><code>func IsRISCV64AMO(op obj.As) bool</code></pre>
         </article>
         
         <article class="function" data-name="jumpS390x">
            <h2>jumpS390x</h2>
            <hr />
            
            <pre><code>func jumpS390x(word string) bool</code></pre>
         </article>
         
         <article class="function" data-name="s390xRegisterNumber">
            <h2>s390xRegisterNumber</h2>
            <hr />
            
            <pre><code>func s390xRegisterNumber(name string, n int16) (int16, bool)</code></pre>
         </article>
         
         <article class="function" data-name="nilRegisterNumber">
            <h2>nilRegisterNumber</h2>
            <hr />
            
            <p>nilRegisterNumber is the register number function for architectures
that do not accept the R(N) notation. It always returns failure.</p>
            
            <pre><code>func nilRegisterNumber(name string, n int16) (int16, bool)</code></pre>
         </article>
         
         <article class="function" data-name="Set">
            <h2>Set</h2>
            <hr />
            
            <p>Set configures the architecture specified by GOARCH and returns its representation.
It returns nil if GOARCH is not recognized.</p>
            
            <pre><code>func Set(GOARCH string, shared bool) *Arch</code></pre>
         </article>
         
         <article class="function" data-name="jumpX86">
            <h2>jumpX86</h2>
            <hr />
            
            <pre><code>func jumpX86(word string) bool</code></pre>
         </article>
         
         <article class="function" data-name="jumpRISCV">
            <h2>jumpRISCV</h2>
            <hr />
            
            <pre><code>func jumpRISCV(word string) bool</code></pre>
         </article>
         
         <article class="function" data-name="jumpWasm">
            <h2>jumpWasm</h2>
            <hr />
            
            <pre><code>func jumpWasm(word string) bool</code></pre>
         </article>
         
         <article class="function" data-name="archX86">
            <h2>archX86</h2>
            <hr />
            
            <pre><code>func archX86(linkArch *obj.LinkArch) *Arch</code></pre>
         </article>
         
         <article class="function" data-name="archArm">
            <h2>archArm</h2>
            <hr />
            
            <pre><code>func archArm() *Arch</code></pre>
         </article>
         
         <article class="function" data-name="archArm64">
            <h2>archArm64</h2>
            <hr />
            
            <pre><code>func archArm64() *Arch</code></pre>
         </article>
         
         <article class="function" data-name="archPPC64">
            <h2>archPPC64</h2>
            <hr />
            
            <pre><code>func archPPC64(linkArch *obj.LinkArch) *Arch</code></pre>
         </article>
         
         <article class="function" data-name="archMips">
            <h2>archMips</h2>
            <hr />
            
            <pre><code>func archMips(linkArch *obj.LinkArch) *Arch</code></pre>
         </article>
         
         <article class="function" data-name="archMips64">
            <h2>archMips64</h2>
            <hr />
            
            <pre><code>func archMips64(linkArch *obj.LinkArch) *Arch</code></pre>
         </article>
         
         <article class="function" data-name="archLoong64">
            <h2>archLoong64</h2>
            <hr />
            
            <pre><code>func archLoong64(linkArch *obj.LinkArch) *Arch</code></pre>
         </article>
         
         <article class="function" data-name="archRISCV64">
            <h2>archRISCV64</h2>
            <hr />
            
            <pre><code>func archRISCV64(shared bool) *Arch</code></pre>
         </article>
         
         <article class="function" data-name="archS390x">
            <h2>archS390x</h2>
            <hr />
            
            <pre><code>func archS390x() *Arch</code></pre>
         </article>
         
         <article class="function" data-name="archWasm">
            <h2>archWasm</h2>
            <hr />
            
            <pre><code>func archWasm() *Arch</code></pre>
         </article>
         
         <article class="function" data-name="jumpArm">
            <h2>jumpArm</h2>
            <hr />
            
            <pre><code>func jumpArm(word string) bool</code></pre>
         </article>
         
         <article class="function" data-name="IsARMCMP">
            <h2>IsARMCMP</h2>
            <hr />
            
            <p>IsARMCMP reports whether the op (as defined by an arm.A* constant) is
one of the comparison instructions that require special handling.</p>
            
            <pre><code>func IsARMCMP(op obj.As) bool</code></pre>
         </article>
         
         <article class="function" data-name="IsARMSTREX">
            <h2>IsARMSTREX</h2>
            <hr />
            
            <p>IsARMSTREX reports whether the op (as defined by an arm.A* constant) is
one of the STREX-like instructions that require special handling.</p>
            
            <pre><code>func IsARMSTREX(op obj.As) bool</code></pre>
         </article>
         
         <article class="function" data-name="IsARMMRC">
            <h2>IsARMMRC</h2>
            <hr />
            
            <p>IsARMMRC reports whether the op (as defined by an arm.A* constant) is
MRC or MCR.</p>
            
            <pre><code>func IsARMMRC(op obj.As) bool</code></pre>
         </article>
         
         <article class="function" data-name="IsARMBFX">
            <h2>IsARMBFX</h2>
            <hr />
            
            <p>IsARMBFX reports whether the op (as defined by an arm.A* constant) is one the
BFX-like instructions which are in the form of "op $width, $LSB, (Reg,) Reg".</p>
            
            <pre><code>func IsARMBFX(op obj.As) bool</code></pre>
         </article>
         
         <article class="function" data-name="IsARMFloatCmp">
            <h2>IsARMFloatCmp</h2>
            <hr />
            
            <p>IsARMFloatCmp reports whether the op is a floating comparison instruction.</p>
            
            <pre><code>func IsARMFloatCmp(op obj.As) bool</code></pre>
         </article>
         
         <article class="function" data-name="ARMMRCOffset">
            <h2>ARMMRCOffset</h2>
            <hr />
            
            <p>ARMMRCOffset implements the peculiar encoding of the MRC and MCR instructions.
The difference between MRC and MCR is represented by a bit high in the word, not
in the usual way by the opcode itself. Asm must use AMRC for both instructions, so
we return the opcode for MRC so that asm doesn't need to import obj/arm.</p>
            
            <pre><code>func ARMMRCOffset(op obj.As, cond string, x0 int64, x1 int64, x2 int64, x3 int64, x4 int64, x5 int64) (offset int64, op0 obj.As, ok bool)</code></pre>
         </article>
         
         <article class="function" data-name="IsARMMULA">
            <h2>IsARMMULA</h2>
            <hr />
            
            <p>IsARMMULA reports whether the op (as defined by an arm.A* constant) is
MULA, MULS, MMULA, MMULS, MULABB, MULAWB or MULAWT, the 4-operand instructions.</p>
            
            <pre><code>func IsARMMULA(op obj.As) bool</code></pre>
         </article>
         
         <article class="function" data-name="ARMConditionCodes">
            <h2>ARMConditionCodes</h2>
            <hr />
            
            <p>ARMConditionCodes handles the special condition code situation for the ARM.
It returns a boolean to indicate success; failure means cond was unrecognized.</p>
            
            <pre><code>func ARMConditionCodes(prog *obj.Prog, cond string) bool</code></pre>
         </article>
         
         <article class="function" data-name="ParseARMCondition">
            <h2>ParseARMCondition</h2>
            <hr />
            
            <p>ParseARMCondition parses the conditions attached to an ARM instruction.
The input is a single string consisting of period-separated condition
codes, such as ".P.W". An initial period is ignored.</p>
            
            <pre><code>func ParseARMCondition(cond string) (uint8, bool)</code></pre>
         </article>
         
         <article class="function" data-name="parseARMCondition">
            <h2>parseARMCondition</h2>
            <hr />
            
            <pre><code>func parseARMCondition(cond string, ls *ast.MapType, scond *ast.MapType) (uint8, bool)</code></pre>
         </article>
         
         <article class="function" data-name="armRegisterNumber">
            <h2>armRegisterNumber</h2>
            <hr />
            
            <pre><code>func armRegisterNumber(name string, n int16) (int16, bool)</code></pre>
         </article>
         
         <article class="function" data-name="jumpArm64">
            <h2>jumpArm64</h2>
            <hr />
            
            <pre><code>func jumpArm64(word string) bool</code></pre>
         </article>
         
         <article class="function" data-name="GetARM64SpecialOperand">
            <h2>GetARM64SpecialOperand</h2>
            <hr />
            
            <p>GetARM64SpecialOperand returns the internal representation of a special operand.</p>
            
            <pre><code>func GetARM64SpecialOperand(name string) arm64.SpecialOperand</code></pre>
         </article>
         
         <article class="function" data-name="IsARM64ADR">
            <h2>IsARM64ADR</h2>
            <hr />
            
            <p>IsARM64ADR reports whether the op (as defined by an arm64.A* constant) is
one of the comparison instructions that require special handling.</p>
            
            <pre><code>func IsARM64ADR(op obj.As) bool</code></pre>
         </article>
         
         <article class="function" data-name="IsARM64CMP">
            <h2>IsARM64CMP</h2>
            <hr />
            
            <p>IsARM64CMP reports whether the op (as defined by an arm64.A* constant) is
one of the comparison instructions that require special handling.</p>
            
            <pre><code>func IsARM64CMP(op obj.As) bool</code></pre>
         </article>
         
         <article class="function" data-name="IsARM64STLXR">
            <h2>IsARM64STLXR</h2>
            <hr />
            
            <p>IsARM64STLXR reports whether the op (as defined by an arm64.A*
constant) is one of the STLXR-like instructions that require special
handling.</p>
            
            <pre><code>func IsARM64STLXR(op obj.As) bool</code></pre>
         </article>
         
         <article class="function" data-name="IsARM64TBL">
            <h2>IsARM64TBL</h2>
            <hr />
            
            <p>IsARM64TBL reports whether the op (as defined by an arm64.A*
constant) is one of the TBL-like instructions and one of its
inputs does not fit into prog.Reg, so require special handling.</p>
            
            <pre><code>func IsARM64TBL(op obj.As) bool</code></pre>
         </article>
         
         <article class="function" data-name="IsARM64CASP">
            <h2>IsARM64CASP</h2>
            <hr />
            
            <p>IsARM64CASP reports whether the op (as defined by an arm64.A*
constant) is one of the CASP-like instructions, and its 2nd
destination is a register pair that require special handling.</p>
            
            <pre><code>func IsARM64CASP(op obj.As) bool</code></pre>
         </article>
         
         <article class="function" data-name="ARM64Suffix">
            <h2>ARM64Suffix</h2>
            <hr />
            
            <p>ARM64Suffix handles the special suffix for the ARM64.
It returns a boolean to indicate success; failure means
cond was unrecognized.</p>
            
            <pre><code>func ARM64Suffix(prog *obj.Prog, cond string) bool</code></pre>
         </article>
         
         <article class="function" data-name="parseARM64Suffix">
            <h2>parseARM64Suffix</h2>
            <hr />
            
            <p>parseARM64Suffix parses the suffix attached to an ARM64 instruction.
The input is a single string consisting of period-separated condition
codes, such as ".P.W". An initial period is ignored.</p>
            
            <pre><code>func parseARM64Suffix(cond string) (uint8, bool)</code></pre>
         </article>
         
         <article class="function" data-name="arm64RegisterNumber">
            <h2>arm64RegisterNumber</h2>
            <hr />
            
            <pre><code>func arm64RegisterNumber(name string, n int16) (int16, bool)</code></pre>
         </article>
         
         <article class="function" data-name="ARM64RegisterShift">
            <h2>ARM64RegisterShift</h2>
            <hr />
            
            <p>ARM64RegisterShift constructs an ARM64 register with shift operation.</p>
            
            <pre><code>func ARM64RegisterShift(reg int16, op int16, count int16) (int64, error)</code></pre>
         </article>
         
         <article class="function" data-name="ARM64RegisterExtension">
            <h2>ARM64RegisterExtension</h2>
            <hr />
            
            <p>ARM64RegisterExtension constructs an ARM64 register with extension or arrangement.</p>
            
            <pre><code>func ARM64RegisterExtension(a *obj.Addr, ext string, reg int16, num int16, isAmount bool, isIndex bool) error</code></pre>
         </article>
         
         <article class="function" data-name="ARM64RegisterArrangement">
            <h2>ARM64RegisterArrangement</h2>
            <hr />
            
            <p>ARM64RegisterArrangement constructs an ARM64 vector register arrangement.</p>
            
            <pre><code>func ARM64RegisterArrangement(reg int16, name string, arng string) (int64, error)</code></pre>
         </article>
         
         <article class="function" data-name="ARM64RegisterListOffset">
            <h2>ARM64RegisterListOffset</h2>
            <hr />
            
            <p>ARM64RegisterListOffset generates offset encoding according to AArch64 specification.</p>
            
            <pre><code>func ARM64RegisterListOffset(firstReg int, regCnt int, arrangement int64) (int64, error)</code></pre>
         </article>
         
         <article class="function" data-name="jumpLoong64">
            <h2>jumpLoong64</h2>
            <hr />
            
            <pre><code>func jumpLoong64(word string) bool</code></pre>
         </article>
         
         <article class="function" data-name="IsLoong64MUL">
            <h2>IsLoong64MUL</h2>
            <hr />
            
            <p>IsLoong64MUL reports whether the op (as defined by an loong64.A* constant) is
one of the MUL/DIV/REM instructions that require special handling.</p>
            
            <pre><code>func IsLoong64MUL(op obj.As) bool</code></pre>
         </article>
         
         <article class="function" data-name="IsLoong64RDTIME">
            <h2>IsLoong64RDTIME</h2>
            <hr />
            
            <p>IsLoong64RDTIME reports whether the op (as defined by an loong64.A*
constant) is one of the RDTIMELW/RDTIMEHW/RDTIMED instructions that
require special handling.</p>
            
            <pre><code>func IsLoong64RDTIME(op obj.As) bool</code></pre>
         </article>
         
         <article class="function" data-name="IsLoong64AMO">
            <h2>IsLoong64AMO</h2>
            <hr />
            
            <pre><code>func IsLoong64AMO(op obj.As) bool</code></pre>
         </article>
         
         <article class="function" data-name="Loong64RegisterExtension">
            <h2>Loong64RegisterExtension</h2>
            <hr />
            
            <p>Loong64RegisterExtension constructs an Loong64 register with extension or arrangement.</p>
            
            <pre><code>func Loong64RegisterExtension(a *obj.Addr, ext string, reg int16, num int16, isAmount bool, isIndex bool) error</code></pre>
         </article>
         
         <article class="function" data-name="loong64RegisterNumber">
            <h2>loong64RegisterNumber</h2>
            <hr />
            
            <pre><code>func loong64RegisterNumber(name string, n int16) (int16, bool)</code></pre>
         </article>
         
         <article class="function" data-name="jumpMIPS">
            <h2>jumpMIPS</h2>
            <hr />
            
            <pre><code>func jumpMIPS(word string) bool</code></pre>
         </article>
         
         <article class="function" data-name="IsMIPSCMP">
            <h2>IsMIPSCMP</h2>
            <hr />
            
            <p>IsMIPSCMP reports whether the op (as defined by an mips.A* constant) is
one of the CMP instructions that require special handling.</p>
            
            <pre><code>func IsMIPSCMP(op obj.As) bool</code></pre>
         </article>
         
         <article class="function" data-name="IsMIPSMUL">
            <h2>IsMIPSMUL</h2>
            <hr />
            
            <p>IsMIPSMUL reports whether the op (as defined by an mips.A* constant) is
one of the MUL/DIV/REM/MADD/MSUB instructions that require special handling.</p>
            
            <pre><code>func IsMIPSMUL(op obj.As) bool</code></pre>
         </article>
         
         <article class="function" data-name="mipsRegisterNumber">
            <h2>mipsRegisterNumber</h2>
            <hr />
            
            <pre><code>func mipsRegisterNumber(name string, n int16) (int16, bool)</code></pre>
         </article>
         
         <article class="function" data-name="jumpPPC64">
            <h2>jumpPPC64</h2>
            <hr />
            
            <pre><code>func jumpPPC64(word string) bool</code></pre>
         </article>
         
         <article class="function" data-name="IsPPC64CMP">
            <h2>IsPPC64CMP</h2>
            <hr />
            
            <p>IsPPC64CMP reports whether the op (as defined by an ppc64.A* constant) is
one of the CMP instructions that require special handling.</p>
            
            <pre><code>func IsPPC64CMP(op obj.As) bool</code></pre>
         </article>
         
         <article class="function" data-name="IsPPC64NEG">
            <h2>IsPPC64NEG</h2>
            <hr />
            
            <p>IsPPC64NEG reports whether the op (as defined by an ppc64.A* constant) is
one of the NEG-like instructions that require special handling.</p>
            
            <pre><code>func IsPPC64NEG(op obj.As) bool</code></pre>
         </article>
         
         <article class="function" data-name="ppc64RegisterNumber">
            <h2>ppc64RegisterNumber</h2>
            <hr />
            
            <pre><code>func ppc64RegisterNumber(name string, n int16) (int16, bool)</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
