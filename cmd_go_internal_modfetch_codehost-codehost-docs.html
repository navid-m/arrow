<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>codehost - Documentation</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <link
         href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 14px;
            scroll-behavior: smooth;
         }

         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
            line-height: 1.6;
         }

         .sidebar {
            width: 12%;
            background: rgba(59, 56, 56, 0.15);
            padding: 1.5rem;
            box-shadow: 2px 0 8px rgba(0, 0, 0, 0.4);
            overflow-y: auto;
            position: sticky;
            top: 0;
            height: 100vh;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
         }

         .sidebar::-webkit-scrollbar {
            width: 6px;
         }

         .sidebar::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
         }

         .sidebar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
         }

         main {
            flex: 1;
            padding: 2rem;
            margin: 0;
            max-width: calc(100% - 280px);
            background: linear-gradient(
               135deg,
               rgba(59, 56, 56, 0.05) 0%,
               rgba(0, 0, 0, 0.1) 100%
            );
         }

         .nav-links {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
         }

         .nav-links a {
            color: #ddd;
            text-decoration: none;
            padding: 0.5rem;
            border-radius: 4px;
            transition: all 0.2s ease;
         }

         .nav-links a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
         }

         h1 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #fff 0%, #ddd 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
         }

         h2 {
            font-size: 1.4rem;
            margin: 1rem 0 0.5rem;
            color: #f0f0f0;
         }

         h3 {
            font-size: 1.2rem;
            margin: 0.8rem 0 0.3rem;
            color: #e0e0e0;
            position: relative;
         }

         .sidebar h2,
         .sidebar h3 {
            font-size: 1rem;
            margin: 0.5rem 0 0.3rem;
            color: #ccc;
         }

         p {
            word-wrap: break-word;
            line-height: 1.6;
            font-size: 14px;
            margin-bottom: 1rem;
            color: #ccc;
         }

         .anchor {
            color: rgba(255, 255, 255, 0.3);
            text-decoration: none;
            font-weight: normal;
            margin-left: 0.5rem;
            opacity: 0;
            transition: opacity 0.2s ease;
            font-size: 0.8em;
         }

         h3:hover .anchor,
         .anchor:focus {
            opacity: 1;
         }

         .anchor:hover {
            color: rgba(255, 255, 255, 0.6);
         }

         .symbol-anchor {
            scroll-margin-top: 2rem;
         }

         pre, code {
            white-space: pre;
         }  

         pre[class*="language-"] {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3) !important;
            border-radius: 8px !important;
            margin: 1rem 0 !important;
            padding: 1rem 1.2rem !important;
            font-size: 0.9rem !important;
            overflow-x: auto !important;
         }

         code[class*="language-"] {
            color: #e6e6e6 !important;
            font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace !important;
            white-space: pre-wrap !important;
         }

         pre:not([class*="language-"]) {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #e6e6e6;
            padding: 1rem 1.2rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-size: 0.9rem;
            overflow-x: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
         }

         pre:not([class*="language-"]) code {
            color: #f5f5f5;
            font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
            white-space: pre-wrap;
         }

         .token.comment,
         .token.prolog,
         .token.doctype,
         .token.cdata {
            color: #7c7c7c !important;
         }

         .token.punctuation {
            color: #c9c9c9 !important;
         }

         .token.property,
         .token.tag,
         .token.boolean,
         .token.number,
         .token.constant,
         .token.symbol,
         .token.deleted {
            color: #f2777a !important;
         }

         .token.selector,
         .token.attr-name,
         .token.string,
         .token.char,
         .token.builtin,
         .token.inserted {
            color: #639fc2 !important;
         }

         .token.operator,
         .token.entity,
         .token.url,
         .language-css .token.string,
         .style .token.string {
            color: #66cccc !important;
         }

         .token.atrule,
         .token.attr-value,
         .token.keyword {
            color: #d34343 !important;
         }

         .token.function,
         .token.class-name {
            color: #f99157 !important;
         }

         .token.regex,
         .token.important,
         .token.variable {
            color: #ffcc66 !important;
         }

         p {
            font-size: 15px;
            margin: 1rem 0;
            color: #ddd;
         }

         article {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(59, 56, 56, 0.3);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            transition: all 0.3s ease;
         }

         article:hover {
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5);
            transform: translateY(-2px);
         }

         article:target {
            border-color: rgba(100, 200, 255, 0.5);
            box-shadow: 0 0 0 2px rgba(100, 200, 255, 0.2);
         }

         .hidden {
            display: none !important;
         }

         .filter-section {
            margin-bottom: 1.5rem;
         }

         .filter-section h3 {
            margin-bottom: 0.8rem;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #aaa;
         }

         .filter-toggle label {
            display: flex;
            align-items: center;
            margin-bottom: 0.6rem;
            font-size: 0.85rem;
            color: #bbb;
            cursor: pointer;
            padding: 0.3rem;
            border-radius: 4px;
            transition: background 0.2s ease;
         }

         .filter-toggle label:hover {
            background: rgba(255, 255, 255, 0.05);
         }

         .filter-toggle input {
            margin-right: 0.6rem;
         }

         #searchInput {
            width: 100%;
            margin-bottom: 1.5rem;
            border-radius: 8px !important;
            height: 2.8rem;
            font-size: 0.9rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 0 1rem;
         }

         #searchInput::placeholder {
            color: rgba(255, 255, 255, 0.5);
         }

         #searchInput:focus {
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
         }

         .section-divider {
            height: 1px;
            background: linear-gradient(
               90deg,
               transparent 0%,
               rgba(255, 255, 255, 0.3) 50%,
               transparent 100%
            );
            margin: 1.5rem 0;
         }

         .subpackage-list {
            list-style: none;
            padding: 0;
         }

         .subpackage-list li {
            margin-bottom: 0.4rem;
         }

         .subpackage-list a {
            display: block;
            padding: 0.5rem 0.8rem;
            color: #ccc;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.2s ease;
            font-size: 0.85rem;
         }

         .subpackage-list a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            transform: translateX(4px);
         }

         .empty-state {
            color: rgba(177, 175, 175, 0.6);
            font-style: italic;
            font-size: 0.8rem;
         }

         .badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.1);
            color: #ddd;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 500;
            margin-left: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
         }

         .method-badge {
            background: rgba(100, 200, 255, 0.2);
            color: #87ceeb;
         }

         .const-badge {
            background: rgba(255, 200, 100, 0.2);
            color: #ffd700;
         }

         .var-badge {
            background: rgba(200, 255, 100, 0.2);
            color: #90ee90;
         }

         .type-badge {
            background: rgba(255, 100, 200, 0.2);
            color: #699eff;
         }

         .interface-badge {
            background: rgba(150, 100, 255, 0.2);
            color: #dda0dd;
         }

         .toc {
            position: sticky;
            top: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
         }

         .toc h4 {
            margin: 0 0 0.8rem;
            font-size: 0.9rem;
            color: #aaa;
            text-transform: uppercase;
            letter-spacing: 0.5px;
         }

         .toc ul {
            list-style: none;
            padding: 0;
            margin: 0;
         }

         .toc li {
            margin-bottom: 0.3rem;
         }

         .toc a {
            color: #bbb;
            text-decoration: none;
            font-size: 0.8rem;
            transition: color 0.2s ease;
         }

         .toc a:hover {
            color: #fff;
         }

         .symbol-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.2);
         }

         .symbol-list::-webkit-scrollbar {
            width: 4px;
         }

         .symbol-list::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
         }

         .symbol-list ul {
            list-style: none;
            padding: 0.5rem;
            margin: 0;
         }

         .symbol-list li {
            margin-bottom: 0.2rem;
         }

         .symbol-list a {
            display: block;
            padding: 0.3rem 0.5rem;
            color: #bbb;
            text-decoration: none;
            border-radius: 4px;
            transition: all 0.2s ease;
            font-size: 0.75rem;
         }

         .symbol-list a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
         }

         @media (max-width: 768px) {
            body {
               flex-direction: column;
            }

            .sidebar {
               width: 90%;
               height: auto;
               position: relative;
            }

            main {
               max-width: 100%;
               padding: 1rem;
            }
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <div class="nav-links">
            <a href="index.html" title="Home">⌂</a>
            <span>|</span>
            <a href="#" onclick="history.back()" title="Back">←</a>
         </div>

         <div class="filter-section">
            <h3>Search</h3>
            <input
               type="search"
               id="searchInput"
               placeholder="Search symbols..."
            />
         </div>

         <div class="filter-section">
            <h3>Filters</h3>
            <div class="filter-toggle">
               <label>
                  <input type="checkbox" id="showImports" />
                  Show imports
               </label>
               <label>
                  <input type="checkbox" id="showPrivateFunctions" />
                  Show private functions
               </label>
               <label>
                  <input type="checkbox" id="showPrivateStructs" />
                  Show private structs
               </label>
               <label>
                  <input type="checkbox" id="showPrivateFields" />
                  Show private fields
               </label>
               <label>
                  <input type="checkbox" id="showPrivateGlobals" />
                  Show private globals
               </label>
               <label>
                  <input type="checkbox" id="showPrivateTypes" />
                  Show private types
               </label>
               <label>
                  <input type="checkbox" id="showPrivateInterfaces" />
                  Show private interfaces
               </label>
            </div>
         </div>

         <div class="section-divider"></div>

         <div class="filter-section">
            <h3>Subpackages</h3>
            
            <div class="empty-state">No subpackages</div>
            
         </div>

         
         <div class="section-divider"></div>

         <div class="toc">
            <h4>Quick Navigation</h4>
            <ul>
               
               <li><a href="#globals">Constants & Variables</a></li>
                 
               <li><a href="#interfaces">Interfaces</a></li>
                
               <li><a href="#structs">Structs</a></li>
                
               <li><a href="#functions">Functions</a></li>
               
            </ul>
         </div>

         <div class="filter-section">
            <h3>All Symbols</h3>
            <div class="symbol-list">
               <ul id="symbolIndex">
               </ul>
            </div>
         </div>
         
      </aside>

      <main>
         <h1>codehost</h1>
         <div class="section-divider"></div>

         
         <section id="imports">
            <h2>Imports</h2>
            <article class="imports symbol-anchor" id="imports-section" data-name="imports">
               <h3>
                  Imports
                  <a href="#imports-section" class="anchor" title="Link to imports">#</a>
               </h3>
               <pre><code class="language-go">"archive/zip"
"context"
"encoding/xml"
"fmt"
"io"
"os"
"path"
"path/filepath"
"strconv"
"time"
"cmd/go/internal/base"
"context"
"errors"
"fmt"
"internal/lazyregexp"
"io"
"io/fs"
"os"
"path/filepath"
"sort"
"strconv"
"strings"
"sync"
"time"
"cmd/go/internal/base"
"cmd/go/internal/lockedfile"
"cmd/go/internal/str"
"cmd/internal/par"
"bytes"
"context"
"crypto/sha256"
"fmt"
"io"
"io/fs"
"os"
"os/exec"
"path/filepath"
"strings"
"sync"
"time"
"cmd/go/internal/cfg"
"cmd/go/internal/lockedfile"
"cmd/go/internal/str"
"golang.org/x/mod/module"
"golang.org/x/mod/semver"
"bytes"
"context"
"crypto/sha256"
"encoding/base64"
"errors"
"fmt"
"io"
"io/fs"
"net/url"
"os"
"os/exec"
"path/filepath"
"runtime"
"slices"
"sort"
"strconv"
"strings"
"sync"
"time"
"cmd/go/internal/base"
"cmd/go/internal/lockedfile"
"cmd/go/internal/web"
"cmd/internal/par"
"golang.org/x/mod/semver"
</code></pre>
            </article>
         </section>
          
         <section id="globals">
            <h2>Constants & Variables</h2>
            
            <article class="global symbol-anchor" id="ErrNoCommits" data-name="ErrNoCommits">
               <h3>
                  ErrNoCommits 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#ErrNoCommits" class="anchor" title="Link to ErrNoCommits">#</a>
               </h3>
               
                  <p class="doc-comment">ErrNoCommits is an error equivalent to fs.ErrNotExist indicating that a given
repository or module contains no commits.</p>
               
               <pre><code class="language-go">var ErrNoCommits error = noCommitsError{...}</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="MaxGoMod" data-name="MaxGoMod">
               <h3>
                  MaxGoMod 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#MaxGoMod" class="anchor" title="Link to MaxGoMod">#</a>
               </h3>
               
                  <p class="doc-comment">Downloaded size limits.</p>
               
               <pre><code class="language-go">const MaxGoMod = *ast.BinaryExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="MaxLICENSE" data-name="MaxLICENSE">
               <h3>
                  MaxLICENSE 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#MaxLICENSE" class="anchor" title="Link to MaxLICENSE">#</a>
               </h3>
               
                  <p class="doc-comment">Downloaded size limits.</p>
               
               <pre><code class="language-go">const MaxLICENSE = *ast.BinaryExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="MaxZipFile" data-name="MaxZipFile">
               <h3>
                  MaxZipFile 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#MaxZipFile" class="anchor" title="Link to MaxZipFile">#</a>
               </h3>
               
                  <p class="doc-comment">Downloaded size limits.</p>
               
               <pre><code class="language-go">const MaxZipFile = *ast.BinaryExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="bashQuoter" data-name="bashQuoter">
               <h3>
                  bashQuoter 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#bashQuoter" class="anchor" title="Link to bashQuoter">#</a>
               </h3>
               
                  <p class="doc-comment">bashQuoter escapes characters that have special meaning in double-quoted strings in the bash shell.
See https://www.gnu.org/software/bash/manual/html_node/Double-Quotes.html.</p>
               
               <pre><code class="language-go">var bashQuoter = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="dirLock" data-name="dirLock">
               <h3>
                  dirLock 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#dirLock" class="anchor" title="Link to dirLock">#</a>
               </h3>
               
               <pre><code class="language-go">var dirLock sync.Map</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="fetchAll" data-name="fetchAll">
               <h3>
                  fetchAll 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#fetchAll" class="anchor" title="Link to fetchAll">#</a>
               </h3>
               
               <pre><code class="language-go">const fetchAll</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="fetchNone" data-name="fetchNone">
               <h3>
                  fetchNone 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#fetchNone" class="anchor" title="Link to fetchNone">#</a>
               </h3>
               
                  <p class="doc-comment">How much have we fetched into the git repo (in this process)?</p>
               
               <pre><code class="language-go">const fetchNone = iota</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="fetchSome" data-name="fetchSome">
               <h3>
                  fetchSome 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#fetchSome" class="anchor" title="Link to fetchSome">#</a>
               </h3>
               
               <pre><code class="language-go">const fetchSome</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="gitWorkDirType" data-name="gitWorkDirType">
               <h3>
                  gitWorkDirType 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#gitWorkDirType" class="anchor" title="Link to gitWorkDirType">#</a>
               </h3>
               
               <pre><code class="language-go">const gitWorkDirType = "git3"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="minHashDigits" data-name="minHashDigits">
               <h3>
                  minHashDigits 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#minHashDigits" class="anchor" title="Link to minHashDigits">#</a>
               </h3>
               
                  <p class="doc-comment">minHashDigits is the minimum number of digits to require
before accepting a hex digit sequence as potentially identifying
a specific commit in a git repo. (Of course, users can always
specify more digits, and many will paste in all 40 digits,
but many of git's commands default to printing short hashes
as 7 digits.)</p>
               
               <pre><code class="language-go">const minHashDigits = 7</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="re" data-name="re">
               <h3>
                  re 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#re" class="anchor" title="Link to re">#</a>
               </h3>
               
               <pre><code class="language-go">var re = lazyregexp.New</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="vcsCmds" data-name="vcsCmds">
               <h3>
                  vcsCmds 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#vcsCmds" class="anchor" title="Link to vcsCmds">#</a>
               </h3>
               
               <pre><code class="language-go">var vcsCmds = map[string]*vcsCmd{...}</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="vcsRepoCache" data-name="vcsRepoCache">
               <h3>
                  vcsRepoCache 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#vcsRepoCache" class="anchor" title="Link to vcsRepoCache">#</a>
               </h3>
               
               <pre><code class="language-go">var vcsRepoCache *ast.IndexListExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="vcsWorkDirType" data-name="vcsWorkDirType">
               <h3>
                  vcsWorkDirType 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#vcsWorkDirType" class="anchor" title="Link to vcsWorkDirType">#</a>
               </h3>
               
               <pre><code class="language-go">const vcsWorkDirType = "vcs1."</code></pre>
            </article>
            
         </section>
           
         <section id="interfaces">
            <h2>Interfaces</h2>
            
            <article class="interface symbol-anchor" id="Repo" data-name="Repo">
               <h3>
                  Repo
                  <span class="badge interface-badge">interface</span>
                  <a href="#Repo" class="anchor" title="Link to Repo">#</a>
               </h3>
               
               <p>A Repo represents a code hosting source.
Typical implementations include local version control repositories,
remote version control servers, and code hosting sites.
A Repo must be safe for simultaneous use by multiple goroutines,
and callers must not modify returned values, which may be cached and shared.</p>
               
               <pre
                  class="methods-block"
               ><code class="methods-code language-go">type Repo interface {
CheckReuse(ctx context.Context, old *Origin, subdir string) error
Tags(ctx context.Context, prefix string) (*Tags, error)
Stat(ctx context.Context, rev string) (*RevInfo, error)
Latest(ctx context.Context) (*RevInfo, error)
ReadFile(ctx context.Context, rev string, file string, maxSize int64) (data []byte, err error)
ReadZip(ctx context.Context, rev string, subdir string, maxSize int64) (zip io.ReadCloser, err error)
RecentTag(ctx context.Context, rev string, prefix string, allowed func(tag string) bool) (tag string, err error)
DescendsFrom(ctx context.Context, rev string, tag string) (bool, error)
}</code></pre>
            </article>
            
         </section>
          
         <section id="structs">
            <h2>Structs</h2>
            
            <article class="struct symbol-anchor" id="Origin" data-name="Origin">
               <h3>
                  Origin
                  <span class="badge">struct</span>
                  <a href="#Origin" class="anchor" title="Link to Origin">#</a>
               </h3>
               
               <p>An Origin describes the provenance of a given repo method result.
It can be passed to CheckReuse (usually in a different go command invocation)
to see whether the result remains up-to-date.</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type Origin struct {
VCS string `json:",omitempty"`
URL string `json:",omitempty"`
Subdir string `json:",omitempty"`
Hash string `json:",omitempty"`
TagPrefix string `json:",omitempty"`
TagSum string `json:",omitempty"`
Ref string `json:",omitempty"`
RepoSum string `json:",omitempty"`
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="RevInfo" data-name="RevInfo">
               <h3>
                  RevInfo
                  <span class="badge">struct</span>
                  <a href="#RevInfo" class="anchor" title="Link to RevInfo">#</a>
               </h3>
               
               <p>A RevInfo describes a single revision in a source code repository.</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type RevInfo struct {
Origin *Origin
Name string
Short string
Version string
Time time.Time
Tags []string
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="RunArgs" data-name="RunArgs">
               <h3>
                  RunArgs
                  <span class="badge">struct</span>
                  <a href="#RunArgs" class="anchor" title="Link to RunArgs">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type RunArgs struct {
cmdline []any
dir string
local bool
env []string
stdin io.Reader
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="RunError" data-name="RunError">
               <h3>
                  RunError
                  <span class="badge">struct</span>
                  <a href="#RunError" class="anchor" title="Link to RunError">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type RunError struct {
Cmd string
Err error
Stderr []byte
HelpText string
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="Tag" data-name="Tag">
               <h3>
                  Tag
                  <span class="badge">struct</span>
                  <a href="#Tag" class="anchor" title="Link to Tag">#</a>
               </h3>
               
               <p>A Tag describes a single tag in a code repository.</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type Tag struct {
Name string
Hash string
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="Tags" data-name="Tags">
               <h3>
                  Tags
                  <span class="badge">struct</span>
                  <a href="#Tags" class="anchor" title="Link to Tags">#</a>
               </h3>
               
               <p>A Tags describes the available tags in a code repository.</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type Tags struct {
Origin *Origin
List []Tag
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="UnknownRevisionError" data-name="UnknownRevisionError">
               <h3>
                  UnknownRevisionError
                  <span class="badge">struct</span>
                  <a href="#UnknownRevisionError" class="anchor" title="Link to UnknownRevisionError">#</a>
               </h3>
               
               <p>UnknownRevisionError is an error equivalent to fs.ErrNotExist, but for a
revision rather than a file.</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type UnknownRevisionError struct {
Rev string
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="VCSError" data-name="VCSError">
               <h3>
                  VCSError
                  <span class="badge">struct</span>
                  <a href="#VCSError" class="anchor" title="Link to VCSError">#</a>
               </h3>
               
               <p>A VCSError indicates an error using a version control system.
The implication of a VCSError is that we know definitively where
to get the code, but we can't access it due to the error.
The caller should report this error instead of continuing to probe
other possible module paths.
TODO(golang.org/issue/31730): See if we can invert this. (Return a
distinguished error for “repo not found” and treat everything else
as terminal.)</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type VCSError struct {
Err error
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="deleteCloser" data-name="deleteCloser">
               <h3>
                  deleteCloser
                  <span class="badge">struct</span>
                  <a href="#deleteCloser" class="anchor" title="Link to deleteCloser">#</a>
               </h3>
               
               <p>deleteCloser is a file that gets deleted on Close.</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type deleteCloser struct {
*os.File
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="gitRepo" data-name="gitRepo">
               <h3>
                  gitRepo
                  <span class="badge">struct</span>
                  <a href="#gitRepo" class="anchor" title="Link to gitRepo">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type gitRepo struct {
ctx context.Context
remote string
remoteURL string
local bool
dir string
mu lockedfile.Mutex
fetchLevel int
statCache *ast.IndexListExpr
refsOnce sync.Once
refs map[string]string
refsErr error
localTagsOnce sync.Once
localTags sync.Map
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="limitedWriter" data-name="limitedWriter">
               <h3>
                  limitedWriter
                  <span class="badge">struct</span>
                  <a href="#limitedWriter" class="anchor" title="Link to limitedWriter">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type limitedWriter struct {
W io.Writer
N int64
ErrLimitReached error
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="noCommitsError" data-name="noCommitsError">
               <h3>
                  noCommitsError
                  <span class="badge">struct</span>
                  <a href="#noCommitsError" class="anchor" title="Link to noCommitsError">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type noCommitsError struct {

}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="notExistError" data-name="notExistError">
               <h3>
                  notExistError
                  <span class="badge">struct</span>
                  <a href="#notExistError" class="anchor" title="Link to notExistError">#</a>
               </h3>
               
               <p>A notExistError wraps another error to retain its original text
but makes it opaquely equivalent to fs.ErrNotExist.</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type notExistError struct {
err error
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="vcsCacheKey" data-name="vcsCacheKey">
               <h3>
                  vcsCacheKey
                  <span class="badge">struct</span>
                  <a href="#vcsCacheKey" class="anchor" title="Link to vcsCacheKey">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type vcsCacheKey struct {
vcs string
remote string
local bool
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="vcsCmd" data-name="vcsCmd">
               <h3>
                  vcsCmd
                  <span class="badge">struct</span>
                  <a href="#vcsCmd" class="anchor" title="Link to vcsCmd">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type vcsCmd struct {
vcs string
init func(remote string) []string
tags func(remote string) []string
tagRE *lazyregexp.Regexp
branches func(remote string) []string
branchRE *lazyregexp.Regexp
badLocalRevRE *lazyregexp.Regexp
statLocal func(rev string, remote string) []string
parseStat func(rev string, out string) (*RevInfo, error)
fetch []string
latest string
readFile func(rev string, file string, remote string) []string
readZip func(rev string, subdir string, remote string, target string) []string
doReadZip func(ctx context.Context, dst io.Writer, workDir string, rev string, subdir string, remote string) error
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="vcsRepo" data-name="vcsRepo">
               <h3>
                  vcsRepo
                  <span class="badge">struct</span>
                  <a href="#vcsRepo" class="anchor" title="Link to vcsRepo">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type vcsRepo struct {
mu lockedfile.Mutex
remote string
cmd *vcsCmd
dir string
local bool
tagsOnce sync.Once
tags map[string]bool
branchesOnce sync.Once
branches map[string]bool
fetchOnce sync.Once
fetchErr error
}</code></pre>
            </article>
            
         </section>
          
         <section id="functions">
            <h2>Functions</h2>
            
            <article class="function symbol-anchor" id="AllHex" data-name="AllHex">
               <h3>
                  AllHex 
                  <span class="badge">function</span>
                  
                  <a href="#AllHex" class="anchor" title="Link to AllHex">#</a>
               </h3>
               
               <p>AllHex reports whether the revision rev is entirely lower-case hexadecimal digits.</p>
               
               <pre><code class="language-go">func AllHex(rev string) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="CheckReuse" data-name="CheckReuse">
               <h3>
                  CheckReuse 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#CheckReuse" class="anchor" title="Link to CheckReuse">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *gitRepo) CheckReuse(ctx context.Context, old *Origin, subdir string) error</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="CheckReuse" data-name="CheckReuse">
               <h3>
                  CheckReuse 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#CheckReuse" class="anchor" title="Link to CheckReuse">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *vcsRepo) CheckReuse(ctx context.Context, old *Origin, subdir string) error</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Close" data-name="Close">
               <h3>
                  Close 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Close" class="anchor" title="Link to Close">#</a>
               </h3>
               
               <pre><code class="language-go">func (d *deleteCloser) Close() error</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="DescendsFrom" data-name="DescendsFrom">
               <h3>
                  DescendsFrom 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#DescendsFrom" class="anchor" title="Link to DescendsFrom">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *vcsRepo) DescendsFrom(ctx context.Context, rev string, tag string) (bool, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="DescendsFrom" data-name="DescendsFrom">
               <h3>
                  DescendsFrom 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#DescendsFrom" class="anchor" title="Link to DescendsFrom">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *gitRepo) DescendsFrom(ctx context.Context, rev string, tag string) (bool, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Error" data-name="Error">
               <h3>
                  Error 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Error" class="anchor" title="Link to Error">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *RunError) Error() string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Error" data-name="Error">
               <h3>
                  Error 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Error" class="anchor" title="Link to Error">#</a>
               </h3>
               
               <pre><code class="language-go">func (e notExistError) Error() string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Error" data-name="Error">
               <h3>
                  Error 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Error" class="anchor" title="Link to Error">#</a>
               </h3>
               
               <pre><code class="language-go">func (noCommitsError) Error() string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Error" data-name="Error">
               <h3>
                  Error 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Error" class="anchor" title="Link to Error">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *UnknownRevisionError) Error() string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Error" data-name="Error">
               <h3>
                  Error 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Error" class="anchor" title="Link to Error">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *VCSError) Error() string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Is" data-name="Is">
               <h3>
                  Is 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Is" class="anchor" title="Link to Is">#</a>
               </h3>
               
               <pre><code class="language-go">func (notExistError) Is(err error) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Is" data-name="Is">
               <h3>
                  Is 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Is" class="anchor" title="Link to Is">#</a>
               </h3>
               
               <pre><code class="language-go">func (noCommitsError) Is(err error) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Is" data-name="Is">
               <h3>
                  Is 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Is" class="anchor" title="Link to Is">#</a>
               </h3>
               
               <pre><code class="language-go">func (UnknownRevisionError) Is(err error) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Latest" data-name="Latest">
               <h3>
                  Latest 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Latest" class="anchor" title="Link to Latest">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *gitRepo) Latest(ctx context.Context) (*RevInfo, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Latest" data-name="Latest">
               <h3>
                  Latest 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Latest" class="anchor" title="Link to Latest">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *vcsRepo) Latest(ctx context.Context) (*RevInfo, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="NewRepo" data-name="NewRepo">
               <h3>
                  NewRepo 
                  <span class="badge">function</span>
                  
                  <a href="#NewRepo" class="anchor" title="Link to NewRepo">#</a>
               </h3>
               
               <pre><code class="language-go">func NewRepo(ctx context.Context, vcs string, remote string, local bool) (Repo, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="ReadFile" data-name="ReadFile">
               <h3>
                  ReadFile 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#ReadFile" class="anchor" title="Link to ReadFile">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *vcsRepo) ReadFile(ctx context.Context, rev string, file string, maxSize int64) ([]byte, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="ReadFile" data-name="ReadFile">
               <h3>
                  ReadFile 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#ReadFile" class="anchor" title="Link to ReadFile">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *gitRepo) ReadFile(ctx context.Context, rev string, file string, maxSize int64) ([]byte, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="ReadZip" data-name="ReadZip">
               <h3>
                  ReadZip 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#ReadZip" class="anchor" title="Link to ReadZip">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *gitRepo) ReadZip(ctx context.Context, rev string, subdir string, maxSize int64) (zip io.ReadCloser, err error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="ReadZip" data-name="ReadZip">
               <h3>
                  ReadZip 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#ReadZip" class="anchor" title="Link to ReadZip">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *vcsRepo) ReadZip(ctx context.Context, rev string, subdir string, maxSize int64) (zip io.ReadCloser, err error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="RecentTag" data-name="RecentTag">
               <h3>
                  RecentTag 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#RecentTag" class="anchor" title="Link to RecentTag">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *vcsRepo) RecentTag(ctx context.Context, rev string, prefix string, allowed func(string) bool) (tag string, err error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="RecentTag" data-name="RecentTag">
               <h3>
                  RecentTag 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#RecentTag" class="anchor" title="Link to RecentTag">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *gitRepo) RecentTag(ctx context.Context, rev string, prefix string, allowed func(tag string) bool) (tag string, err error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Run" data-name="Run">
               <h3>
                  Run 
                  <span class="badge">function</span>
                  
                  <a href="#Run" class="anchor" title="Link to Run">#</a>
               </h3>
               
               <p>Run runs the command line in the given directory
(an empty dir means the current directory).
It returns the standard output and, for a non-zero exit,
a *RunError indicating the command, exit status, and standard error.
Standard error is unavailable for commands that exit successfully.</p>
               
               <pre><code class="language-go">func Run(ctx context.Context, dir string, cmdline ...any) ([]byte, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="RunWithArgs" data-name="RunWithArgs">
               <h3>
                  RunWithArgs 
                  <span class="badge">function</span>
                  
                  <a href="#RunWithArgs" class="anchor" title="Link to RunWithArgs">#</a>
               </h3>
               
               <p>RunWithArgs is the same as Run but it also accepts additional arguments.</p>
               
               <pre><code class="language-go">func RunWithArgs(ctx context.Context, args RunArgs) ([]byte, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="ShortenSHA1" data-name="ShortenSHA1">
               <h3>
                  ShortenSHA1 
                  <span class="badge">function</span>
                  
                  <a href="#ShortenSHA1" class="anchor" title="Link to ShortenSHA1">#</a>
               </h3>
               
               <p>ShortenSHA1 shortens a SHA1 hash (40 hex digits) to the canonical length
used in pseudo-versions (12 hex digits).</p>
               
               <pre><code class="language-go">func ShortenSHA1(rev string) string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Stat" data-name="Stat">
               <h3>
                  Stat 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Stat" class="anchor" title="Link to Stat">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *gitRepo) Stat(ctx context.Context, rev string) (*RevInfo, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Stat" data-name="Stat">
               <h3>
                  Stat 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Stat" class="anchor" title="Link to Stat">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *vcsRepo) Stat(ctx context.Context, rev string) (*RevInfo, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Tags" data-name="Tags">
               <h3>
                  Tags 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Tags" class="anchor" title="Link to Tags">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *vcsRepo) Tags(ctx context.Context, prefix string) (*Tags, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Tags" data-name="Tags">
               <h3>
                  Tags 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Tags" class="anchor" title="Link to Tags">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *gitRepo) Tags(ctx context.Context, prefix string) (*Tags, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Unwrap" data-name="Unwrap">
               <h3>
                  Unwrap 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Unwrap" class="anchor" title="Link to Unwrap">#</a>
               </h3>
               
               <pre><code class="language-go">func (e *VCSError) Unwrap() error</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="WorkDir" data-name="WorkDir">
               <h3>
                  WorkDir 
                  <span class="badge">function</span>
                  
                  <a href="#WorkDir" class="anchor" title="Link to WorkDir">#</a>
               </h3>
               
               <p>WorkDir returns the name of the cached work directory to use for the
given repository type and name.</p>
               
               <pre><code class="language-go">func WorkDir(ctx context.Context, typ string, name string) (dir string, lockfile string, err error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="Write" data-name="Write">
               <h3>
                  Write 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#Write" class="anchor" title="Link to Write">#</a>
               </h3>
               
               <pre><code class="language-go">func (l *limitedWriter) Write(p []byte) (n int, err error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="bzrParseStat" data-name="bzrParseStat">
               <h3>
                  bzrParseStat 
                  <span class="badge">function</span>
                  
                  <a href="#bzrParseStat" class="anchor" title="Link to bzrParseStat">#</a>
               </h3>
               
               <pre><code class="language-go">func bzrParseStat(rev string, out string) (*RevInfo, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="ensureGitAttributes" data-name="ensureGitAttributes">
               <h3>
                  ensureGitAttributes 
                  <span class="badge">function</span>
                  
                  <a href="#ensureGitAttributes" class="anchor" title="Link to ensureGitAttributes">#</a>
               </h3>
               
               <p>ensureGitAttributes makes sure export-subst and export-ignore features are
disabled for this repo. This is intended to be run prior to running git
archive so that zip files are generated that produce consistent ziphashes
for a given revision, independent of variables such as git version and the
size of the repo.
See: https://github.com/golang/go/issues/27153</p>
               
               <pre><code class="language-go">func ensureGitAttributes(repoDir string) (err error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="fetch" data-name="fetch">
               <h3>
                  fetch 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#fetch" class="anchor" title="Link to fetch">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *vcsRepo) fetch(ctx context.Context)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="fetchRefsLocked" data-name="fetchRefsLocked">
               <h3>
                  fetchRefsLocked 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#fetchRefsLocked" class="anchor" title="Link to fetchRefsLocked">#</a>
               </h3>
               
               <p>fetchRefsLocked fetches all heads and tags from the origin, along with the
ancestors of those commits.
We only fetch heads and tags, not arbitrary other commits: we don't want to
pull in off-branch commits (such as rejected GitHub pull requests) that the
server may be willing to provide. (See the comments within the stat method
for more detail.)
fetchRefsLocked requires that r.mu remain locked for the duration of the call.</p>
               
               <pre><code class="language-go">func (r *gitRepo) fetchRefsLocked(ctx context.Context) error</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="findRef" data-name="findRef">
               <h3>
                  findRef 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#findRef" class="anchor" title="Link to findRef">#</a>
               </h3>
               
               <p>findRef finds some ref name for the given hash,
for use when the server requires giving a ref instead of a hash.
There may be multiple ref names for a given hash,
in which case this returns some name - it doesn't matter which.</p>
               
               <pre><code class="language-go">func (r *gitRepo) findRef(ctx context.Context, hash string) (ref string, ok bool)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="fossilParseStat" data-name="fossilParseStat">
               <h3>
                  fossilParseStat 
                  <span class="badge">function</span>
                  
                  <a href="#fossilParseStat" class="anchor" title="Link to fossilParseStat">#</a>
               </h3>
               
               <pre><code class="language-go">func fossilParseStat(rev string, out string) (*RevInfo, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="hgParseStat" data-name="hgParseStat">
               <h3>
                  hgParseStat 
                  <span class="badge">function</span>
                  
                  <a href="#hgParseStat" class="anchor" title="Link to hgParseStat">#</a>
               </h3>
               
               <pre><code class="language-go">func hgParseStat(rev string, out string) (*RevInfo, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="isOriginTag" data-name="isOriginTag">
               <h3>
                  isOriginTag 
                  <span class="badge">function</span>
                  
                  <a href="#isOriginTag" class="anchor" title="Link to isOriginTag">#</a>
               </h3>
               
               <p>isOriginTag reports whether tag should be preserved
in the Tags method's Origin calculation.
We can safely ignore tags that are not look like pseudo-versions,
because ../coderepo.go's (*codeRepo).Versions ignores them too.
We can also ignore non-semver tags, but we have to include semver
tags with extra suffixes, because the pseudo-version base finder uses them.</p>
               
               <pre><code class="language-go">func isOriginTag(tag string) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="loadBranches" data-name="loadBranches">
               <h3>
                  loadBranches 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#loadBranches" class="anchor" title="Link to loadBranches">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *vcsRepo) loadBranches(ctx context.Context)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="loadLocalTags" data-name="loadLocalTags">
               <h3>
                  loadLocalTags 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#loadLocalTags" class="anchor" title="Link to loadLocalTags">#</a>
               </h3>
               
               <p>loadLocalTags loads tag references from the local git cache
into the map r.localTags.</p>
               
               <pre><code class="language-go">func (r *gitRepo) loadLocalTags(ctx context.Context)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="loadRefs" data-name="loadRefs">
               <h3>
                  loadRefs 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#loadRefs" class="anchor" title="Link to loadRefs">#</a>
               </h3>
               
               <p>loadRefs loads heads and tags references from the remote into the map r.refs.
The result is cached in memory.</p>
               
               <pre><code class="language-go">func (r *gitRepo) loadRefs(ctx context.Context) (map[string]string, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="loadTags" data-name="loadTags">
               <h3>
                  loadTags 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#loadTags" class="anchor" title="Link to loadTags">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *vcsRepo) loadTags(ctx context.Context)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="newGitRepo" data-name="newGitRepo">
               <h3>
                  newGitRepo 
                  <span class="badge">function</span>
                  
                  <a href="#newGitRepo" class="anchor" title="Link to newGitRepo">#</a>
               </h3>
               
               <pre><code class="language-go">func newGitRepo(ctx context.Context, remote string, local bool) (Repo, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="newVCSRepo" data-name="newVCSRepo">
               <h3>
                  newVCSRepo 
                  <span class="badge">function</span>
                  
                  <a href="#newVCSRepo" class="anchor" title="Link to newVCSRepo">#</a>
               </h3>
               
               <pre><code class="language-go">func newVCSRepo(ctx context.Context, vcs string, remote string, local bool) (Repo, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="repoSum" data-name="repoSum">
               <h3>
                  repoSum 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#repoSum" class="anchor" title="Link to repoSum">#</a>
               </h3>
               
               <p>repoSum returns a checksum of the entire repo state,
which can be checked (as Origin.RepoSum) to cache
the absence of a specific module version.
The caller must supply refs, the result of a successful r.loadRefs.</p>
               
               <pre><code class="language-go">func (r *gitRepo) repoSum(refs map[string]string) string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="run" data-name="run">
               <h3>
                  run 
                  <span class="badge">function</span>
                  
                  <a href="#run" class="anchor" title="Link to run">#</a>
               </h3>
               
               <pre><code class="language-go">func run(ctx context.Context, args RunArgs) ([]byte, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="runGit" data-name="runGit">
               <h3>
                  runGit 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#runGit" class="anchor" title="Link to runGit">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *gitRepo) runGit(ctx context.Context, cmdline ...any) ([]byte, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="stat" data-name="stat">
               <h3>
                  stat 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#stat" class="anchor" title="Link to stat">#</a>
               </h3>
               
               <p>stat stats the given rev in the local repository,
or else it fetches more info from the remote repository and tries again.</p>
               
               <pre><code class="language-go">func (r *gitRepo) stat(ctx context.Context, rev string) (info *RevInfo, err error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="statLocal" data-name="statLocal">
               <h3>
                  statLocal 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#statLocal" class="anchor" title="Link to statLocal">#</a>
               </h3>
               
               <pre><code class="language-go">func (r *vcsRepo) statLocal(ctx context.Context, rev string) (*RevInfo, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="statLocal" data-name="statLocal">
               <h3>
                  statLocal 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#statLocal" class="anchor" title="Link to statLocal">#</a>
               </h3>
               
               <p>statLocal returns a new RevInfo describing rev in the local git repository.
It uses version as info.Version.</p>
               
               <pre><code class="language-go">func (r *gitRepo) statLocal(ctx context.Context, version string, rev string) (*RevInfo, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="svnParseStat" data-name="svnParseStat">
               <h3>
                  svnParseStat 
                  <span class="badge">function</span>
                  
                  <a href="#svnParseStat" class="anchor" title="Link to svnParseStat">#</a>
               </h3>
               
               <pre><code class="language-go">func svnParseStat(rev string, out string) (*RevInfo, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="svnReadZip" data-name="svnReadZip">
               <h3>
                  svnReadZip 
                  <span class="badge">function</span>
                  
                  <a href="#svnReadZip" class="anchor" title="Link to svnReadZip">#</a>
               </h3>
               
               <pre><code class="language-go">func svnReadZip(ctx context.Context, dst io.Writer, workDir string, rev string, subdir string, remote string) (err error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="unknownRevisionInfo" data-name="unknownRevisionInfo">
               <h3>
                  unknownRevisionInfo 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#unknownRevisionInfo" class="anchor" title="Link to unknownRevisionInfo">#</a>
               </h3>
               
               <p>unknownRevisionInfo returns a RevInfo containing an Origin containing a RepoSum of refs,
for use when returning an UnknownRevisionError.</p>
               
               <pre><code class="language-go">func (r *gitRepo) unknownRevisionInfo(refs map[string]string) *RevInfo</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="vcsErrorf" data-name="vcsErrorf">
               <h3>
                  vcsErrorf 
                  <span class="badge">function</span>
                  
                  <a href="#vcsErrorf" class="anchor" title="Link to vcsErrorf">#</a>
               </h3>
               
               <pre><code class="language-go">func vcsErrorf(format string, a ...any) error</code></pre>
            </article>
            
         </section>
         
         <hr />
         <p style="color:grey; font-size:smaller">Generated with <a href="https://github.com/navid-m/arrow" target="_blank" style="color:rgb(187, 186, 186)">Arrow</a></p>
      </main>

      <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

      <script>
         function updateSectionVisibility() {
            document.querySelectorAll("section").forEach(section => {
               const visibleArticles = section.querySelectorAll("article:not(.hidden)");
               const header = section.querySelector("h2");
               if (header) {
                  if (visibleArticles.length === 0) {
                     section.classList.add("hidden");
                  } else {
                     section.classList.remove("hidden");
                  }
               }
            });
         }

         document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('p').forEach(el => {
               const raw = el.textContent;
               const parts = raw.split(/(?<=\w)(?<!(?:\.\w))\.(?=\s|$)/);
               const sentences = parts.map((frag, i) => {
               return (i < parts.length - 1 ? frag + '.' : frag).trim();
               }).filter(s => s.length > 0);
               let html = '';
               sentences.forEach((sent, idx) => {
                  html += sent;
                  html += ((idx + 1) % 2 === 0) ? '<br/>' : ' ';
               });
               if (sentences.length > 1) {
                  el.innerHTML = html.trim();
               }
            });
         });

         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }

         function buildSymbolIndex() {
            const symbolIndex = document.getElementById('symbolIndex');
            if (!symbolIndex) return;

            const symbols = [];
            
            document.querySelectorAll('article[data-name]').forEach(article => {
               const name = article.dataset.name;
               const type = article.className.split(' ')[0]; 
               const isPrivateSymbol = isPrivate(name);
               
               if (name && name !== 'imports') {
                  symbols.push({
                     name,
                     type,
                     element: article,
                     isPrivate: isPrivateSymbol
                  });
               }
            });

            symbols.sort((a, b) => a.name.localeCompare(b.name));
            symbolIndex.innerHTML = '';
            symbols.forEach(symbol => {
               const li = document.createElement('li');
               const a = document.createElement('a');
               a.href = `#${symbol.name}`;
               a.textContent = symbol.name;
               a.title = `${symbol.type}: ${symbol.name}`;
               
               if (symbol.isPrivate) {
                  li.classList.add('private', 'hidden');
               }
               
               li.appendChild(a);
               symbolIndex.appendChild(li);
            });
         }

         document.addEventListener("DOMContentLoaded", () => {
            if (window.Prism) {
               Prism.highlightAll();
            }

            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               imports: document.getElementById("showImports"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
               types: document.getElementById("showPrivateTypes"),
               interfaces: document.getElementById(
                  "showPrivateInterfaces"
               ),
            };

            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });

               if (toggle) {
                  toggle.addEventListener("change", () => {
                     const show = toggle.checked;
                     document
                        .querySelectorAll(`${selector}.private`)
                        .forEach((el) => {
                           el.classList.toggle("hidden", !show);
                        });
                     
                     const symbolIndexItems = document.querySelectorAll('#symbolIndex li.private');
                     symbolIndexItems.forEach(li => {
                        const link = li.querySelector('a');
                        if (link) {
                           const targetId = link.getAttribute('href').substring(1);
                           const targetEl = document.getElementById(targetId);
                           if (targetEl && targetEl.matches(selector)) {
                              li.classList.toggle("hidden", !show);
                           }
                        }
                     });
                     updateSectionVisibility();
                  });
               }
            };

            hideInitial("article.imports", toggles.imports); updateSectionVisibility();
            hideInitial("article.function", toggles.functions); updateSectionVisibility();
            hideInitial("article.struct", toggles.structs); updateSectionVisibility();
            hideInitial("article.global", toggles.globals); updateSectionVisibility();
            hideInitial("article.type", toggles.types); updateSectionVisibility();
            hideInitial("article.interface", toggles.interfaces); updateSectionVisibility();

            document.querySelectorAll("article.struct").forEach((article) => {
               const codeBlock = article.querySelector("code.fields-code");
               if (!codeBlock) return;

               const raw = codeBlock.textContent.trim();
               const match = raw.match(/^type\s+\w+\s+struct\s*{(.*)}$/s);
               if (!match) return;

               const fieldsRaw = match[1].trim();
               const fields = fieldsRaw.split("\n").map(line => line.trim()).filter(Boolean);
               const formatted = fields.map(line => `\t${line}`).join("\n");
               const structName = article.dataset.name;
               const finalCode = `type ${structName} struct {\n${formatted}\n}`;

               codeBlock.textContent = finalCode;

               if (window.Prism) Prism.highlightElement(codeBlock);

               if (toggles.fields) {
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               }
            });

            document
               .querySelectorAll("article.interface")
               .forEach((article) => {
                  const codeBlock = article.querySelector(
                     "code.methods-code"
                  );
                  if (!codeBlock) return;

                  const lines = codeBlock.innerHTML.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch && !trimmed.endsWith("{") && trimmed != "}") {
                           return `<span class="method-line">${line}</span>`;
                        } else {
                           return ``;
                        }

                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class="method-line${
                           isPriv ? " hidden private" : ""
                        }" data-name="${name}">${line}</span><br />`;
                     })
                     .join("");

                  codeBlock.innerHTML = newContent;

                  if (window.Prism) {
                     Prism.highlightElement(codeBlock);
                  }

                  if (toggles.fields) {
                     toggles.fields.addEventListener("change", () => {
                        const show = toggles.fields.checked;
                        article
                           .querySelectorAll(".method-line.private")
                           .forEach((el) =>
                              el.classList.toggle("hidden", !show)
                           );
                     });
                  }
               });

            const searchInput = document.getElementById("searchInput");
            if (searchInput) {
               searchInput.addEventListener("input", () => {
                  const query = searchInput.value.trim().toLowerCase();

                  document.querySelectorAll("article").forEach((el) => {
                     const name = el.dataset.name;
                     if (!name) return;

                     const matches =
                        query === "" ||
                        name.toLowerCase().includes(query) ||
                        (el.textContent &&
                           el.textContent.toLowerCase().includes(query));

                     if (matches) {
                        const isPrivateEl =
                           el.classList.contains("private");
                        const shouldShowPrivate =
                           getPrivateToggleState(el);

                        if (!isPrivateEl || shouldShowPrivate) {
                           el.classList.remove("hidden");
                        }
                     } else {
                        el.classList.add("hidden");
                     }
                     updateSectionVisibility();
                  });

                  document.querySelectorAll('#symbolIndex li').forEach(li => {
                     const link = li.querySelector('a');
                     if (link) {
                        const symbolName = link.textContent.toLowerCase();
                        const matches = query === "" || symbolName.includes(query);
                        
                        if (matches) {
                           const isPrivateSymbol = li.classList.contains('private');
                           const targetId = link.getAttribute('href').substring(1);
                           const targetEl = document.getElementById(targetId);
                           const shouldShowPrivate = targetEl ? getPrivateToggleState(targetEl) : false;
                           
                           if (!isPrivateSymbol || shouldShowPrivate) {
                              li.style.display = '';
                           }
                        } else {
                           li.style.display = 'none';
                        }
                     }
                  });
               });
            }

            function getPrivateToggleState(element) {
               if (element.classList.contains("function")) {
                  return toggles.functions?.checked || false;
               } else if (element.classList.contains("struct")) {
                  return toggles.structs?.checked || false;
               } else if (element.classList.contains("global")) {
                  return toggles.globals?.checked || false;
               } else if (element.classList.contains("type")) {
                  return toggles.types?.checked || false;
               } else if (element.classList.contains("interface")) {
                  return toggles.interfaces?.checked || false;
               } else if (element.classList.contains("imports")) {
                  return toggles.imports?.checked || false;
               }
               return false;
            }

            buildSymbolIndex();

            document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
               anchor.addEventListener("click", function (e) {
                  const target = document.querySelector(
                     this.getAttribute("href")
                  );
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               });
            });

            window.addEventListener('hashchange', () => {
               const hash = window.location.hash;
               if (hash) {
                  const target = document.querySelector(hash);
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               }
            });

            if (window.location.hash) {
               setTimeout(() => {
                  const target = document.querySelector(window.location.hash);
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               }, 100);
            }
         });
      </script>
   </body>
</html>