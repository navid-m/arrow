<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - poll_test</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
         
         <span style="color: rgba(177, 175, 175, 0.5)">
            No subpackages
         </span>
         
      </aside>
      <main>
         <h1>
            Package
            <code>poll_test</code>
         </h1>
         <hr />
         
         <article class="global" data-name="closeHook">
            <h2>closeHook</h2>
            <hr />
            
            <pre><code>closeHook atomic.Value</code></pre>
         </article>
         
         <article class="global" data-name="eofErrorTests">
            <h2>eofErrorTests</h2>
            <hr />
            
            <pre><code>eofErrorTests</code></pre>
         </article>
         
         <article class="global" data-name="logMu">
            <h2>logMu</h2>
            <hr />
            
            <pre><code>logMu sync.Mutex</code></pre>
         </article>
         
         <article class="global" data-name="loggedFDs">
            <h2>loggedFDs</h2>
            <hr />
            
            <pre><code>loggedFDs *ast.MapType</code></pre>
         </article>
          
         <article class="struct" data-name="loggedFD">
            <h2>type loggedFD struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">Net string
FD *poll.FD
Err error</code></pre>
         </article>
         
         <article class="struct" data-name="_TCP_INFO_v0">
            <h2>type _TCP_INFO_v0 struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">State uint32
Mss uint32
ConnectionTimeMs uint64
TimestampsEnabled bool
RttUs uint32
MinRttUs uint32
BytesInFlight uint32
Cwnd uint32
SndWnd uint32
RcvWnd uint32
RcvBuf uint32
BytesOut uint64
BytesIn uint64
BytesReordered uint32
BytesRetrans uint32
FastRetrans uint32
DupAcksIn uint32
TimeoutEpisodes uint32
SynRetrans uint8</code></pre>
         </article>
          
         <article class="function" data-name="TestConsume">
            <h2>TestConsume</h2>
            <hr />
            
            <pre><code>func TestConsume(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="badStateFile">
            <h2>badStateFile</h2>
            <hr />
            
            <pre><code>func badStateFile() (*os.File, error)</code></pre>
         </article>
         
         <article class="function" data-name="isBadStateFileError">
            <h2>isBadStateFileError</h2>
            <hr />
            
            <pre><code>func isBadStateFileError(err error) (string, bool)</code></pre>
         </article>
         
         <article class="function" data-name="TestReadError">
            <h2>TestReadError</h2>
            <hr />
            
            <pre><code>func TestReadError(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="parseReadError">
            <h2>parseReadError</h2>
            <hr />
            
            <pre><code>func parseReadError(nestedErr error, verify func) error</code></pre>
         </article>
         
         <article class="function" data-name="init">
            <h2>init</h2>
            <hr />
            
            <pre><code>func init()</code></pre>
         </article>
         
         <article class="function" data-name="TestSplicePipePool">
            <h2>TestSplicePipePool</h2>
            <hr />
            
            <pre><code>func TestSplicePipePool(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="BenchmarkSplicePipe">
            <h2>BenchmarkSplicePipe</h2>
            <hr />
            
            <pre><code>func BenchmarkSplicePipe(b *testing.B)</code></pre>
         </article>
         
         <article class="function" data-name="BenchmarkSplicePipePoolParallel">
            <h2>BenchmarkSplicePipePoolParallel</h2>
            <hr />
            
            <pre><code>func BenchmarkSplicePipePoolParallel(b *testing.B)</code></pre>
         </article>
         
         <article class="function" data-name="BenchmarkSplicePipeNativeParallel">
            <h2>BenchmarkSplicePipeNativeParallel</h2>
            <hr />
            
            <pre><code>func BenchmarkSplicePipeNativeParallel(b *testing.B)</code></pre>
         </article>
         
         <article class="function" data-name="badStateFile">
            <h2>badStateFile</h2>
            <hr />
            
            <pre><code>func badStateFile() (*os.File, error)</code></pre>
         </article>
         
         <article class="function" data-name="isBadStateFileError">
            <h2>isBadStateFileError</h2>
            <hr />
            
            <pre><code>func isBadStateFileError(err error) (string, bool)</code></pre>
         </article>
         
         <article class="function" data-name="TestMutexLock">
            <h2>TestMutexLock</h2>
            <hr />
            
            <pre><code>func TestMutexLock(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestMutexClose">
            <h2>TestMutexClose</h2>
            <hr />
            
            <pre><code>func TestMutexClose(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestMutexCloseUnblock">
            <h2>TestMutexCloseUnblock</h2>
            <hr />
            
            <pre><code>func TestMutexCloseUnblock(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestMutexPanic">
            <h2>TestMutexPanic</h2>
            <hr />
            
            <pre><code>func TestMutexPanic(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestMutexOverflowPanic">
            <h2>TestMutexOverflowPanic</h2>
            <hr />
            
            <pre><code>func TestMutexOverflowPanic(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestMutexStress">
            <h2>TestMutexStress</h2>
            <hr />
            
            <pre><code>func TestMutexStress(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestEOFError">
            <h2>TestEOFError</h2>
            <hr />
            
            <pre><code>func TestEOFError(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="logFD">
            <h2>logFD</h2>
            <hr />
            
            <pre><code>func logFD(net string, fd *poll.FD, err error)</code></pre>
         </article>
         
         <article class="function" data-name="init">
            <h2>init</h2>
            <hr />
            
            <pre><code>func init()</code></pre>
         </article>
         
         <article class="function" data-name="findLoggedFD">
            <h2>findLoggedFD</h2>
            <hr />
            
            <pre><code>func findLoggedFD(h syscall.Handle) (lfd *loggedFD, found bool)</code></pre>
         </article>
         
         <article class="function" data-name="checkFileIsNotPartOfNetpoll">
            <h2>checkFileIsNotPartOfNetpoll</h2>
            <hr />
            
            <p>checkFileIsNotPartOfNetpoll verifies that f is not managed by netpoll.
It returns error, if check fails.</p>
            
            <pre><code>func checkFileIsNotPartOfNetpoll(f *os.File) error</code></pre>
         </article>
         
         <article class="function" data-name="TestFileFdsAreInitialised">
            <h2>TestFileFdsAreInitialised</h2>
            <hr />
            
            <pre><code>func TestFileFdsAreInitialised(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestSerialFdsAreInitialised">
            <h2>TestSerialFdsAreInitialised</h2>
            <hr />
            
            <pre><code>func TestSerialFdsAreInitialised(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestWSASocketConflict">
            <h2>TestWSASocketConflict</h2>
            <hr />
            
            <pre><code>func TestWSASocketConflict(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestRead">
            <h2>TestRead</h2>
            <hr />
            
            <pre><code>func TestRead(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="specialFiles">
            <h2>specialFiles</h2>
            <hr />
            
            <pre><code>func specialFiles() []string</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
