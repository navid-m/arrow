<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - cmerge</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
         
         <span style="color: rgba(177, 175, 175, 0.5)">
            No subpackages
         </span>
         
      </aside>
      <main>
         <h1>
            Package
            <code>cmerge</code>
         </h1>
         <hr />
         
         <article class="global" data-name="ModeMergeStrict">
            <h2>ModeMergeStrict</h2>
            <hr />
            
            <pre><code>ModeMergeStrict ModeMergePolicy</code></pre>
         </article>
         
         <article class="global" data-name="ModeMergeRelaxed">
            <h2>ModeMergeRelaxed</h2>
            <hr />
            
            <pre><code>ModeMergeRelaxed</code></pre>
         </article>
          
         <article class="struct" data-name="Merger">
            <h2>type Merger struct</h2>
            <hr />
            
            <p>Merger provides state and methods to help manage the process of
merging together coverage counter data for a given function, for
tools that need to implicitly merge counter as they read multiple
coverage counter data files.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">cmode coverage.CounterMode
cgran coverage.CounterGranularity
policy ModeMergePolicy
overflow bool</code></pre>
         </article>
          
         <article class="function" data-name="SetModeMergePolicy">
            <h2>SetModeMergePolicy</h2>
            <hr />
            
            <pre><code>func SetModeMergePolicy(policy ModeMergePolicy)</code></pre>
         </article>
         
         <article class="function" data-name="MergeCounters">
            <h2>MergeCounters</h2>
            <hr />
            
            <p>MergeCounters takes the counter values in 'src' and merges them
into 'dst' according to the correct counter mode.</p>
            
            <pre><code>func MergeCounters(dst []uint32, src []uint32) (error, bool)</code></pre>
         </article>
         
         <article class="function" data-name="SaturatingAdd">
            <h2>SaturatingAdd</h2>
            <hr />
            
            <p>Saturating add does a saturating addition of 'dst' and 'src',
returning added value or math.MaxUint32 if there is an overflow.
Overflows are recorded in case the client needs to track them.</p>
            
            <pre><code>func SaturatingAdd(dst uint32, src uint32) uint32</code></pre>
         </article>
         
         <article class="function" data-name="SaturatingAdd">
            <h2>SaturatingAdd</h2>
            <hr />
            
            <p>Saturating add does a saturating addition of 'dst' and 'src',
returning added value or math.MaxUint32 plus an overflow flag.</p>
            
            <pre><code>func SaturatingAdd(dst uint32, src uint32) (uint32, bool)</code></pre>
         </article>
         
         <article class="function" data-name="SetModeAndGranularity">
            <h2>SetModeAndGranularity</h2>
            <hr />
            
            <p>SetModeAndGranularity records the counter mode and granularity for
the current merge. In the specific case of merging across coverage
data files from different binaries, where we're combining data from
more than one meta-data file, we need to check for and resolve
mode/granularity clashes.</p>
            
            <pre><code>func SetModeAndGranularity(mdf string, cmode coverage.CounterMode, cgran coverage.CounterGranularity) error</code></pre>
         </article>
         
         <article class="function" data-name="ResetModeAndGranularity">
            <h2>ResetModeAndGranularity</h2>
            <hr />
            
            <pre><code>func ResetModeAndGranularity()</code></pre>
         </article>
         
         <article class="function" data-name="Mode">
            <h2>Mode</h2>
            <hr />
            
            <pre><code>func Mode() coverage.CounterMode</code></pre>
         </article>
         
         <article class="function" data-name="Granularity">
            <h2>Granularity</h2>
            <hr />
            
            <pre><code>func Granularity() coverage.CounterGranularity</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
