<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - main</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <link
         href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 14px;
            scroll-behavior: smooth;
         }

         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
            line-height: 1.6;
         }

         .sidebar {
            width: 12%;
            background: rgba(59, 56, 56, 0.15);
            padding: 1.5rem;
            box-shadow: 2px 0 8px rgba(0, 0, 0, 0.4);
            overflow-y: auto;
            position: sticky;
            top: 0;
            height: 100vh;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
         }

         .sidebar::-webkit-scrollbar {
            width: 6px;
         }

         .sidebar::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
         }

         .sidebar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
         }

         main {
            flex: 1;
            padding: 2rem;
            margin: 0;
            max-width: calc(100% - 280px);
            background: linear-gradient(
               135deg,
               rgba(59, 56, 56, 0.05) 0%,
               rgba(0, 0, 0, 0.1) 100%
            );
         }

         .nav-links {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
         }

         .nav-links a {
            color: #ddd;
            text-decoration: none;
            padding: 0.5rem;
            border-radius: 4px;
            transition: all 0.2s ease;
         }

         .nav-links a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
         }

         h1 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #fff 0%, #ddd 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
         }

         h2 {
            font-size: 1.4rem;
            margin: 1rem 0 0.5rem;
            color: #f0f0f0;
         }

         h3 {
            font-size: 1.2rem;
            margin: 0.8rem 0 0.3rem;
            color: #e0e0e0;
            position: relative;
         }

         .sidebar h2,
         .sidebar h3 {
            font-size: 1rem;
            margin: 0.5rem 0 0.3rem;
            color: #ccc;
         }

         p {
            word-wrap: break-word;
            line-height: 1.6;
            font-size: 14px;
            margin-bottom: 1rem;
            color: #ccc;
         }

         .anchor {
            color: rgba(255, 255, 255, 0.3);
            text-decoration: none;
            font-weight: normal;
            margin-left: 0.5rem;
            opacity: 0;
            transition: opacity 0.2s ease;
            font-size: 0.8em;
         }

         h3:hover .anchor,
         .anchor:focus {
            opacity: 1;
         }

         .anchor:hover {
            color: rgba(255, 255, 255, 0.6);
         }

         .symbol-anchor {
            scroll-margin-top: 2rem;
         }

         pre, code {
            white-space: pre;
         }  

         pre[class*="language-"] {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3) !important;
            border-radius: 8px !important;
            margin: 1rem 0 !important;
            padding: 1rem 1.2rem !important;
            font-size: 0.9rem !important;
            overflow-x: auto !important;
         }

         code[class*="language-"] {
            color: #e6e6e6 !important;
            font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace !important;
            white-space: pre-wrap !important;
         }

         pre:not([class*="language-"]) {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #e6e6e6;
            padding: 1rem 1.2rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-size: 0.9rem;
            overflow-x: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
         }

         pre:not([class*="language-"]) code {
            color: #f5f5f5;
            font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
            white-space: pre-wrap;
         }

         .token.comment,
         .token.prolog,
         .token.doctype,
         .token.cdata {
            color: #7c7c7c !important;
         }

         .token.punctuation {
            color: #c9c9c9 !important;
         }

         .token.property,
         .token.tag,
         .token.boolean,
         .token.number,
         .token.constant,
         .token.symbol,
         .token.deleted {
            color: #f2777a !important;
         }

         .token.selector,
         .token.attr-name,
         .token.string,
         .token.char,
         .token.builtin,
         .token.inserted {
            color: #639fc2 !important;
         }

         .token.operator,
         .token.entity,
         .token.url,
         .language-css .token.string,
         .style .token.string {
            color: #66cccc !important;
         }

         .token.atrule,
         .token.attr-value,
         .token.keyword {
            color: #d34343 !important;
         }

         .token.function,
         .token.class-name {
            color: #f99157 !important;
         }

         .token.regex,
         .token.important,
         .token.variable {
            color: #ffcc66 !important;
         }

         p {
            font-size: 15px;
            margin: 1rem 0;
            color: #ddd;
         }

         article {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(59, 56, 56, 0.3);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            transition: all 0.3s ease;
         }

         article:hover {
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5);
            transform: translateY(-2px);
         }

         article:target {
            border-color: rgba(100, 200, 255, 0.5);
            box-shadow: 0 0 0 2px rgba(100, 200, 255, 0.2);
         }

         .hidden {
            display: none !important;
         }

         .filter-section {
            margin-bottom: 1.5rem;
         }

         .filter-section h3 {
            margin-bottom: 0.8rem;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #aaa;
         }

         .filter-toggle label {
            display: flex;
            align-items: center;
            margin-bottom: 0.6rem;
            font-size: 0.85rem;
            color: #bbb;
            cursor: pointer;
            padding: 0.3rem;
            border-radius: 4px;
            transition: background 0.2s ease;
         }

         .filter-toggle label:hover {
            background: rgba(255, 255, 255, 0.05);
         }

         .filter-toggle input {
            margin-right: 0.6rem;
         }

         #searchInput {
            width: 100%;
            margin-bottom: 1.5rem;
            border-radius: 8px !important;
            height: 2.8rem;
            font-size: 0.9rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 0 1rem;
         }

         #searchInput::placeholder {
            color: rgba(255, 255, 255, 0.5);
         }

         #searchInput:focus {
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
         }

         .section-divider {
            height: 1px;
            background: linear-gradient(
               90deg,
               transparent 0%,
               rgba(255, 255, 255, 0.3) 50%,
               transparent 100%
            );
            margin: 1.5rem 0;
         }

         .subpackage-list {
            list-style: none;
            padding: 0;
         }

         .subpackage-list li {
            margin-bottom: 0.4rem;
         }

         .subpackage-list a {
            display: block;
            padding: 0.5rem 0.8rem;
            color: #ccc;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.2s ease;
            font-size: 0.85rem;
         }

         .subpackage-list a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            transform: translateX(4px);
         }

         .empty-state {
            color: rgba(177, 175, 175, 0.6);
            font-style: italic;
            font-size: 0.8rem;
         }

         .badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.1);
            color: #ddd;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 500;
            margin-left: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
         }

         .method-badge {
            background: rgba(100, 200, 255, 0.2);
            color: #87ceeb;
         }

         .const-badge {
            background: rgba(255, 200, 100, 0.2);
            color: #ffd700;
         }

         .var-badge {
            background: rgba(200, 255, 100, 0.2);
            color: #90ee90;
         }

         .type-badge {
            background: rgba(255, 100, 200, 0.2);
            color: #699eff;
         }

         .interface-badge {
            background: rgba(150, 100, 255, 0.2);
            color: #dda0dd;
         }

         .toc {
            position: sticky;
            top: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
         }

         .toc h4 {
            margin: 0 0 0.8rem;
            font-size: 0.9rem;
            color: #aaa;
            text-transform: uppercase;
            letter-spacing: 0.5px;
         }

         .toc ul {
            list-style: none;
            padding: 0;
            margin: 0;
         }

         .toc li {
            margin-bottom: 0.3rem;
         }

         .toc a {
            color: #bbb;
            text-decoration: none;
            font-size: 0.8rem;
            transition: color 0.2s ease;
         }

         .toc a:hover {
            color: #fff;
         }

         .symbol-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.2);
         }

         .symbol-list::-webkit-scrollbar {
            width: 4px;
         }

         .symbol-list::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
         }

         .symbol-list ul {
            list-style: none;
            padding: 0.5rem;
            margin: 0;
         }

         .symbol-list li {
            margin-bottom: 0.2rem;
         }

         .symbol-list a {
            display: block;
            padding: 0.3rem 0.5rem;
            color: #bbb;
            text-decoration: none;
            border-radius: 4px;
            transition: all 0.2s ease;
            font-size: 0.75rem;
         }

         .symbol-list a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
         }

         @media (max-width: 768px) {
            body {
               flex-direction: column;
            }

            .sidebar {
               width: 90%;
               height: auto;
               position: relative;
            }

            main {
               max-width: 100%;
               padding: 1rem;
            }
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <div class="nav-links">
            <a href="index.html" title="Home">⌂</a>
            <span>|</span>
            <a href="#" onclick="history.back()" title="Back">←</a>
         </div>

         <div class="filter-section">
            <h3>Search</h3>
            <input
               type="search"
               id="searchInput"
               placeholder="Search symbols..."
            />
         </div>

         <div class="filter-section">
            <h3>Filters</h3>
            <div class="filter-toggle">
               <label>
                  <input type="checkbox" id="showImports" />
                  Show imports
               </label>
               <label>
                  <input type="checkbox" id="showPrivateFunctions" />
                  Show private functions
               </label>
               <label>
                  <input type="checkbox" id="showPrivateStructs" />
                  Show private structs
               </label>
               <label>
                  <input type="checkbox" id="showPrivateFields" />
                  Show private fields
               </label>
               <label>
                  <input type="checkbox" id="showPrivateGlobals" />
                  Show private globals
               </label>
               <label>
                  <input type="checkbox" id="showPrivateTypes" />
                  Show private types
               </label>
               <label>
                  <input type="checkbox" id="showPrivateInterfaces" />
                  Show private interfaces
               </label>
            </div>
         </div>

         <div class="section-divider"></div>

         <div class="filter-section">
            <h3>Subpackages</h3>
            
            <div class="empty-state">No subpackages</div>
            
         </div>

         
         <div class="section-divider"></div>

         <div class="toc">
            <h4>Quick Navigation</h4>
            <ul>
               
               <li><a href="#globals">Constants & Variables</a></li>
                  
               <li><a href="#structs">Structs</a></li>
                
               <li><a href="#functions">Functions</a></li>
               
            </ul>
         </div>

         <div class="filter-section">
            <h3>All Symbols</h3>
            <div class="symbol-list">
               <ul id="symbolIndex">
               </ul>
            </div>
         </div>
         
      </aside>

      <main>
         <h1>main</h1>
         <div class="section-divider"></div>

         
         <section id="imports">
            <h2>Imports</h2>
            <article class="imports symbol-anchor" id="imports-section" data-name="imports">
               <h3>
                  Imports
                  <a href="#imports-section" class="anchor" title="Link to imports">#</a>
               </h3>
               <pre><code class="language-go">"go/ast"
"go/version"
"strings"
"go/ast"
"fmt"
"go/ast"
"go/token"
"path"
"strconv"
"go/ast"
"strconv"
"go/ast"
"go/ast"
"slices"
"go/ast"
"go/ast"
"go/token"
"reflect"
"strings"
"go/ast"
"bytes"
"flag"
"fmt"
"go/ast"
"go/format"
"go/parser"
"go/scanner"
"go/token"
"go/version"
"internal/diff"
"io"
"io/fs"
"os"
"path/filepath"
"slices"
"strings"
"cmd/internal/telemetry/counter"
"fmt"
"go/ast"
"go/parser"
"go/token"
"maps"
"os"
"os/exec"
"path/filepath"
"reflect"
"runtime"
"strings"
</code></pre>
            </article>
         </section>
          
         <section id="globals">
            <h2>Constants & Variables</h2>
            
            <article class="global symbol-anchor" id="allowed" data-name="allowed">
               <h3>
                  allowed 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#allowed" class="anchor" title="Link to allowed">#</a>
               </h3>
               
               <pre><code class="language-go">var allowed map[string]bool</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="allowedRewrites" data-name="allowedRewrites">
               <h3>
                  allowedRewrites 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#allowedRewrites" class="anchor" title="Link to allowedRewrites">#</a>
               </h3>
               
               <pre><code class="language-go">var allowedRewrites = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="buildtagFix" data-name="buildtagFix">
               <h3>
                  buildtagFix 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#buildtagFix" class="anchor" title="Link to buildtagFix">#</a>
               </h3>
               
               <pre><code class="language-go">var buildtagFix = fix{...}</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="buildtagGoVersionCutoff" data-name="buildtagGoVersionCutoff">
               <h3>
                  buildtagGoVersionCutoff 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#buildtagGoVersionCutoff" class="anchor" title="Link to buildtagGoVersionCutoff">#</a>
               </h3>
               
               <pre><code class="language-go">const buildtagGoVersionCutoff = "go1.18"</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="cftypeFix" data-name="cftypeFix">
               <h3>
                  cftypeFix 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#cftypeFix" class="anchor" title="Link to cftypeFix">#</a>
               </h3>
               
               <pre><code class="language-go">var cftypeFix = fix{...}</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="contextFix" data-name="contextFix">
               <h3>
                  contextFix 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#contextFix" class="anchor" title="Link to contextFix">#</a>
               </h3>
               
               <pre><code class="language-go">var contextFix = fix{...}</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="debug" data-name="debug">
               <h3>
                  debug 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#debug" class="anchor" title="Link to debug">#</a>
               </h3>
               
                  <p class="doc-comment">enable for debugging fix failures</p>
               
               <pre><code class="language-go">const debug = false</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="doDiff" data-name="doDiff">
               <h3>
                  doDiff 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#doDiff" class="anchor" title="Link to doDiff">#</a>
               </h3>
               
               <pre><code class="language-go">var doDiff = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="eglFixConfig" data-name="eglFixConfig">
               <h3>
                  eglFixConfig 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#eglFixConfig" class="anchor" title="Link to eglFixConfig">#</a>
               </h3>
               
               <pre><code class="language-go">var eglFixConfig = fix{...}</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="eglFixDisplay" data-name="eglFixDisplay">
               <h3>
                  eglFixDisplay 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#eglFixDisplay" class="anchor" title="Link to eglFixDisplay">#</a>
               </h3>
               
               <pre><code class="language-go">var eglFixDisplay = fix{...}</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="exitCode" data-name="exitCode">
               <h3>
                  exitCode 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#exitCode" class="anchor" title="Link to exitCode">#</a>
               </h3>
               
               <pre><code class="language-go">var exitCode = 0</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="fixes" data-name="fixes">
               <h3>
                  fixes 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#fixes" class="anchor" title="Link to fixes">#</a>
               </h3>
               
               <pre><code class="language-go">var fixes []fix</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="force" data-name="force">
               <h3>
                  force 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#force" class="anchor" title="Link to force">#</a>
               </h3>
               
               <pre><code class="language-go">var force map[string]bool</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="forceRewrites" data-name="forceRewrites">
               <h3>
                  forceRewrites 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#forceRewrites" class="anchor" title="Link to forceRewrites">#</a>
               </h3>
               
               <pre><code class="language-go">var forceRewrites = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="fset" data-name="fset">
               <h3>
                  fset 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#fset" class="anchor" title="Link to fset">#</a>
               </h3>
               
               <pre><code class="language-go">var fset = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="goVersion" data-name="goVersion">
               <h3>
                  goVersion 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#goVersion" class="anchor" title="Link to goVersion">#</a>
               </h3>
               
               <pre><code class="language-go">var goVersion = *ast.CallExpr</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="gotypesFix" data-name="gotypesFix">
               <h3>
                  gotypesFix 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#gotypesFix" class="anchor" title="Link to gotypesFix">#</a>
               </h3>
               
               <pre><code class="language-go">var gotypesFix = fix{...}</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="jniFix" data-name="jniFix">
               <h3>
                  jniFix 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#jniFix" class="anchor" title="Link to jniFix">#</a>
               </h3>
               
               <pre><code class="language-go">var jniFix = fix{...}</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="netipv6zoneFix" data-name="netipv6zoneFix">
               <h3>
                  netipv6zoneFix 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#netipv6zoneFix" class="anchor" title="Link to netipv6zoneFix">#</a>
               </h3>
               
               <pre><code class="language-go">var netipv6zoneFix = fix{...}</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="parserMode" data-name="parserMode">
               <h3>
                  parserMode 
                  <span class="badge const-badge">const</span>
                  
                  <a href="#parserMode" class="anchor" title="Link to parserMode">#</a>
               </h3>
               
               <pre><code class="language-go">const parserMode = parser.ParseComments</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="printerconfigFix" data-name="printerconfigFix">
               <h3>
                  printerconfigFix 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#printerconfigFix" class="anchor" title="Link to printerconfigFix">#</a>
               </h3>
               
               <pre><code class="language-go">var printerconfigFix = fix{...}</code></pre>
            </article>
            
            <article class="global symbol-anchor" id="reportCgoError" data-name="reportCgoError">
               <h3>
                  reportCgoError 
                  <span class="badge var-badge">var</span>
                  
                  <a href="#reportCgoError" class="anchor" title="Link to reportCgoError">#</a>
               </h3>
               
                  <p class="doc-comment">reportCgoError, if non-nil, reports a non-nil error from running the "cgo"
tool. (Set to a non-nil hook during testing if cgo is expected to work.)</p>
               
               <pre><code class="language-go">var reportCgoError func(err error)</code></pre>
            </article>
            
         </section>
            
         <section id="structs">
            <h2>Structs</h2>
            
            <article class="struct symbol-anchor" id="Type" data-name="Type">
               <h3>
                  Type
                  <span class="badge">struct</span>
                  <a href="#Type" class="anchor" title="Link to Type">#</a>
               </h3>
               
               <p>Type describes the Fields and Methods of a type.
If the field or method cannot be found there, it is next
looked for in the Embed list.</p>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type Type struct {
Field map[string]string
Method map[string]string
Embed []string
Def string
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="TypeConfig" data-name="TypeConfig">
               <h3>
                  TypeConfig
                  <span class="badge">struct</span>
                  <a href="#TypeConfig" class="anchor" title="Link to TypeConfig">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type TypeConfig struct {
Type map[string]*Type
Var map[string]string
Func map[string]string
External map[string]string
}</code></pre>
            </article>
            
            <article class="struct symbol-anchor" id="fix" data-name="fix">
               <h3>
                  fix
                  <span class="badge">struct</span>
                  <a href="#fix" class="anchor" title="Link to fix">#</a>
               </h3>
               
               <pre
                  class="fields-block"
               ><code class="fields-code language-go">type fix struct {
name string
date string
f func(*ast.File) bool
desc string
disabled bool
}</code></pre>
            </article>
            
         </section>
          
         <section id="functions">
            <h2>Functions</h2>
            
            <article class="function symbol-anchor" id="addImport" data-name="addImport">
               <h3>
                  addImport 
                  <span class="badge">function</span>
                  
                  <a href="#addImport" class="anchor" title="Link to addImport">#</a>
               </h3>
               
               <p>addImport adds the import path to the file f, if absent.</p>
               
               <pre><code class="language-go">func addImport(f *ast.File, ipath string) (added bool)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="buildtag" data-name="buildtag">
               <h3>
                  buildtag 
                  <span class="badge">function</span>
                  
                  <a href="#buildtag" class="anchor" title="Link to buildtag">#</a>
               </h3>
               
               <pre><code class="language-go">func buildtag(f *ast.File) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="cftypefix" data-name="cftypefix">
               <h3>
                  cftypefix 
                  <span class="badge">function</span>
                  
                  <a href="#cftypefix" class="anchor" title="Link to cftypefix">#</a>
               </h3>
               
               <p>Old state:
type CFTypeRef unsafe.Pointer
New state:
type CFTypeRef uintptr
and similar for other *Ref types.
This fix finds nils initializing these types and replaces the nils with 0s.</p>
               
               <pre><code class="language-go">func cftypefix(f *ast.File) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="ctxfix" data-name="ctxfix">
               <h3>
                  ctxfix 
                  <span class="badge">function</span>
                  
                  <a href="#ctxfix" class="anchor" title="Link to ctxfix">#</a>
               </h3>
               
               <pre><code class="language-go">func ctxfix(f *ast.File) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="declImports" data-name="declImports">
               <h3>
                  declImports 
                  <span class="badge">function</span>
                  
                  <a href="#declImports" class="anchor" title="Link to declImports">#</a>
               </h3>
               
               <p>declImports reports whether gen contains an import of path.</p>
               
               <pre><code class="language-go">func declImports(gen *ast.GenDecl, path string) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="deleteImport" data-name="deleteImport">
               <h3>
                  deleteImport 
                  <span class="badge">function</span>
                  
                  <a href="#deleteImport" class="anchor" title="Link to deleteImport">#</a>
               </h3>
               
               <p>deleteImport deletes the import path from the file f, if present.</p>
               
               <pre><code class="language-go">func deleteImport(f *ast.File, path string) (deleted bool)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="dot" data-name="dot">
               <h3>
                  dot 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#dot" class="anchor" title="Link to dot">#</a>
               </h3>
               
               <p>dot returns the type of "typ.name", making its decision
using the type information in cfg.</p>
               
               <pre><code class="language-go">func (typ *Type) dot(cfg *TypeConfig, name string) string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="eglfixConfig" data-name="eglfixConfig">
               <h3>
                  eglfixConfig 
                  <span class="badge">function</span>
                  
                  <a href="#eglfixConfig" class="anchor" title="Link to eglfixConfig">#</a>
               </h3>
               
               <p>Old state:
type EGLConfig unsafe.Pointer
New state:
type EGLConfig uintptr
This fix finds nils initializing these types and replaces the nils with 0s.</p>
               
               <pre><code class="language-go">func eglfixConfig(f *ast.File) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="eglfixDisp" data-name="eglfixDisp">
               <h3>
                  eglfixDisp 
                  <span class="badge">function</span>
                  
                  <a href="#eglfixDisp" class="anchor" title="Link to eglfixDisp">#</a>
               </h3>
               
               <p>Old state:
type EGLDisplay unsafe.Pointer
New state:
type EGLDisplay uintptr
This fix finds nils initializing these types and replaces the nils with 0s.</p>
               
               <pre><code class="language-go">func eglfixDisp(f *ast.File) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="fixGoExact" data-name="fixGoExact">
               <h3>
                  fixGoExact 
                  <span class="badge">function</span>
                  
                  <a href="#fixGoExact" class="anchor" title="Link to fixGoExact">#</a>
               </h3>
               
               <pre><code class="language-go">func fixGoExact(f *ast.File) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="fixGoTypes" data-name="fixGoTypes">
               <h3>
                  fixGoTypes 
                  <span class="badge">function</span>
                  
                  <a href="#fixGoTypes" class="anchor" title="Link to fixGoTypes">#</a>
               </h3>
               
               <pre><code class="language-go">func fixGoTypes(f *ast.File) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="getType" data-name="getType">
               <h3>
                  getType 
                  <span class="badge">function</span>
                  
                  <a href="#getType" class="anchor" title="Link to getType">#</a>
               </h3>
               
               <pre><code class="language-go">func getType(t string) string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="gofmt" data-name="gofmt">
               <h3>
                  gofmt 
                  <span class="badge">function</span>
                  
                  <a href="#gofmt" class="anchor" title="Link to gofmt">#</a>
               </h3>
               
               <pre><code class="language-go">func gofmt(n any) string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="gofmtFile" data-name="gofmtFile">
               <h3>
                  gofmtFile 
                  <span class="badge">function</span>
                  
                  <a href="#gofmtFile" class="anchor" title="Link to gofmtFile">#</a>
               </h3>
               
               <pre><code class="language-go">func gofmtFile(f *ast.File) ([]byte, error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="gotypes" data-name="gotypes">
               <h3>
                  gotypes 
                  <span class="badge">function</span>
                  
                  <a href="#gotypes" class="anchor" title="Link to gotypes">#</a>
               </h3>
               
               <pre><code class="language-go">func gotypes(f *ast.File) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="importPath" data-name="importPath">
               <h3>
                  importPath 
                  <span class="badge">function</span>
                  
                  <a href="#importPath" class="anchor" title="Link to importPath">#</a>
               </h3>
               
               <p>importPath returns the unquoted import path of s,
or "" if the path is not properly quoted.</p>
               
               <pre><code class="language-go">func importPath(s *ast.ImportSpec) string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="importSpec" data-name="importSpec">
               <h3>
                  importSpec 
                  <span class="badge">function</span>
                  
                  <a href="#importSpec" class="anchor" title="Link to importSpec">#</a>
               </h3>
               
               <p>importSpec returns the import spec if f imports path,
or nil otherwise.</p>
               
               <pre><code class="language-go">func importSpec(f *ast.File, path string) *ast.ImportSpec</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="imports" data-name="imports">
               <h3>
                  imports 
                  <span class="badge">function</span>
                  
                  <a href="#imports" class="anchor" title="Link to imports">#</a>
               </h3>
               
               <p>imports reports whether f imports path.</p>
               
               <pre><code class="language-go">func imports(f *ast.File, path string) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="init" data-name="init">
               <h3>
                  init 
                  <span class="badge">function</span>
                  
                  <a href="#init" class="anchor" title="Link to init">#</a>
               </h3>
               
               <pre><code class="language-go">func init()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="init" data-name="init">
               <h3>
                  init 
                  <span class="badge">function</span>
                  
                  <a href="#init" class="anchor" title="Link to init">#</a>
               </h3>
               
               <pre><code class="language-go">func init()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="init" data-name="init">
               <h3>
                  init 
                  <span class="badge">function</span>
                  
                  <a href="#init" class="anchor" title="Link to init">#</a>
               </h3>
               
               <pre><code class="language-go">func init()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="init" data-name="init">
               <h3>
                  init 
                  <span class="badge">function</span>
                  
                  <a href="#init" class="anchor" title="Link to init">#</a>
               </h3>
               
               <pre><code class="language-go">func init()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="init" data-name="init">
               <h3>
                  init 
                  <span class="badge">function</span>
                  
                  <a href="#init" class="anchor" title="Link to init">#</a>
               </h3>
               
               <pre><code class="language-go">func init()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="init" data-name="init">
               <h3>
                  init 
                  <span class="badge">function</span>
                  
                  <a href="#init" class="anchor" title="Link to init">#</a>
               </h3>
               
               <pre><code class="language-go">func init()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="init" data-name="init">
               <h3>
                  init 
                  <span class="badge">function</span>
                  
                  <a href="#init" class="anchor" title="Link to init">#</a>
               </h3>
               
               <pre><code class="language-go">func init()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="init" data-name="init">
               <h3>
                  init 
                  <span class="badge">function</span>
                  
                  <a href="#init" class="anchor" title="Link to init">#</a>
               </h3>
               
               <pre><code class="language-go">func init()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="isGoFile" data-name="isGoFile">
               <h3>
                  isGoFile 
                  <span class="badge">function</span>
                  
                  <a href="#isGoFile" class="anchor" title="Link to isGoFile">#</a>
               </h3>
               
               <pre><code class="language-go">func isGoFile(f fs.DirEntry) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="isTopName" data-name="isTopName">
               <h3>
                  isTopName 
                  <span class="badge">function</span>
                  
                  <a href="#isTopName" class="anchor" title="Link to isTopName">#</a>
               </h3>
               
               <p>isTopName reports whether n is a top-level unresolved identifier with the given name.</p>
               
               <pre><code class="language-go">func isTopName(n ast.Expr, name string) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="isType" data-name="isType">
               <h3>
                  isType 
                  <span class="badge">function</span>
                  
                  <a href="#isType" class="anchor" title="Link to isType">#</a>
               </h3>
               
               <pre><code class="language-go">func isType(t string) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="jnifix" data-name="jnifix">
               <h3>
                  jnifix 
                  <span class="badge">function</span>
                  
                  <a href="#jnifix" class="anchor" title="Link to jnifix">#</a>
               </h3>
               
               <p>Old state:
type jobject *_jobject
New state:
type jobject uintptr
and similar for subtypes of jobject.
This fix finds nils initializing these types and replaces the nils with 0s.</p>
               
               <pre><code class="language-go">func jnifix(f *ast.File) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="join" data-name="join">
               <h3>
                  join 
                  <span class="badge">function</span>
                  
                  <a href="#join" class="anchor" title="Link to join">#</a>
               </h3>
               
               <p>join is the inverse of split.</p>
               
               <pre><code class="language-go">func join(x []string) string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="joinFunc" data-name="joinFunc">
               <h3>
                  joinFunc 
                  <span class="badge">function</span>
                  
                  <a href="#joinFunc" class="anchor" title="Link to joinFunc">#</a>
               </h3>
               
               <p>joinFunc is the inverse of splitFunc.</p>
               
               <pre><code class="language-go">func joinFunc(in []string, out []string) string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="main" data-name="main">
               <h3>
                  main 
                  <span class="badge">function</span>
                  
                  <a href="#main" class="anchor" title="Link to main">#</a>
               </h3>
               
               <pre><code class="language-go">func main()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="makeExprList" data-name="makeExprList">
               <h3>
                  makeExprList 
                  <span class="badge">function</span>
                  
                  <a href="#makeExprList" class="anchor" title="Link to makeExprList">#</a>
               </h3>
               
               <pre><code class="language-go">func makeExprList(a []*ast.Ident) []ast.Expr</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="matchLen" data-name="matchLen">
               <h3>
                  matchLen 
                  <span class="badge">function</span>
                  
                  <a href="#matchLen" class="anchor" title="Link to matchLen">#</a>
               </h3>
               
               <p>matchLen returns the length of the longest prefix shared by x and y.</p>
               
               <pre><code class="language-go">func matchLen(x string, y string) int</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="mkType" data-name="mkType">
               <h3>
                  mkType 
                  <span class="badge">function</span>
                  
                  <a href="#mkType" class="anchor" title="Link to mkType">#</a>
               </h3>
               
               <pre><code class="language-go">func mkType(t string) string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="netipv6zone" data-name="netipv6zone">
               <h3>
                  netipv6zone 
                  <span class="badge">function</span>
                  
                  <a href="#netipv6zone" class="anchor" title="Link to netipv6zone">#</a>
               </h3>
               
               <pre><code class="language-go">func netipv6zone(f *ast.File) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="nop" data-name="nop">
               <h3>
                  nop 
                  <span class="badge">function</span>
                  
                  <a href="#nop" class="anchor" title="Link to nop">#</a>
               </h3>
               
               <pre><code class="language-go">func nop(any)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="printerconfig" data-name="printerconfig">
               <h3>
                  printerconfig 
                  <span class="badge">function</span>
                  
                  <a href="#printerconfig" class="anchor" title="Link to printerconfig">#</a>
               </h3>
               
               <pre><code class="language-go">func printerconfig(f *ast.File) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="processFile" data-name="processFile">
               <h3>
                  processFile 
                  <span class="badge">function</span>
                  
                  <a href="#processFile" class="anchor" title="Link to processFile">#</a>
               </h3>
               
               <pre><code class="language-go">func processFile(filename string, useStdin bool) error</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="register" data-name="register">
               <h3>
                  register 
                  <span class="badge">function</span>
                  
                  <a href="#register" class="anchor" title="Link to register">#</a>
               </h3>
               
               <pre><code class="language-go">func register(f fix)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="renameTop" data-name="renameTop">
               <h3>
                  renameTop 
                  <span class="badge">function</span>
                  
                  <a href="#renameTop" class="anchor" title="Link to renameTop">#</a>
               </h3>
               
               <p>renameTop renames all references to the top-level name old.
It reports whether it makes any changes.</p>
               
               <pre><code class="language-go">func renameTop(f *ast.File, old string, new string) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="report" data-name="report">
               <h3>
                  report 
                  <span class="badge">function</span>
                  
                  <a href="#report" class="anchor" title="Link to report">#</a>
               </h3>
               
               <pre><code class="language-go">func report(err error)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="rewriteImport" data-name="rewriteImport">
               <h3>
                  rewriteImport 
                  <span class="badge">function</span>
                  
                  <a href="#rewriteImport" class="anchor" title="Link to rewriteImport">#</a>
               </h3>
               
               <p>rewriteImport rewrites any import of path oldPath to path newPath.</p>
               
               <pre><code class="language-go">func rewriteImport(f *ast.File, oldPath string, newPath string) (rewrote bool)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="split" data-name="split">
               <h3>
                  split 
                  <span class="badge">function</span>
                  
                  <a href="#split" class="anchor" title="Link to split">#</a>
               </h3>
               
               <p>split splits "int, float" into ["int", "float"] and splits "" into [].</p>
               
               <pre><code class="language-go">func split(s string) []string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="splitFunc" data-name="splitFunc">
               <h3>
                  splitFunc 
                  <span class="badge">function</span>
                  
                  <a href="#splitFunc" class="anchor" title="Link to splitFunc">#</a>
               </h3>
               
               <p>splitFunc splits "func(x,y,z) (a,b,c)" into ["x", "y", "z"] and ["a", "b", "c"].</p>
               
               <pre><code class="language-go">func splitFunc(s string) (in []string, out []string)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="typecheck" data-name="typecheck">
               <h3>
                  typecheck 
                  <span class="badge">function</span>
                  
                  <a href="#typecheck" class="anchor" title="Link to typecheck">#</a>
               </h3>
               
               <p>typecheck type checks the AST f assuming the information in cfg.
It returns two maps with type information:
typeof maps AST nodes to type information in gofmt string form.
assign maps type strings to lists of expressions that were assigned
to values of another type that were assigned to that type.</p>
               
               <pre><code class="language-go">func typecheck(cfg *TypeConfig, f *ast.File) (typeof map[any]string, assign map[string][]any)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="typecheck1" data-name="typecheck1">
               <h3>
                  typecheck1 
                  <span class="badge">function</span>
                  
                  <a href="#typecheck1" class="anchor" title="Link to typecheck1">#</a>
               </h3>
               
               <p>typecheck1 is the recursive form of typecheck.
It is like typecheck but adds to the information in typeof
instead of allocating a new map.</p>
               
               <pre><code class="language-go">func typecheck1(cfg *TypeConfig, f any, typeof map[any]string, assign map[string][]any)</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="typefix" data-name="typefix">
               <h3>
                  typefix 
                  <span class="badge">function</span>
                  
                  <a href="#typefix" class="anchor" title="Link to typefix">#</a>
               </h3>
               
               <p>typefix replaces nil with 0 for all nils whose type, when passed to badType, returns true.</p>
               
               <pre><code class="language-go">func typefix(f *ast.File, badType func(string) bool) bool</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="typeof" data-name="typeof">
               <h3>
                  typeof 
                  <span class="badge method-badge">method</span>
                  
                  <a href="#typeof" class="anchor" title="Link to typeof">#</a>
               </h3>
               
               <p>typeof returns the type of the given name, which may be of
the form "x" or "p.X".</p>
               
               <pre><code class="language-go">func (cfg *TypeConfig) typeof(name string) string</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="usage" data-name="usage">
               <h3>
                  usage 
                  <span class="badge">function</span>
                  
                  <a href="#usage" class="anchor" title="Link to usage">#</a>
               </h3>
               
               <pre><code class="language-go">func usage()</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="visitFile" data-name="visitFile">
               <h3>
                  visitFile 
                  <span class="badge">function</span>
                  
                  <a href="#visitFile" class="anchor" title="Link to visitFile">#</a>
               </h3>
               
               <pre><code class="language-go">func visitFile(path string, f fs.DirEntry, err error) error</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="walk" data-name="walk">
               <h3>
                  walk 
                  <span class="badge">function</span>
                  
                  <a href="#walk" class="anchor" title="Link to walk">#</a>
               </h3>
               
               <p>walk traverses the AST x, calling visit(y) for each node y in the tree but
also with a pointer to each ast.Expr, ast.Stmt, and *ast.BlockStmt,
in a bottom-up traversal.</p>
               
               <pre><code class="language-go">func walk(x any, visit func(any))</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="walkBeforeAfter" data-name="walkBeforeAfter">
               <h3>
                  walkBeforeAfter 
                  <span class="badge">function</span>
                  
                  <a href="#walkBeforeAfter" class="anchor" title="Link to walkBeforeAfter">#</a>
               </h3>
               
               <p>walkBeforeAfter is like walk but calls before(x) before traversing
x's children and after(x) afterward.</p>
               
               <pre><code class="language-go">func walkBeforeAfter(x any, before func(any), after func(any))</code></pre>
            </article>
            
            <article class="function symbol-anchor" id="walkDir" data-name="walkDir">
               <h3>
                  walkDir 
                  <span class="badge">function</span>
                  
                  <a href="#walkDir" class="anchor" title="Link to walkDir">#</a>
               </h3>
               
               <pre><code class="language-go">func walkDir(path string)</code></pre>
            </article>
            
         </section>
         
      </main>

      <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

      <script>
         function updateSectionVisibility() {
            document.querySelectorAll("section").forEach(section => {
               const visibleArticles = section.querySelectorAll("article:not(.hidden)");
               const header = section.querySelector("h2");
               if (header) {
                  if (visibleArticles.length === 0) {
                     section.classList.add("hidden");
                  } else {
                     section.classList.remove("hidden");
                  }
               }
            });
         }

         document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('p').forEach(el => {
               const raw = el.textContent;
               const parts = raw.split(/(?<=\w)(?<!(?:\.\w))\.(?=\s|$)/);
               const sentences = parts.map((frag, i) => {
               return (i < parts.length - 1 ? frag + '.' : frag).trim();
               }).filter(s => s.length > 0);
               let html = '';
               sentences.forEach((sent, idx) => {
                  html += sent;
                  html += ((idx + 1) % 2 === 0) ? '<br/>' : ' ';
               });
               if (sentences.length > 1) {
                  el.innerHTML = html.trim();
               }
            });
         });

         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }

         function buildSymbolIndex() {
            const symbolIndex = document.getElementById('symbolIndex');
            if (!symbolIndex) return;

            const symbols = [];
            
            document.querySelectorAll('article[data-name]').forEach(article => {
               const name = article.dataset.name;
               const type = article.className.split(' ')[0]; 
               const isPrivateSymbol = isPrivate(name);
               
               if (name && name !== 'imports') {
                  symbols.push({
                     name,
                     type,
                     element: article,
                     isPrivate: isPrivateSymbol
                  });
               }
            });

            symbols.sort((a, b) => a.name.localeCompare(b.name));
            symbolIndex.innerHTML = '';
            symbols.forEach(symbol => {
               const li = document.createElement('li');
               const a = document.createElement('a');
               a.href = `#${symbol.name}`;
               a.textContent = symbol.name;
               a.title = `${symbol.type}: ${symbol.name}`;
               
               if (symbol.isPrivate) {
                  li.classList.add('private', 'hidden');
               }
               
               li.appendChild(a);
               symbolIndex.appendChild(li);
            });
         }

         document.addEventListener("DOMContentLoaded", () => {
            if (window.Prism) {
               Prism.highlightAll();
            }

            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               imports: document.getElementById("showImports"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
               types: document.getElementById("showPrivateTypes"),
               interfaces: document.getElementById(
                  "showPrivateInterfaces"
               ),
            };

            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });

               if (toggle) {
                  toggle.addEventListener("change", () => {
                     const show = toggle.checked;
                     document
                        .querySelectorAll(`${selector}.private`)
                        .forEach((el) => {
                           el.classList.toggle("hidden", !show);
                        });
                     
                     const symbolIndexItems = document.querySelectorAll('#symbolIndex li.private');
                     symbolIndexItems.forEach(li => {
                        const link = li.querySelector('a');
                        if (link) {
                           const targetId = link.getAttribute('href').substring(1);
                           const targetEl = document.getElementById(targetId);
                           if (targetEl && targetEl.matches(selector)) {
                              li.classList.toggle("hidden", !show);
                           }
                        }
                     });
                     updateSectionVisibility();
                  });
               }
            };

            hideInitial("article.imports", toggles.imports); updateSectionVisibility();
            hideInitial("article.function", toggles.functions); updateSectionVisibility();
            hideInitial("article.struct", toggles.structs); updateSectionVisibility();
            hideInitial("article.global", toggles.globals); updateSectionVisibility();
            hideInitial("article.type", toggles.types); updateSectionVisibility();
            hideInitial("article.interface", toggles.interfaces); updateSectionVisibility();

            document.querySelectorAll("article.struct").forEach((article) => {
               const codeBlock = article.querySelector("code.fields-code");
               if (!codeBlock) return;

               const raw = codeBlock.textContent.trim();
               const match = raw.match(/^type\s+\w+\s+struct\s*{(.*)}$/s);
               if (!match) return;

               const fieldsRaw = match[1].trim();
               const fields = fieldsRaw.split("\n").map(line => line.trim()).filter(Boolean);
               const formatted = fields.map(line => `\t${line}`).join("\n");
               const structName = article.dataset.name;
               const finalCode = `type ${structName} struct {\n${formatted}\n}`;

               codeBlock.textContent = finalCode;

               if (window.Prism) Prism.highlightElement(codeBlock);

   
               if (toggles.fields) {
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               }
            });

            document
               .querySelectorAll("article.interface")
               .forEach((article) => {
                  const codeBlock = article.querySelector(
                     "code.methods-code"
                  );
                  if (!codeBlock) return;

                  const lines = codeBlock.innerHTML.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch && !trimmed.endsWith("{") && trimmed != "}") {
                           return `<span class="method-line">${line}</span>`;
                        } else {
                           return ``;
                        }

                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class="method-line${
                           isPriv ? " hidden private" : ""
                        }" data-name="${name}">${line}</span><br />`;
                     })
                     .join("");

                  codeBlock.innerHTML = newContent;

                  if (window.Prism) {
                     Prism.highlightElement(codeBlock);
                  }

                  if (toggles.fields) {
                     toggles.fields.addEventListener("change", () => {
                        const show = toggles.fields.checked;
                        article
                           .querySelectorAll(".method-line.private")
                           .forEach((el) =>
                              el.classList.toggle("hidden", !show)
                           );
                     });
                  }
               });

            const searchInput = document.getElementById("searchInput");
            if (searchInput) {
               searchInput.addEventListener("input", () => {
                  const query = searchInput.value.trim().toLowerCase();

                  document.querySelectorAll("article").forEach((el) => {
                     const name = el.dataset.name;
                     if (!name) return;

                     const matches =
                        query === "" ||
                        name.toLowerCase().includes(query) ||
                        (el.textContent &&
                           el.textContent.toLowerCase().includes(query));

                     if (matches) {
                        const isPrivateEl =
                           el.classList.contains("private");
                        const shouldShowPrivate =
                           getPrivateToggleState(el);

                        if (!isPrivateEl || shouldShowPrivate) {
                           el.classList.remove("hidden");
                        }
                     } else {
                        el.classList.add("hidden");
                     }
                     updateSectionVisibility();
                  });

                  document.querySelectorAll('#symbolIndex li').forEach(li => {
                     const link = li.querySelector('a');
                     if (link) {
                        const symbolName = link.textContent.toLowerCase();
                        const matches = query === "" || symbolName.includes(query);
                        
                        if (matches) {
                           const isPrivateSymbol = li.classList.contains('private');
                           const targetId = link.getAttribute('href').substring(1);
                           const targetEl = document.getElementById(targetId);
                           const shouldShowPrivate = targetEl ? getPrivateToggleState(targetEl) : false;
                           
                           if (!isPrivateSymbol || shouldShowPrivate) {
                              li.style.display = '';
                           }
                        } else {
                           li.style.display = 'none';
                        }
                     }
                  });
               });
            }

            function getPrivateToggleState(element) {
               if (element.classList.contains("function")) {
                  return toggles.functions?.checked || false;
               } else if (element.classList.contains("struct")) {
                  return toggles.structs?.checked || false;
               } else if (element.classList.contains("global")) {
                  return toggles.globals?.checked || false;
               } else if (element.classList.contains("type")) {
                  return toggles.types?.checked || false;
               } else if (element.classList.contains("interface")) {
                  return toggles.interfaces?.checked || false;
               } else if (element.classList.contains("imports")) {
                  return toggles.imports?.checked || false;
               }
               return false;
            }

            buildSymbolIndex();

            document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
               anchor.addEventListener("click", function (e) {
                  const target = document.querySelector(
                     this.getAttribute("href")
                  );
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               });
            });

            window.addEventListener('hashchange', () => {
               const hash = window.location.hash;
               if (hash) {
                  const target = document.querySelector(hash);
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               }
            });

            if (window.location.hash) {
               setTimeout(() => {
                  const target = document.querySelector(window.location.hash);
                  if (target) {
                     target.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                     });
                  }
               }, 100);
            }
         });
      </script>
   </body>
</html>