<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - sanitizers_test</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
          
         <a href="cmd_cgo_internal_testsanitizers_testdata-docs.html">testdata</a>
         <br />
          
      </aside>
      <main>
         <h1>
            Package
            <code>sanitizers_test</code>
         </h1>
         <hr />
         
         <article class="global" data-name="overcommit">
            <h2>overcommit</h2>
            <hr />
            
            <pre><code>overcommit *ast.StructType</code></pre>
         </article>
         
         <article class="global" data-name="env">
            <h2>env</h2>
            <hr />
            
            <pre><code>env *ast.StructType</code></pre>
         </article>
         
         <article class="global" data-name="compiler">
            <h2>compiler</h2>
            <hr />
            
            <pre><code>compiler *ast.StructType</code></pre>
         </article>
         
         <article class="global" data-name="configs">
            <h2>configs</h2>
            <hr />
            
            <pre><code>configs *ast.StructType</code></pre>
         </article>
         
         <article class="global" data-name="cMain">
            <h2>cMain</h2>
            <hr />
            
            <pre><code>cMain</code></pre>
         </article>
         
         <article class="global" data-name="cLibFuzzerInput">
            <h2>cLibFuzzerInput</h2>
            <hr />
            
            <pre><code>cLibFuzzerInput</code></pre>
         </article>
          
         <article class="struct" data-name="version">
            <h2>type version struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">name string
major int
minor int</code></pre>
         </article>
         
         <article class="struct" data-name="compilerCheck">
            <h2>type compilerCheck struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">once sync.Once
err error
skip bool</code></pre>
         </article>
         
         <article class="struct" data-name="config">
            <h2>type config struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">sanitizer string
cFlags []string
ldFlags []string
goFlags []string
sanitizerCheck compilerCheck
runtimeCheck compilerCheck</code></pre>
         </article>
         
         <article class="struct" data-name="tempDir">
            <h2>type tempDir struct</h2>
            <hr />
            
            <p>A tempDir manages a temporary directory within a test.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">base string</code></pre>
         </article>
          
         <article class="function" data-name="TestTSAN">
            <h2>TestTSAN</h2>
            <hr />
            
            <pre><code>func TestTSAN(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestASAN">
            <h2>TestASAN</h2>
            <hr />
            
            <pre><code>func TestASAN(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestASANLinkerX">
            <h2>TestASANLinkerX</h2>
            <hr />
            
            <pre><code>func TestASANLinkerX(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestASANFuzz">
            <h2>TestASANFuzz</h2>
            <hr />
            
            <p>Issue 66966.</p>
            
            <pre><code>func TestASANFuzz(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="mustHaveASAN">
            <h2>mustHaveASAN</h2>
            <hr />
            
            <pre><code>func mustHaveASAN(t *testing.T) *config</code></pre>
         </article>
         
         <article class="function" data-name="requireOvercommit">
            <h2>requireOvercommit</h2>
            <hr />
            
            <p>requireOvercommit skips t if the kernel does not allow overcommit.</p>
            
            <pre><code>func requireOvercommit(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="goEnv">
            <h2>goEnv</h2>
            <hr />
            
            <p>goEnv returns the output of $(go env) as a map.</p>
            
            <pre><code>func goEnv(key string) (string, error)</code></pre>
         </article>
         
         <article class="function" data-name="replaceEnv">
            <h2>replaceEnv</h2>
            <hr />
            
            <p>replaceEnv sets the key environment variable to value in cmd.</p>
            
            <pre><code>func replaceEnv(cmd *exec.Cmd, key string, value string)</code></pre>
         </article>
         
         <article class="function" data-name="appendExperimentEnv">
            <h2>appendExperimentEnv</h2>
            <hr />
            
            <p>appendExperimentEnv appends comma-separated experiments to GOEXPERIMENT.</p>
            
            <pre><code>func appendExperimentEnv(cmd *exec.Cmd, experiments []string)</code></pre>
         </article>
         
         <article class="function" data-name="mustRun">
            <h2>mustRun</h2>
            <hr />
            
            <p>mustRun executes t and fails cmd with a well-formatted message if it fails.</p>
            
            <pre><code>func mustRun(t *testing.T, cmd *exec.Cmd)</code></pre>
         </article>
         
         <article class="function" data-name="cc">
            <h2>cc</h2>
            <hr />
            
            <p>cc returns a cmd that executes `$(go env CC) $(go env GOGCCFLAGS) $args`.</p>
            
            <pre><code>func cc(args ...string) (*exec.Cmd, error)</code></pre>
         </article>
         
         <article class="function" data-name="compilerVersion">
            <h2>compilerVersion</h2>
            <hr />
            
            <p>compilerVersion detects the version of $(go env CC).

It returns a non-nil error if the compiler matches a known version schema but
the version could not be parsed, or if $(go env CC) could not be determined.</p>
            
            <pre><code>func compilerVersion() (version, error)</code></pre>
         </article>
         
         <article class="function" data-name="compilerSupportsLocation">
            <h2>compilerSupportsLocation</h2>
            <hr />
            
            <p>compilerSupportsLocation reports whether the compiler should be
able to provide file/line information in backtraces.</p>
            
            <pre><code>func compilerSupportsLocation() bool</code></pre>
         </article>
         
         <article class="function" data-name="inLUCIBuild">
            <h2>inLUCIBuild</h2>
            <hr />
            
            <p>inLUCIBuild returns true if we're currently executing in a LUCI build.</p>
            
            <pre><code>func inLUCIBuild() bool</code></pre>
         </article>
         
         <article class="function" data-name="compilerRequiredTsanVersion">
            <h2>compilerRequiredTsanVersion</h2>
            <hr />
            
            <p>compilerRequiredTsanVersion reports whether the compiler is the version required by Tsan.
Only restrictions for ppc64le are known; otherwise return true.</p>
            
            <pre><code>func compilerRequiredTsanVersion(goos string, goarch string) bool</code></pre>
         </article>
         
         <article class="function" data-name="compilerRequiredAsanVersion">
            <h2>compilerRequiredAsanVersion</h2>
            <hr />
            
            <p>compilerRequiredAsanVersion reports whether the compiler is the version required by Asan.</p>
            
            <pre><code>func compilerRequiredAsanVersion(goos string, goarch string) bool</code></pre>
         </article>
         
         <article class="function" data-name="configure">
            <h2>configure</h2>
            <hr />
            
            <p>configure returns the configuration for the given sanitizer.</p>
            
            <pre><code>func configure(sanitizer string) *config</code></pre>
         </article>
         
         <article class="function" data-name="goCmd">
            <h2>goCmd</h2>
            <hr />
            
            <p>goCmd returns a Cmd that executes "go $subcommand $args" with appropriate
additional flags and environment.</p>
            
            <pre><code>func goCmd(subcommand string, args ...string) *exec.Cmd</code></pre>
         </article>
         
         <article class="function" data-name="goCmdWithExperiments">
            <h2>goCmdWithExperiments</h2>
            <hr />
            
            <p>goCmdWithExperiments returns a Cmd that executes
"GOEXPERIMENT=$experiments go $subcommand $args" with appropriate
additional flags and CGO-related environment variables.</p>
            
            <pre><code>func goCmdWithExperiments(subcommand string, args []string, experiments []string) *exec.Cmd</code></pre>
         </article>
         
         <article class="function" data-name="skipIfCSanitizerBroken">
            <h2>skipIfCSanitizerBroken</h2>
            <hr />
            
            <p>skipIfCSanitizerBroken skips t if the C compiler does not produce working
binaries as configured.</p>
            
            <pre><code>func skipIfCSanitizerBroken(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="checkCSanitizer">
            <h2>checkCSanitizer</h2>
            <hr />
            
            <pre><code>func checkCSanitizer() (skip bool, err error)</code></pre>
         </article>
         
         <article class="function" data-name="skipIfRuntimeIncompatible">
            <h2>skipIfRuntimeIncompatible</h2>
            <hr />
            
            <p>skipIfRuntimeIncompatible skips t if the Go runtime is suspected not to work
with cgo as configured.</p>
            
            <pre><code>func skipIfRuntimeIncompatible(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="checkRuntime">
            <h2>checkRuntime</h2>
            <hr />
            
            <pre><code>func checkRuntime() (skip bool, err error)</code></pre>
         </article>
         
         <article class="function" data-name="srcPath">
            <h2>srcPath</h2>
            <hr />
            
            <p>srcPath returns the path to the given file relative to this test's source tree.</p>
            
            <pre><code>func srcPath(path string) string</code></pre>
         </article>
         
         <article class="function" data-name="RemoveAll">
            <h2>RemoveAll</h2>
            <hr />
            
            <pre><code>func RemoveAll(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="Base">
            <h2>Base</h2>
            <hr />
            
            <pre><code>func Base() string</code></pre>
         </article>
         
         <article class="function" data-name="Join">
            <h2>Join</h2>
            <hr />
            
            <pre><code>func Join(name string) string</code></pre>
         </article>
         
         <article class="function" data-name="newTempDir">
            <h2>newTempDir</h2>
            <hr />
            
            <pre><code>func newTempDir(t *testing.T) *tempDir</code></pre>
         </article>
         
         <article class="function" data-name="hangProneCmd">
            <h2>hangProneCmd</h2>
            <hr />
            
            <p>hangProneCmd returns an exec.Cmd for a command that is likely to hang.

If one of these tests hangs, the caller is likely to kill the test process
using SIGINT, which will be sent to all of the processes in the test's group.
Unfortunately, TSAN in particular is prone to dropping signals, so the SIGINT
may terminate the test binary but leave the subprocess running. hangProneCmd
configures subprocess to receive SIGKILL instead to ensure that it won't
leak.</p>
            
            <pre><code>func hangProneCmd(name string, arg ...string) *exec.Cmd</code></pre>
         </article>
         
         <article class="function" data-name="TestShared">
            <h2>TestShared</h2>
            <hr />
            
            <pre><code>func TestShared(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="TestLibFuzzer">
            <h2>TestLibFuzzer</h2>
            <hr />
            
            <pre><code>func TestLibFuzzer(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="libFuzzerSupported">
            <h2>libFuzzerSupported</h2>
            <hr />
            
            <p>libFuzzerSupported is a copy of the function internal/platform.FuzzInstrumented,
because the internal package can't be used here.</p>
            
            <pre><code>func libFuzzerSupported(goos string, goarch string) bool</code></pre>
         </article>
         
         <article class="function" data-name="TestMSAN">
            <h2>TestMSAN</h2>
            <hr />
            
            <pre><code>func TestMSAN(t *testing.T)</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
