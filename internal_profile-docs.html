<!DOCTYPE html>
<html lang="en" data-theme="dark">
   <head>
      <meta charset="UTF-8" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1.0"
      />
      <title>Docs - profile</title>
      <link
         href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
         rel="stylesheet"
      />
      <style>
         html {
            font-size: 13px;
         }
         body {
            display: flex;
            min-height: 100vh;
            margin: 0;
         }
         .sidebar {
            width: 200px;
            background: rgba(59, 56, 56, 0.1);
            padding: 1.2rem;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            margin-right: 7px;
         }
         main {
            flex: 0.9;
            padding: 1rem;
            margin: 0;
            max-width: calc(100% - 220px);
         }
         h1 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
         }
         h2 {
            font-size: 1.2rem;
            margin: 0.3rem 0 0.2rem;
         }
         pre {
            background: #1e1e1e;
            color: #dcdcdc;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            margin: 0 0 1rem;
            font-size: 0.85rem;
            overflow-x: auto;
         }
         code {
            color: #f0dbdb;
            white-space: pre-wrap;
         }
         p {
            font-size: 15px;
            padding-top: 10px;
         }
         article {
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.9rem;
            background: rgba(59, 56, 56, 0.5);
            border-radius: 10px;
            max-width: 99%;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
         }
         .hidden {
            display: none;
         }
         .filter-toggle label {
            display: block;
            margin-bottom: 0.5rem;
         }
         .field-line {
            display: block;
         }
      </style>
   </head>
   <body>
      <aside class="sidebar">
         <a href="index.html">⌂</a>
         |
         <a href="#" onclick="history.back()">←</a>
         <hr style="opacity: 0" />
         <h2>Filters</h2>
         <hr />
         <input
            type="search"
            id="searchInput"
            placeholder="Search symbols..."
            style="
               width: 100%;
               margin-bottom: 1rem;
               margin-top: 0.8rem;
               border-radius: 10px !important;
               height: 50px;
               height: 2.5rem;
            "
         />
         <div class="filter-toggle">
            <label>
               <input type="checkbox" id="showPrivateFunctions" />
               Show private functions
            </label>
            <label>
               <input type="checkbox" id="showPrivateStructs" />
               Show private structs
            </label>
            <label>
               <input type="checkbox" id="showPrivateFields" />
               Show private struct fields
            </label>
            <label>
               <input type="checkbox" id="showPrivateGlobals" />
               Show private globals
            </label>
         </div>
         <hr style="opacity: 0" />
         <h2 style="padding-top: 5px">Subpackages</h2>
         <hr />
         
         <span style="color: rgba(177, 175, 175, 0.5)">
            No subpackages
         </span>
         
      </aside>
      <main>
         <h1>
            Package
            <code>profile</code>
         </h1>
         <hr />
         
         <article class="global" data-name="profileDecoder">
            <h2>profileDecoder</h2>
            <hr />
            
            <pre><code>profileDecoder</code></pre>
         </article>
         
         <article class="global" data-name="valueTypeDecoder">
            <h2>valueTypeDecoder</h2>
            <hr />
            
            <pre><code>valueTypeDecoder</code></pre>
         </article>
         
         <article class="global" data-name="sampleDecoder">
            <h2>sampleDecoder</h2>
            <hr />
            
            <pre><code>sampleDecoder</code></pre>
         </article>
         
         <article class="global" data-name="labelDecoder">
            <h2>labelDecoder</h2>
            <hr />
            
            <pre><code>labelDecoder</code></pre>
         </article>
         
         <article class="global" data-name="mappingDecoder">
            <h2>mappingDecoder</h2>
            <hr />
            
            <pre><code>mappingDecoder</code></pre>
         </article>
         
         <article class="global" data-name="locationDecoder">
            <h2>locationDecoder</h2>
            <hr />
            
            <pre><code>locationDecoder</code></pre>
         </article>
         
         <article class="global" data-name="lineDecoder">
            <h2>lineDecoder</h2>
            <hr />
            
            <pre><code>lineDecoder</code></pre>
         </article>
         
         <article class="global" data-name="functionDecoder">
            <h2>functionDecoder</h2>
            <hr />
            
            <pre><code>functionDecoder</code></pre>
         </article>
         
         <article class="global" data-name="errMalformed">
            <h2>errMalformed</h2>
            <hr />
            
            <pre><code>errMalformed</code></pre>
         </article>
         
         <article class="global" data-name="ErrNoData">
            <h2>ErrNoData</h2>
            <hr />
            
            <pre><code>ErrNoData</code></pre>
         </article>
          
         <article class="struct" data-name="packedInts">
            <h2>type packedInts struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">uint64s []uint64
int64s []int64</code></pre>
         </article>
         
         <article class="struct" data-name="Options">
            <h2>type Options struct</h2>
            <hr />
            
            <p>Options encodes the options for constructing a graph</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">SampleValue func
SampleMeanDivisor func
DropNegative bool
KeptNodes NodeSet</code></pre>
         </article>
         
         <article class="struct" data-name="Node">
            <h2>type Node struct</h2>
            <hr />
            
            <p>Node is an entry on a profiling report. It represents a unique
program location.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">Info NodeInfo
Function *Node
Flat int64
FlatDiv int64
Cum int64
CumDiv int64
In EdgeMap
Out EdgeMap</code></pre>
         </article>
         
         <article class="struct" data-name="Graph">
            <h2>type Graph struct</h2>
            <hr />
            
            <p>Graph summarizes a performance profile into a format that is
suitable for visualization.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">Nodes Nodes</code></pre>
         </article>
         
         <article class="struct" data-name="NodeInfo">
            <h2>type NodeInfo struct</h2>
            <hr />
            
            <p>NodeInfo contains the attributes for a node.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">Name string
Address uint64
StartLine int
Lineno int</code></pre>
         </article>
         
         <article class="struct" data-name="Edge">
            <h2>type Edge struct</h2>
            <hr />
            
            <p>Edge contains any attributes to be represented about edges in a graph.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">Src *Node
Dest *Node
Weight int64
WeightDiv int64
Residual bool
Inline bool</code></pre>
         </article>
         
         <article class="struct" data-name="nodePair">
            <h2>type nodePair struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">src *Node
dest *Node</code></pre>
         </article>
         
         <article class="struct" data-name="locationMap">
            <h2>type locationMap struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">s []Nodes
m *ast.MapType</code></pre>
         </article>
         
         <article class="struct" data-name="profileMerger">
            <h2>type profileMerger struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">p *Profile
locationsByID *ast.MapType
functionsByID *ast.MapType
mappingsByID *ast.MapType
samples *ast.MapType
locations *ast.MapType
functions *ast.MapType
mappings *ast.MapType</code></pre>
         </article>
         
         <article class="struct" data-name="mapInfo">
            <h2>type mapInfo struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">m *Mapping
offset int64</code></pre>
         </article>
         
         <article class="struct" data-name="sampleKey">
            <h2>type sampleKey struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">locations string
labels string
numlabels string</code></pre>
         </article>
         
         <article class="struct" data-name="locationKey">
            <h2>type locationKey struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">addr uint64
mappingID uint64
lines string
isFolded bool</code></pre>
         </article>
         
         <article class="struct" data-name="mappingKey">
            <h2>type mappingKey struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">size uint64
offset uint64
buildIDOrFile string</code></pre>
         </article>
         
         <article class="struct" data-name="functionKey">
            <h2>type functionKey struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">startLine int64
name string
systemName string
fileName string</code></pre>
         </article>
         
         <article class="struct" data-name="Profile">
            <h2>type Profile struct</h2>
            <hr />
            
            <p>Profile is an in-memory representation of profile.proto.</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">SampleType []*ValueType
DefaultSampleType string
Sample []*Sample
Mapping []*Mapping
Location []*Location
Function []*Function
Comments []string
DropFrames string
KeepFrames string
TimeNanos int64
DurationNanos int64
PeriodType *ValueType
Period int64
commentX []int64
dropFramesX int64
keepFramesX int64
stringTable []string
defaultSampleTypeX int64</code></pre>
         </article>
         
         <article class="struct" data-name="ValueType">
            <h2>type ValueType struct</h2>
            <hr />
            
            <p>ValueType corresponds to Profile.ValueType</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">Type string
Unit string
typeX int64
unitX int64</code></pre>
         </article>
         
         <article class="struct" data-name="Sample">
            <h2>type Sample struct</h2>
            <hr />
            
            <p>Sample corresponds to Profile.Sample</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">Location []*Location
Value []int64
Label *ast.MapType
NumLabel *ast.MapType
NumUnit *ast.MapType
locationIDX []uint64
labelX []Label</code></pre>
         </article>
         
         <article class="struct" data-name="Label">
            <h2>type Label struct</h2>
            <hr />
            
            <p>Label corresponds to Profile.Label</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">keyX int64
strX int64
numX int64</code></pre>
         </article>
         
         <article class="struct" data-name="Mapping">
            <h2>type Mapping struct</h2>
            <hr />
            
            <p>Mapping corresponds to Profile.Mapping</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">ID uint64
Start uint64
Limit uint64
Offset uint64
File string
BuildID string
HasFunctions bool
HasFilenames bool
HasLineNumbers bool
HasInlineFrames bool
fileX int64
buildIDX int64</code></pre>
         </article>
         
         <article class="struct" data-name="Location">
            <h2>type Location struct</h2>
            <hr />
            
            <p>Location corresponds to Profile.Location</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">ID uint64
Mapping *Mapping
Address uint64
Line []Line
IsFolded bool
mappingIDX uint64</code></pre>
         </article>
         
         <article class="struct" data-name="Line">
            <h2>type Line struct</h2>
            <hr />
            
            <p>Line corresponds to Profile.Line</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">Function *Function
Line int64
functionIDX uint64</code></pre>
         </article>
         
         <article class="struct" data-name="Function">
            <h2>type Function struct</h2>
            <hr />
            
            <p>Function corresponds to Profile.Function</p>
            
            <pre
               class="fields-block"
            ><code class="fields-code">ID uint64
Name string
SystemName string
Filename string
StartLine int64
nameX int64
systemNameX int64
filenameX int64</code></pre>
         </article>
         
         <article class="struct" data-name="buffer">
            <h2>type buffer struct</h2>
            <hr />
            
            <pre
               class="fields-block"
            ><code class="fields-code">field int
typ int
u64 uint64
data []byte
tmp []byte</code></pre>
         </article>
          
         <article class="function" data-name="TestPackedEncoding">
            <h2>TestPackedEncoding</h2>
            <hr />
            
            <pre><code>func TestPackedEncoding(t *testing.T)</code></pre>
         </article>
         
         <article class="function" data-name="decoder">
            <h2>decoder</h2>
            <hr />
            
            <pre><code>func decoder() []decoder</code></pre>
         </article>
         
         <article class="function" data-name="encode">
            <h2>encode</h2>
            <hr />
            
            <pre><code>func encode(b *buffer)</code></pre>
         </article>
         
         <article class="function" data-name="Prune">
            <h2>Prune</h2>
            <hr />
            
            <p>Prune removes all nodes beneath a node matching dropRx, and not
matching keepRx. If the root node of a Sample matches, the sample
will have an empty stack.</p>
            
            <pre><code>func Prune(dropRx *regexp.Regexp, keepRx *regexp.Regexp)</code></pre>
         </article>
         
         <article class="function" data-name="RemoveUninteresting">
            <h2>RemoveUninteresting</h2>
            <hr />
            
            <p>RemoveUninteresting prunes and elides profiles using built-in
tables of uninteresting function names.</p>
            
            <pre><code>func RemoveUninteresting() error</code></pre>
         </article>
         
         <article class="function" data-name="decoder">
            <h2>decoder</h2>
            <hr />
            
            <pre><code>func decoder() []decoder</code></pre>
         </article>
         
         <article class="function" data-name="preEncode">
            <h2>preEncode</h2>
            <hr />
            
            <p>preEncode populates the unexported fields to be used by encode
(with suffix X) from the corresponding exported fields. The
exported fields are cleared up to facilitate testing.</p>
            
            <pre><code>func preEncode()</code></pre>
         </article>
         
         <article class="function" data-name="encode">
            <h2>encode</h2>
            <hr />
            
            <pre><code>func encode(b *buffer)</code></pre>
         </article>
         
         <article class="function" data-name="postDecode">
            <h2>postDecode</h2>
            <hr />
            
            <p>postDecode takes the unexported fields populated by decode (with
suffix X) and populates the corresponding exported fields.
The unexported fields are cleared up to facilitate testing.</p>
            
            <pre><code>func postDecode() error</code></pre>
         </article>
         
         <article class="function" data-name="decoder">
            <h2>decoder</h2>
            <hr />
            
            <pre><code>func decoder() []decoder</code></pre>
         </article>
         
         <article class="function" data-name="encode">
            <h2>encode</h2>
            <hr />
            
            <pre><code>func encode(b *buffer)</code></pre>
         </article>
         
         <article class="function" data-name="decoder">
            <h2>decoder</h2>
            <hr />
            
            <pre><code>func decoder() []decoder</code></pre>
         </article>
         
         <article class="function" data-name="encode">
            <h2>encode</h2>
            <hr />
            
            <pre><code>func encode(b *buffer)</code></pre>
         </article>
         
         <article class="function" data-name="decoder">
            <h2>decoder</h2>
            <hr />
            
            <pre><code>func decoder() []decoder</code></pre>
         </article>
         
         <article class="function" data-name="encode">
            <h2>encode</h2>
            <hr />
            
            <pre><code>func encode(b *buffer)</code></pre>
         </article>
         
         <article class="function" data-name="decoder">
            <h2>decoder</h2>
            <hr />
            
            <pre><code>func decoder() []decoder</code></pre>
         </article>
         
         <article class="function" data-name="encode">
            <h2>encode</h2>
            <hr />
            
            <pre><code>func encode(b *buffer)</code></pre>
         </article>
         
         <article class="function" data-name="decoder">
            <h2>decoder</h2>
            <hr />
            
            <pre><code>func decoder() []decoder</code></pre>
         </article>
         
         <article class="function" data-name="encode">
            <h2>encode</h2>
            <hr />
            
            <pre><code>func encode(b *buffer)</code></pre>
         </article>
         
         <article class="function" data-name="decoder">
            <h2>decoder</h2>
            <hr />
            
            <pre><code>func decoder() []decoder</code></pre>
         </article>
         
         <article class="function" data-name="encode">
            <h2>encode</h2>
            <hr />
            
            <pre><code>func encode(b *buffer)</code></pre>
         </article>
         
         <article class="function" data-name="decoder">
            <h2>decoder</h2>
            <hr />
            
            <pre><code>func decoder() []decoder</code></pre>
         </article>
         
         <article class="function" data-name="encode">
            <h2>encode</h2>
            <hr />
            
            <pre><code>func encode(b *buffer)</code></pre>
         </article>
         
         <article class="function" data-name="addString">
            <h2>addString</h2>
            <hr />
            
            <pre><code>func addString(strings *ast.MapType, s string) int64</code></pre>
         </article>
         
         <article class="function" data-name="getString">
            <h2>getString</h2>
            <hr />
            
            <pre><code>func getString(strings []string, strng *int64, err error) (string, error)</code></pre>
         </article>
         
         <article class="function" data-name="FilterSamplesByTag">
            <h2>FilterSamplesByTag</h2>
            <hr />
            
            <p>FilterSamplesByTag removes all samples from the profile, except
those that match focus and do not match the ignore regular
expression.</p>
            
            <pre><code>func FilterSamplesByTag(focus TagMatch, ignore TagMatch) (fm bool, im bool)</code></pre>
         </article>
         
         <article class="function" data-name="focusedSample">
            <h2>focusedSample</h2>
            <hr />
            
            <p>focusedSample checks a sample against focus and ignore regexps.
Returns whether the focus/ignore regexps match any tags.</p>
            
            <pre><code>func focusedSample(s *Sample, focus TagMatch, ignore TagMatch) (fm bool, im bool)</code></pre>
         </article>
         
         <article class="function" data-name="FlatValue">
            <h2>FlatValue</h2>
            <hr />
            
            <p>FlatValue returns the exclusive value for this node, computing the
mean if a divisor is available.</p>
            
            <pre><code>func FlatValue() int64</code></pre>
         </article>
         
         <article class="function" data-name="CumValue">
            <h2>CumValue</h2>
            <hr />
            
            <p>CumValue returns the inclusive value for this node, computing the
mean if a divisor is available.</p>
            
            <pre><code>func CumValue() int64</code></pre>
         </article>
         
         <article class="function" data-name="AddToEdge">
            <h2>AddToEdge</h2>
            <hr />
            
            <p>AddToEdge increases the weight of an edge between two nodes. If
there isn't such an edge one is created.</p>
            
            <pre><code>func AddToEdge(to *Node, v int64, residual bool, inline bool)</code></pre>
         </article>
         
         <article class="function" data-name="AddToEdgeDiv">
            <h2>AddToEdgeDiv</h2>
            <hr />
            
            <p>AddToEdgeDiv increases the weight of an edge between two nodes. If
there isn't such an edge one is created.</p>
            
            <pre><code>func AddToEdgeDiv(to *Node, dv int64, v int64, residual bool, inline bool)</code></pre>
         </article>
         
         <article class="function" data-name="PrintableName">
            <h2>PrintableName</h2>
            <hr />
            
            <p>PrintableName calls the Node's Formatter function with a single space separator.</p>
            
            <pre><code>func PrintableName() string</code></pre>
         </article>
         
         <article class="function" data-name="NameComponents">
            <h2>NameComponents</h2>
            <hr />
            
            <p>NameComponents returns the components of the printable name to be used for a node.</p>
            
            <pre><code>func NameComponents() []string</code></pre>
         </article>
         
         <article class="function" data-name="FindOrInsertNode">
            <h2>FindOrInsertNode</h2>
            <hr />
            
            <p>FindOrInsertNode takes the info for a node and either returns a matching node
from the node map if one exists, or adds one to the map if one does not.
If kept is non-nil, nodes are only added if they can be located on it.</p>
            
            <pre><code>func FindOrInsertNode(info NodeInfo, kept NodeSet) *Node</code></pre>
         </article>
         
         <article class="function" data-name="FindTo">
            <h2>FindTo</h2>
            <hr />
            
            <pre><code>func FindTo(n *Node) *Edge</code></pre>
         </article>
         
         <article class="function" data-name="Add">
            <h2>Add</h2>
            <hr />
            
            <pre><code>func Add(e *Edge)</code></pre>
         </article>
         
         <article class="function" data-name="Delete">
            <h2>Delete</h2>
            <hr />
            
            <pre><code>func Delete(e *Edge)</code></pre>
         </article>
         
         <article class="function" data-name="WeightValue">
            <h2>WeightValue</h2>
            <hr />
            
            <p>WeightValue returns the weight value for this edge, normalizing if a
divisor is available.</p>
            
            <pre><code>func WeightValue() int64</code></pre>
         </article>
         
         <article class="function" data-name="NewGraph">
            <h2>NewGraph</h2>
            <hr />
            
            <p>NewGraph computes a graph from a profile.</p>
            
            <pre><code>func NewGraph(prof *Profile, o *Options) *Graph</code></pre>
         </article>
         
         <article class="function" data-name="selectNodesForGraph">
            <h2>selectNodesForGraph</h2>
            <hr />
            
            <pre><code>func selectNodesForGraph(nodes Nodes, dropNegative bool) *Graph</code></pre>
         </article>
         
         <article class="function" data-name="isNegative">
            <h2>isNegative</h2>
            <hr />
            
            <p>isNegative returns true if the node is considered as "negative" for the
purposes of drop_negative.</p>
            
            <pre><code>func isNegative(n *Node) bool</code></pre>
         </article>
         
         <article class="function" data-name="add">
            <h2>add</h2>
            <hr />
            
            <pre><code>func add(id uint64, n Nodes)</code></pre>
         </article>
         
         <article class="function" data-name="get">
            <h2>get</h2>
            <hr />
            
            <pre><code>func get(id uint64) Nodes</code></pre>
         </article>
         
         <article class="function" data-name="CreateNodes">
            <h2>CreateNodes</h2>
            <hr />
            
            <p>CreateNodes creates graph nodes for all locations in a profile. It
returns set of all nodes, plus a mapping of each location to the
set of corresponding nodes (one per location.Line).</p>
            
            <pre><code>func CreateNodes(prof *Profile, o *Options) (Nodes, locationMap)</code></pre>
         </article>
         
         <article class="function" data-name="nodes">
            <h2>nodes</h2>
            <hr />
            
            <pre><code>func nodes() Nodes</code></pre>
         </article>
         
         <article class="function" data-name="findOrInsertLine">
            <h2>findOrInsertLine</h2>
            <hr />
            
            <pre><code>func findOrInsertLine(l *Location, li Line, o *Options) *Node</code></pre>
         </article>
         
         <article class="function" data-name="nodeInfo">
            <h2>nodeInfo</h2>
            <hr />
            
            <pre><code>func nodeInfo(l *Location, line Line, objfile string, o *Options) *NodeInfo</code></pre>
         </article>
         
         <article class="function" data-name="Sum">
            <h2>Sum</h2>
            <hr />
            
            <p>Sum adds the flat and cum values of a set of nodes.</p>
            
            <pre><code>func Sum() (flat int64, cum int64)</code></pre>
         </article>
         
         <article class="function" data-name="addSample">
            <h2>addSample</h2>
            <hr />
            
            <pre><code>func addSample(dw int64, w int64, flat bool)</code></pre>
         </article>
         
         <article class="function" data-name="String">
            <h2>String</h2>
            <hr />
            
            <p>String returns a text representation of a graph, for debugging purposes.</p>
            
            <pre><code>func String() string</code></pre>
         </article>
         
         <article class="function" data-name="Sort">
            <h2>Sort</h2>
            <hr />
            
            <p>Sort returns a slice of the edges in the map, in a consistent
order. The sort order is first based on the edge weight
(higher-to-lower) and then by the node names to avoid flakiness.</p>
            
            <pre><code>func Sort() []*Edge</code></pre>
         </article>
         
         <article class="function" data-name="Sum">
            <h2>Sum</h2>
            <hr />
            
            <p>Sum returns the total weight for a set of nodes.</p>
            
            <pre><code>func Sum() int64</code></pre>
         </article>
         
         <article class="function" data-name="Len">
            <h2>Len</h2>
            <hr />
            
            <pre><code>func Len() int</code></pre>
         </article>
         
         <article class="function" data-name="Less">
            <h2>Less</h2>
            <hr />
            
            <pre><code>func Less(i int, j int) bool</code></pre>
         </article>
         
         <article class="function" data-name="Swap">
            <h2>Swap</h2>
            <hr />
            
            <pre><code>func Swap(i int, j int)</code></pre>
         </article>
         
         <article class="function" data-name="abs64">
            <h2>abs64</h2>
            <hr />
            
            <pre><code>func abs64(i int64) int64</code></pre>
         </article>
         
         <article class="function" data-name="Merge">
            <h2>Merge</h2>
            <hr />
            
            <p>Merge merges all the profiles in profs into a single Profile.
Returns a new profile independent of the input profiles. The merged
profile is compacted to eliminate unused samples, locations,
functions and mappings. Profiles must have identical profile sample
and period types or the merge will fail. profile.Period of the
resulting profile will be the maximum of all profiles, and
profile.TimeNanos will be the earliest nonzero one.</p>
            
            <pre><code>func Merge(srcs []*Profile) (*Profile, error)</code></pre>
         </article>
         
         <article class="function" data-name="Normalize">
            <h2>Normalize</h2>
            <hr />
            
            <p>Normalize normalizes the source profile by multiplying each value in profile by the
ratio of the sum of the base profile's values of that sample type to the sum of the
source profile's value of that sample type.</p>
            
            <pre><code>func Normalize(pb *Profile) error</code></pre>
         </article>
         
         <article class="function" data-name="isZeroSample">
            <h2>isZeroSample</h2>
            <hr />
            
            <pre><code>func isZeroSample(s *Sample) bool</code></pre>
         </article>
         
         <article class="function" data-name="mapSample">
            <h2>mapSample</h2>
            <hr />
            
            <pre><code>func mapSample(src *Sample) *Sample</code></pre>
         </article>
         
         <article class="function" data-name="key">
            <h2>key</h2>
            <hr />
            
            <p>key generates sampleKey to be used as a key for maps.</p>
            
            <pre><code>func key() sampleKey</code></pre>
         </article>
         
         <article class="function" data-name="mapLocation">
            <h2>mapLocation</h2>
            <hr />
            
            <pre><code>func mapLocation(src *Location) *Location</code></pre>
         </article>
         
         <article class="function" data-name="key">
            <h2>key</h2>
            <hr />
            
            <p>key generates locationKey to be used as a key for maps.</p>
            
            <pre><code>func key() locationKey</code></pre>
         </article>
         
         <article class="function" data-name="mapMapping">
            <h2>mapMapping</h2>
            <hr />
            
            <pre><code>func mapMapping(src *Mapping) mapInfo</code></pre>
         </article>
         
         <article class="function" data-name="key">
            <h2>key</h2>
            <hr />
            
            <p>key generates encoded strings of Mapping to be used as a key for
maps.</p>
            
            <pre><code>func key() mappingKey</code></pre>
         </article>
         
         <article class="function" data-name="mapLine">
            <h2>mapLine</h2>
            <hr />
            
            <pre><code>func mapLine(src Line) Line</code></pre>
         </article>
         
         <article class="function" data-name="mapFunction">
            <h2>mapFunction</h2>
            <hr />
            
            <pre><code>func mapFunction(src *Function) *Function</code></pre>
         </article>
         
         <article class="function" data-name="key">
            <h2>key</h2>
            <hr />
            
            <p>key generates a struct to be used as a key for maps.</p>
            
            <pre><code>func key() functionKey</code></pre>
         </article>
         
         <article class="function" data-name="combineHeaders">
            <h2>combineHeaders</h2>
            <hr />
            
            <p>combineHeaders checks that all profiles can be merged and returns
their combined profile.</p>
            
            <pre><code>func combineHeaders(srcs []*Profile) (*Profile, error)</code></pre>
         </article>
         
         <article class="function" data-name="compatible">
            <h2>compatible</h2>
            <hr />
            
            <p>compatible determines if two profiles can be compared/merged.
returns nil if the profiles are compatible; otherwise an error with
details on the incompatibility.</p>
            
            <pre><code>func compatible(pb *Profile) error</code></pre>
         </article>
         
         <article class="function" data-name="equalValueType">
            <h2>equalValueType</h2>
            <hr />
            
            <p>equalValueType returns true if the two value types are semantically
equal. It ignores the internal fields used during encode/decode.</p>
            
            <pre><code>func equalValueType(st1 *ValueType, st2 *ValueType) bool</code></pre>
         </article>
         
         <article class="function" data-name="Parse">
            <h2>Parse</h2>
            <hr />
            
            <p>Parse parses a profile and checks for its validity. The input must be an
encoded pprof protobuf, which may optionally be gzip-compressed.</p>
            
            <pre><code>func Parse(r io.Reader) (*Profile, error)</code></pre>
         </article>
         
         <article class="function" data-name="parseUncompressed">
            <h2>parseUncompressed</h2>
            <hr />
            
            <pre><code>func parseUncompressed(data []byte) (*Profile, error)</code></pre>
         </article>
         
         <article class="function" data-name="Write">
            <h2>Write</h2>
            <hr />
            
            <p>Write writes the profile as a gzip-compressed marshaled protobuf.</p>
            
            <pre><code>func Write(w io.Writer) error</code></pre>
         </article>
         
         <article class="function" data-name="CheckValid">
            <h2>CheckValid</h2>
            <hr />
            
            <p>CheckValid tests whether the profile is valid. Checks include, but are
not limited to:
  - len(Profile.Sample[n].value) == len(Profile.value_unit)
  - Sample.id has a corresponding Profile.Location</p>
            
            <pre><code>func CheckValid() error</code></pre>
         </article>
         
         <article class="function" data-name="Aggregate">
            <h2>Aggregate</h2>
            <hr />
            
            <p>Aggregate merges the locations in the profile into equivalence
classes preserving the request attributes. It also updates the
samples to point to the merged locations.</p>
            
            <pre><code>func Aggregate(inlineFrame bool, function bool, filename bool, linenumber bool, address bool) error</code></pre>
         </article>
         
         <article class="function" data-name="String">
            <h2>String</h2>
            <hr />
            
            <p>Print dumps a text representation of a profile. Intended mainly
for debugging purposes.</p>
            
            <pre><code>func String() string</code></pre>
         </article>
         
         <article class="function" data-name="Merge">
            <h2>Merge</h2>
            <hr />
            
            <p>Merge adds profile p adjusted by ratio r into profile p. Profiles
must be compatible (same Type and SampleType).
TODO(rsilvera): consider normalizing the profiles based on the
total samples collected.</p>
            
            <pre><code>func Merge(pb *Profile, r float64) error</code></pre>
         </article>
         
         <article class="function" data-name="Compatible">
            <h2>Compatible</h2>
            <hr />
            
            <p>Compatible determines if two profiles can be compared/merged.
returns nil if the profiles are compatible; otherwise an error with
details on the incompatibility.</p>
            
            <pre><code>func Compatible(pb *Profile) error</code></pre>
         </article>
         
         <article class="function" data-name="HasFunctions">
            <h2>HasFunctions</h2>
            <hr />
            
            <p>HasFunctions determines if all locations in this profile have
symbolized function information.</p>
            
            <pre><code>func HasFunctions() bool</code></pre>
         </article>
         
         <article class="function" data-name="HasFileLines">
            <h2>HasFileLines</h2>
            <hr />
            
            <p>HasFileLines determines if all locations in this profile have
symbolized file and line number information.</p>
            
            <pre><code>func HasFileLines() bool</code></pre>
         </article>
         
         <article class="function" data-name="compatibleValueTypes">
            <h2>compatibleValueTypes</h2>
            <hr />
            
            <pre><code>func compatibleValueTypes(v1 *ValueType, v2 *ValueType) bool</code></pre>
         </article>
         
         <article class="function" data-name="Copy">
            <h2>Copy</h2>
            <hr />
            
            <p>Copy makes a fully independent copy of a profile.</p>
            
            <pre><code>func Copy() *Profile</code></pre>
         </article>
         
         <article class="function" data-name="Demangle">
            <h2>Demangle</h2>
            <hr />
            
            <p>Demangle attempts to demangle and optionally simplify any function
names referenced in the profile. It works on a best-effort basis:
it will silently preserve the original names in case of any errors.</p>
            
            <pre><code>func Demangle(d Demangler) error</code></pre>
         </article>
         
         <article class="function" data-name="Empty">
            <h2>Empty</h2>
            <hr />
            
            <p>Empty reports whether the profile contains no samples.</p>
            
            <pre><code>func Empty() bool</code></pre>
         </article>
         
         <article class="function" data-name="Scale">
            <h2>Scale</h2>
            <hr />
            
            <p>Scale multiplies all sample values in a profile by a constant.</p>
            
            <pre><code>func Scale(ratio float64)</code></pre>
         </article>
         
         <article class="function" data-name="ScaleN">
            <h2>ScaleN</h2>
            <hr />
            
            <p>ScaleN multiplies each sample values in a sample by a different amount.</p>
            
            <pre><code>func ScaleN(ratios []float64) error</code></pre>
         </article>
         
         <article class="function" data-name="marshal">
            <h2>marshal</h2>
            <hr />
            
            <pre><code>func marshal(m message) []byte</code></pre>
         </article>
         
         <article class="function" data-name="encodeVarint">
            <h2>encodeVarint</h2>
            <hr />
            
            <pre><code>func encodeVarint(b *buffer, x uint64)</code></pre>
         </article>
         
         <article class="function" data-name="encodeLength">
            <h2>encodeLength</h2>
            <hr />
            
            <pre><code>func encodeLength(b *buffer, tag int, len int)</code></pre>
         </article>
         
         <article class="function" data-name="encodeUint64">
            <h2>encodeUint64</h2>
            <hr />
            
            <pre><code>func encodeUint64(b *buffer, tag int, x uint64)</code></pre>
         </article>
         
         <article class="function" data-name="encodeUint64s">
            <h2>encodeUint64s</h2>
            <hr />
            
            <pre><code>func encodeUint64s(b *buffer, tag int, x []uint64)</code></pre>
         </article>
         
         <article class="function" data-name="encodeUint64Opt">
            <h2>encodeUint64Opt</h2>
            <hr />
            
            <pre><code>func encodeUint64Opt(b *buffer, tag int, x uint64)</code></pre>
         </article>
         
         <article class="function" data-name="encodeInt64">
            <h2>encodeInt64</h2>
            <hr />
            
            <pre><code>func encodeInt64(b *buffer, tag int, x int64)</code></pre>
         </article>
         
         <article class="function" data-name="encodeInt64Opt">
            <h2>encodeInt64Opt</h2>
            <hr />
            
            <pre><code>func encodeInt64Opt(b *buffer, tag int, x int64)</code></pre>
         </article>
         
         <article class="function" data-name="encodeInt64s">
            <h2>encodeInt64s</h2>
            <hr />
            
            <pre><code>func encodeInt64s(b *buffer, tag int, x []int64)</code></pre>
         </article>
         
         <article class="function" data-name="encodeString">
            <h2>encodeString</h2>
            <hr />
            
            <pre><code>func encodeString(b *buffer, tag int, x string)</code></pre>
         </article>
         
         <article class="function" data-name="encodeStrings">
            <h2>encodeStrings</h2>
            <hr />
            
            <pre><code>func encodeStrings(b *buffer, tag int, x []string)</code></pre>
         </article>
         
         <article class="function" data-name="encodeBool">
            <h2>encodeBool</h2>
            <hr />
            
            <pre><code>func encodeBool(b *buffer, tag int, x bool)</code></pre>
         </article>
         
         <article class="function" data-name="encodeBoolOpt">
            <h2>encodeBoolOpt</h2>
            <hr />
            
            <pre><code>func encodeBoolOpt(b *buffer, tag int, x bool)</code></pre>
         </article>
         
         <article class="function" data-name="encodeMessage">
            <h2>encodeMessage</h2>
            <hr />
            
            <pre><code>func encodeMessage(b *buffer, tag int, m message)</code></pre>
         </article>
         
         <article class="function" data-name="unmarshal">
            <h2>unmarshal</h2>
            <hr />
            
            <pre><code>func unmarshal(data []byte, m message) err error</code></pre>
         </article>
         
         <article class="function" data-name="le64">
            <h2>le64</h2>
            <hr />
            
            <pre><code>func le64(p []byte) uint64</code></pre>
         </article>
         
         <article class="function" data-name="le32">
            <h2>le32</h2>
            <hr />
            
            <pre><code>func le32(p []byte) uint32</code></pre>
         </article>
         
         <article class="function" data-name="decodeVarint">
            <h2>decodeVarint</h2>
            <hr />
            
            <pre><code>func decodeVarint(data []byte) (uint64, []byte, error)</code></pre>
         </article>
         
         <article class="function" data-name="decodeField">
            <h2>decodeField</h2>
            <hr />
            
            <pre><code>func decodeField(b *buffer, data []byte) ([]byte, error)</code></pre>
         </article>
         
         <article class="function" data-name="checkType">
            <h2>checkType</h2>
            <hr />
            
            <pre><code>func checkType(b *buffer, typ int) error</code></pre>
         </article>
         
         <article class="function" data-name="decodeMessage">
            <h2>decodeMessage</h2>
            <hr />
            
            <pre><code>func decodeMessage(b *buffer, m message) error</code></pre>
         </article>
         
         <article class="function" data-name="decodeInt64">
            <h2>decodeInt64</h2>
            <hr />
            
            <pre><code>func decodeInt64(b *buffer, x *int64) error</code></pre>
         </article>
         
         <article class="function" data-name="decodeInt64s">
            <h2>decodeInt64s</h2>
            <hr />
            
            <pre><code>func decodeInt64s(b *buffer, x *[]int64) error</code></pre>
         </article>
         
         <article class="function" data-name="decodeUint64">
            <h2>decodeUint64</h2>
            <hr />
            
            <pre><code>func decodeUint64(b *buffer, x *uint64) error</code></pre>
         </article>
         
         <article class="function" data-name="decodeUint64s">
            <h2>decodeUint64s</h2>
            <hr />
            
            <pre><code>func decodeUint64s(b *buffer, x *[]uint64) error</code></pre>
         </article>
         
         <article class="function" data-name="decodeString">
            <h2>decodeString</h2>
            <hr />
            
            <pre><code>func decodeString(b *buffer, x *string) error</code></pre>
         </article>
         
         <article class="function" data-name="decodeStrings">
            <h2>decodeStrings</h2>
            <hr />
            
            <pre><code>func decodeStrings(b *buffer, x *[]string) error</code></pre>
         </article>
         
         <article class="function" data-name="decodeBool">
            <h2>decodeBool</h2>
            <hr />
            
            <pre><code>func decodeBool(b *buffer, x *bool) error</code></pre>
         </article>
         
      </main>
      <script>
         function isPrivate(name) {
            return /^[a-z]/.test(name);
         }
         document.addEventListener("DOMContentLoaded", () => {
            const toggles = {
               functions: document.getElementById("showPrivateFunctions"),
               structs: document.getElementById("showPrivateStructs"),
               fields: document.getElementById("showPrivateFields"),
               globals: document.getElementById("showPrivateGlobals"),
            };
            const hideInitial = (selector, toggle) => {
               document.querySelectorAll(selector).forEach((el) => {
                  const name = el.dataset.name;
                  if (isPrivate(name)) {
                     el.classList.add("private", "hidden");
                  }
               });
               toggle.addEventListener("change", () => {
                  const show = toggle.checked;
                  document
                     .querySelectorAll(`${selector}.private`)
                     .forEach((el) => {
                        el.classList.toggle("hidden", !show);
                     });
               });
            };
            hideInitial("article.function", toggles.functions);
            hideInitial("article.struct", toggles.structs);
            hideInitial("article.global", toggles.globals);
            document
               .querySelectorAll("article.struct")
               .forEach((article) => {
                  const codeBlock =
                     article.querySelector("code.fields-code");
                  if (!codeBlock) return;
                  const lines = codeBlock.innerText.split("\n");
                  const newContent = lines
                     .map((line) => {
                        const trimmed = line.trim();
                        const nameMatch = trimmed.match(
                           /^([A-Za-z_][A-Za-z0-9_]*)/
                        );
                        if (!nameMatch)
                           return `<span class=\"field-line\">${line}</span>`;
                        const name = nameMatch[1];
                        const isPriv = isPrivate(name);
                        return `<span class=\"field-line${
                           isPriv ? " hidden private" : ""
                        }\" data-name=\"${name}\">${line}</span>`;
                     })
                     .join("");
                  codeBlock.innerHTML = newContent;
                  toggles.fields.addEventListener("change", () => {
                     const show = toggles.fields.checked;
                     article
                        .querySelectorAll(".field-line.private")
                        .forEach((el) =>
                           el.classList.toggle("hidden", !show)
                        );
                  });
               });
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", () => {
               const query = searchInput.value.trim().toLowerCase();
               document.querySelectorAll("article").forEach((el) => {
                  const name = el.dataset.name.toLowerCase();
                  if (query === "" || name.includes(query)) {
                     el.classList.remove("hidden");
                  } else {
                     el.classList.add("hidden");
                  }
               });
            });
         });
      </script>
   </body>
</html>
